import{c as j,j as c,r as b,h as _}from"./index-oQiJtYgt.js";const y="_inner_18nbr_1",C={inner:y};function T(e){const t=j.c(7),{cart:n}=e;let s;t[0]!==n?(s=n===void 0?[]:n,t[0]=n,t[1]=s):s=t[1];const a=s;let i;if(t[2]!==a){let r;t[4]===Symbol.for("react.memo_cache_sentinel")?(r=(o,d)=>c.jsxs("div",{id:C.inner,children:[c.jsxs("div",{children:["title: ",o.title]}),c.jsxs("div",{children:["id: ",o.id]}),c.jsxs("div",{children:["count: ",o.count||0]})]},`cart_${d}`),t[4]=r):r=t[4],i=a.map(r),t[2]=a,t[3]=i}else i=t[3];let l;return t[5]!==i?(l=c.jsx("div",{children:i}),t[5]=i,t[6]=l):l=t[6],l}async function A(e,t,n){const s=t.get("id"),a=t.get("title");return await new Promise(i=>{setTimeout(()=>{n({id:s,title:a,count:e+1}),i()},300)}),e+1}function p(e){const t=j.c(17),{id:n,title:s,onSubmit:a}=e;let i;t[0]!==a?(i=(v,S)=>A(v,S,a),t[0]=a,t[1]=i):i=t[1];const[l,r]=b.useActionState(i,0);let o,d;t[2]!==s?(o=c.jsxs("h2",{children:["book name: ",s]}),d=c.jsx("input",{type:"hidden",name:"title",value:s}),t[2]=s,t[3]=o,t[4]=d):(o=t[3],d=t[4]);let m;t[5]!==n?(m=c.jsx("input",{type:"hidden",name:"id",value:n}),t[5]=n,t[6]=m):m=t[6];let x;t[7]===Symbol.for("react.memo_cache_sentinel")?(x={marginBottom:"20px"},t[7]=x):x=t[7];let u;t[8]!==l?(u=c.jsxs("div",{style:x,children:["cart count: ",l]}),t[8]=l,t[9]=u):u=t[9];let f;t[10]===Symbol.for("react.memo_cache_sentinel")?(f=c.jsx(g,{}),t[10]=f):f=t[10];let h;return t[11]!==r||t[12]!==o||t[13]!==d||t[14]!==m||t[15]!==u?(h=c.jsxs("form",{action:r,children:[o,d,m,u,f]}),t[11]=r,t[12]=o,t[13]=d,t[14]=m,t[15]=u,t[16]=h):h=t[16],h}function g(){const e=j.c(3),{pending:t}=_.useFormStatus(),n=t?"ADD TO CART...":"ADD TO CART";let s;return e[0]!==t||e[1]!==n?(s=c.jsx("button",{type:"submit",disabled:t,children:n}),e[0]=t,e[1]=n,e[2]=s):s=e[2],s}function $(){const e=j.c(13);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0];const[n,s]=b.useState(t);let a;e[1]!==n?(a=function(x){const u=n.find(f=>f.id===x.id);if(u){u.count=u.count+1,s([...n]);return}s(f=>[...f,x])},e[1]=n,e[2]=a):a=e[2];const i=a;let l;e[3]!==i?(l=c.jsx(p,{id:"001",title:"JavaScript Core advance",onSubmit:i}),e[3]=i,e[4]=l):l=e[4];let r;e[5]!==i?(r=c.jsx(p,{id:"002",title:"React19 all solution",onSubmit:i}),e[5]=i,e[6]=r):r=e[6];let o;e[7]!==n?(o=c.jsx(T,{cart:n}),e[7]=n,e[8]=o):o=e[8];let d;return e[9]!==l||e[10]!==r||e[11]!==o?(d=c.jsxs("div",{children:[l,r,o]}),e[9]=l,e[10]=r,e[11]=o,e[12]=d):d=e[12],d}export{$ as default};
