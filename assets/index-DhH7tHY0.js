import{c as S,r as y,j as r}from"./index-B75hTygv.js";async function w(e){return await new Promise((n,t)=>{setTimeout(()=>{Math.random()>.1?n(e):t(e)},1e3)}),e}const D="_form_1g6xj_14",M="_form_item_1g6xj_14",v="_label_1g6xj_18",E="_primary_1g6xj_33",R="_xxx_1g6xj_41",A={form:D,form_item:M,label:v,primary:E,xxx:R};function H(){const e=S.c(14);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];const[t,_]=y.useState(n),a=y.useRef(null);let m;e[1]!==t.length?(m=async function(l){l.preventDefault();const j=new FormData(l.target).get("message"),b={text:j,sending:!0};_(c=>[...c,b]),a.current.reset();const g=t.length;try{await w(j),_(c=>(c[g].sending=!1,[...c]))}catch{_(h=>(h[g].sending=!1,h[g].error=!0,[...h]))}},e[1]=t.length,e[2]=m):m=e[2];const d=m;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=r.jsx("input",{type:"text",name:"message",placeholder:"Hello!"}),e[3]=f):f=e[3];let x;e[4]===Symbol.for("react.memo_cache_sentinel")?(x=r.jsx("button",{type:"submit",style:{marginLeft:"10px"},children:"Send"}),e[4]=x):x=e[4];let o;e[5]!==d||e[6]!==a?(o=r.jsxs("form",{id:A.form,onSubmit:d,ref:a,children:[f,x]}),e[5]=d,e[6]=a,e[7]=o):o=e[7];let s;if(e[8]!==t){let i;e[10]===Symbol.for("react.memo_cache_sentinel")?(i=(l,p)=>r.jsxs("div",{children:[l.text,!!l.sending&&r.jsx("small",{children:" (Sending...)"}),l.error&&r.jsx("button",{children:"retry"})]},p),e[10]=i):i=e[10],s=t.map(i),e[8]=t,e[9]=s}else s=e[9];let u;return e[11]!==o||e[12]!==s?(u=r.jsxs(r.Fragment,{children:[o,s]}),e[11]=o,e[12]=s,e[13]=u):u=e[13],u}export{H as default};
