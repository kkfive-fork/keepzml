import{c as y,r as u,j as c}from"./index-Di4F1x74.js";const k=async()=>(await fetch("https://api.chucknorris.io/jokes/random")).json();function N(){const e=y.c(19),[t,o]=u.useState(k);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0];const[h,S]=u.useState(a),[s,r]=u.useState(!1);let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=function(){r(!0),o(k())},e[1]=i):i=e[1];const v=i;let n;e[2]===Symbol.for("react.memo_cache_sentinel")?(n=c.jsx("div",{id:"tips",children:"点击按钮新增一条数据，该数据从接口中获取"}),e[2]=n):n=e[2];let l;e[3]!==s?(l=c.jsx("button",{disabled:s,onClick:v,children:"新增数据"}),e[3]=s,e[4]=l):l=e[4];let f;if(e[5]!==h){let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x=(b,w)=>c.jsx("div",{className:"item",children:b},b),e[7]=x):x=e[7],f=h.map(x),e[5]=h,e[6]=f}else f=e[6];let m;e[8]!==f?(m=c.jsx("div",{className:"list",children:f}),e[8]=f,e[9]=m):m=e[9];let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j=c.jsx("div",{children:"loading..."}),e[10]=j):j=e[10];let d;e[11]!==t?(d=c.jsx(u.Suspense,{fallback:j,children:c.jsx(g,{api:t,setList:S,setDisabled:r})}),e[11]=t,e[12]=d):d=e[12];let _;e[13]!==m||e[14]!==d?(_=c.jsxs("div",{className:"content",children:[m,d]}),e[13]=m,e[14]=d,e[15]=_):_=e[15];let p;return e[16]!==l||e[17]!==_?(p=c.jsxs("div",{children:[n,l,_]}),e[16]=l,e[17]=_,e[18]=p):p=e[18],p}const g=e=>{const t=y.c(8),{api:o,setList:a}=e,[h,S]=u.useState(!0),s=o?u.use(o):{value:"nothing"};let r;t[0]!==o||t[1]!==a||t[2]!==s.value?(r=()=>{o&&(a(l=>l.includes(s.value)?l:l.concat(s.value)),S(!1))},t[0]=o,t[1]=a,t[2]=s.value,t[3]=r):r=t[3];let i;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=[],t[4]=i):i=t[4],u.useEffect(r,i);const v=h?"_03_a_value show":"_03_a_value";let n;return t[5]!==v||t[6]!==s.value?(n=c.jsx("div",{className:v,children:s.value}),t[5]=v,t[6]=s.value,t[7]=n):n=t[7],n};export{N as default};
