const __vite__fileDeps=["assets/index-Z9qkGGmU.js","assets/base-80a1f760-BfYhPJal.js","assets/consoleHook-59e792cb-B2gNDGyx.js","assets/index-585bceb7-C3WRoDI3.js","assets/index-DE0iGQ5T.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function _3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Od(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oy={exports:{}},vd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E3=Symbol.for("react.transitional.element"),M3=Symbol.for("react.fragment");function cy(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:E3,type:t,key:r,ref:e!==void 0?e:null,props:n}}vd.Fragment=M3;vd.jsx=cy;vd.jsxs=cy;oy.exports=vd;var i=oy.exports,uy={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm=Symbol.for("react.transitional.element"),D3=Symbol.for("react.portal"),Z3=Symbol.for("react.fragment"),z3=Symbol.for("react.strict_mode"),L3=Symbol.for("react.profiler"),B3=Symbol.for("react.consumer"),X3=Symbol.for("react.context"),U3=Symbol.for("react.forward_ref"),q3=Symbol.for("react.suspense"),Y3=Symbol.for("react.memo"),dy=Symbol.for("react.lazy"),F0=Symbol.iterator;function V3(t){return t===null||typeof t!="object"?null:(t=F0&&t[F0]||t["@@iterator"],typeof t=="function"?t:null)}var hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fy=Object.assign,py={};function _a(t,e,n){this.props=t,this.context=e,this.refs=py,this.updater=n||hy}_a.prototype.isReactComponent={};_a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function my(){}my.prototype=_a.prototype;function Ym(t,e,n){this.props=t,this.context=e,this.refs=py,this.updater=n||hy}var Vm=Ym.prototype=new my;Vm.constructor=Ym;fy(Vm,_a.prototype);Vm.isPureReactComponent=!0;var J0=Array.isArray,We={H:null,A:null,T:null},gy=Object.prototype.hasOwnProperty;function Wm(t,e,n,r,s,a,l){return n=l.ref,{$$typeof:qm,type:t,key:e,ref:n!==void 0?n:null,props:l}}function W3(t,e){return Wm(t.type,e,null,void 0,void 0,void 0,t.props)}function Hm(t){return typeof t=="object"&&t!==null&&t.$$typeof===qm}function H3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K0=/\/+/g;function oh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H3(""+t.key):e.toString(36)}function e1(){}function I3(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(e1,e1):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Pi(t,e,n,r,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"bigint":case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case qm:case D3:l=!0;break;case dy:return l=t._init,Pi(l(t._payload),e,n,r,s)}}if(l)return s=s(t),l=r===""?"."+oh(t,0):r,J0(s)?(n="",l!=null&&(n=l.replace(K0,"$&/")+"/"),Pi(s,e,n,"",function(u){return u})):s!=null&&(Hm(s)&&(s=W3(s,n+(!s.key||t&&t.key===s.key?"":(""+s.key).replace(K0,"$&/")+"/")+l)),e.push(s)),1;l=0;var o=r===""?".":r+":";if(J0(t))for(var c=0;c<t.length;c++)r=t[c],a=o+oh(r,c),l+=Pi(r,e,n,a,s);else if(c=V3(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,a=o+oh(r,c++),l+=Pi(r,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return Pi(I3(t),e,n,r,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return l}function Ko(t,e,n){if(t==null)return t;var r=[],s=0;return Pi(t,r,"","",function(a){return e.call(n,a,s++)}),r}function G3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var t1=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function F3(){}ce.Children={map:Ko,forEach:function(t,e,n){Ko(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ko(t,function(){e++}),e},toArray:function(t){return Ko(t,function(e){return e})||[]},only:function(t){if(!Hm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=_a;ce.Fragment=Z3;ce.Profiler=L3;ce.PureComponent=Ym;ce.StrictMode=z3;ce.Suspense=q3;ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=We;ce.act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.cache=function(t){return function(){return t.apply(null,arguments)}};ce.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=fy({},t.props),s=t.key,a=void 0;if(e!=null)for(l in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(s=""+e.key),e)!gy.call(e,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&e.ref===void 0||(r[l]=e[l]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return Wm(t.type,s,null,void 0,void 0,a,r)};ce.createContext=function(t){return t={$$typeof:X3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:B3,_context:t},t};ce.createElement=function(t,e,n){var r,s={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)gy.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return Wm(t,a,null,void 0,void 0,null,s)};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:U3,render:t}};ce.isValidElement=Hm;ce.lazy=function(t){return{$$typeof:dy,_payload:{_status:-1,_result:t},_init:G3}};ce.memo=function(t,e){return{$$typeof:Y3,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=We.T,n=new Set;We.T={_callbacks:n};var r=We.T;try{var s=t();typeof s=="object"&&s!==null&&typeof s.then=="function"&&(n.forEach(function(a){return a(r,s)}),s.then(F3,t1))}catch(a){t1(a)}finally{We.T=e}};ce.unstable_useCacheRefresh=function(){return We.H.useCacheRefresh()};ce.use=function(t){return We.H.use(t)};ce.useActionState=function(t,e,n){return We.H.useActionState(t,e,n)};ce.useCallback=function(t,e){return We.H.useCallback(t,e)};ce.useContext=function(t){return We.H.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t,e){return We.H.useDeferredValue(t,e)};ce.useEffect=function(t,e){return We.H.useEffect(t,e)};ce.useId=function(){return We.H.useId()};ce.useImperativeHandle=function(t,e,n){return We.H.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return We.H.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return We.H.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return We.H.useMemo(t,e)};ce.useOptimistic=function(t,e){return We.H.useOptimistic(t,e)};ce.useReducer=function(t,e,n){return We.H.useReducer(t,e,n)};ce.useRef=function(t){return We.H.useRef(t)};ce.useState=function(t){return We.H.useState(t)};ce.useSyncExternalStore=function(t,e,n){return We.H.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return We.H.useTransition()};ce.version="19.0.0-rc-915b914b3a-20240515";uy.exports=ce;var j=uy.exports;const tr=Od(j),J3=_3({__proto__:null,default:tr},[j]);var xy={exports:{}},bd={},Oy={exports:{}},vy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,L){var q=Q.length;Q.push(L);e:for(;0<q;){var ee=q-1>>>1,D=Q[ee];if(0<s(D,L))Q[ee]=L,Q[q]=D,q=ee;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var L=Q[0],q=Q.pop();if(q!==L){Q[0]=q;e:for(var ee=0,D=Q.length,A=D>>>1;ee<A;){var I=2*(ee+1)-1,C=Q[I],M=I+1,Y=Q[M];if(0>s(C,q))M<D&&0>s(Y,C)?(Q[ee]=Y,Q[M]=q,ee=M):(Q[ee]=C,Q[I]=q,ee=I);else if(M<D&&0>s(Y,q))Q[ee]=Y,Q[M]=q,ee=M;else break e}}return L}function s(Q,L){var q=Q.sortIndex-L.sortIndex;return q!==0?q:Q.id-L.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;function O(Q){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=Q)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function b(Q){if(v=!1,O(Q),!x)if(n(c)!==null)x=!0,B();else{var L=n(u);L!==null&&G(b,L.startTime-Q)}}var w=!1,S=-1,k=5,$=-1;function _(){return!(t.unstable_now()-$<k)}function R(){if(w){var Q=t.unstable_now();$=Q;var L=!0;try{e:{x=!1,v&&(v=!1,g(S),S=-1),p=!0;var q=f;try{t:{for(O(Q),h=n(c);h!==null&&!(h.expirationTime>Q&&_());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var D=ee(h.expirationTime<=Q);if(Q=t.unstable_now(),typeof D=="function"){h.callback=D,O(Q),L=!0;break t}h===n(c)&&r(c),O(Q)}else r(c);h=n(c)}if(h!==null)L=!0;else{var A=n(u);A!==null&&G(b,A.startTime-Q),L=!1}}break e}finally{h=null,f=q,p=!1}L=void 0}}finally{L?z():w=!1}}}var z;if(typeof m=="function")z=function(){m(R)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,H=E.port2;E.port1.onmessage=R,z=function(){H.postMessage(null)}}else z=function(){y(R,0)};function B(){w||(w=!0,z())}function G(Q,L){S=y(function(){Q(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,B())},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var q=f;f=L;try{return Q()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,L){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var q=f;f=Q;try{return L()}finally{f=q}},t.unstable_scheduleCallback=function(Q,L,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=q+D,Q={id:d++,callback:L,priorityLevel:Q,startTime:q,expirationTime:D,sortIndex:-1},q>ee?(Q.sortIndex=q,e(u,Q),n(c)===null&&Q===n(u)&&(v?(g(S),S=-1):v=!0,G(b,q-ee))):(Q.sortIndex=D,e(c,Q),x||p||(x=!0,B())),Q},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(Q){var L=f;return function(){var q=f;f=L;try{return Q.apply(this,arguments)}finally{f=q}}}})(vy);Oy.exports=vy;var K3=Oy.exports,by={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function yy(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rl=j.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ir(){}var Bt={d:{f:Ir,r:function(){throw Error(yy(522))},D:Ir,C:Ir,L:Ir,m:Ir,X:Ir,S:Ir,M:Ir},p:0,findDOMNode:null},ek=Symbol.for("react.portal");function tk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ek,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yd(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Bt;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(yy(299));return tk(t,e,null,n)};Ht.flushSync=function(t){var e=Rl.T,n=Bt.p;try{if(Rl.T=null,Bt.p=2,t)return t()}finally{Rl.T=e,Bt.p=n,Bt.d.f()}};Ht.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Bt.d.C(t,e))};Ht.prefetchDNS=function(t){typeof t=="string"&&Bt.d.D(t)};Ht.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=yd(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Bt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:a}):n==="script"&&Bt.d.X(t,{crossOrigin:r,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ht.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=yd(e.as,e.crossOrigin);Bt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Bt.d.M(t)};Ht.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=yd(n,e.crossOrigin);Bt.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ht.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=yd(e.as,e.crossOrigin);Bt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Bt.d.m(t)};Ht.requestFormReset=function(t){Bt.d.r(t)};Ht.unstable_batchedUpdates=function(t,e){return t(e)};Ht.useFormState=function(t,e,n){return Rl.H.useFormState(t,e,n)};Ht.useFormStatus=function(){return Rl.H.useHostTransitionStatus()};Ht.version="19.0.0-rc-915b914b3a-20240515";function jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jy)}catch(t){console.error(t)}}jy(),by.exports=Ht;var Eo=by.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=K3,nk=j,rk=Eo;function P(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var sk=Symbol.for("react.element"),ec=Symbol.for("react.transitional.element"),tc=Symbol.for("react.portal"),ml=Symbol.for("react.fragment"),ik=Symbol.for("react.strict_mode"),n1=Symbol.for("react.profiler"),ak=Symbol.for("react.provider"),lk=Symbol.for("react.consumer"),ds=Symbol.for("react.context"),wy=Symbol.for("react.forward_ref"),r1=Symbol.for("react.suspense"),s1=Symbol.for("react.suspense_list"),ky=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),$y=Symbol.for("react.offscreen"),ok=Symbol.for("react.memo_cache_sentinel"),i1=Symbol.iterator;function Ga(t){return t===null||typeof t!="object"?null:(t=i1&&t[i1]||t["@@iterator"],typeof t=="function"?t:null)}function Ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ny(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a1(t){if(Ea(t)!==t)throw Error(P(188))}function ck(t){var e=t.alternate;if(!e){if(e=Ea(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return a1(s),t;if(a===r)return a1(s),e;a=a.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=a;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=a;break}if(o===r){l=!0,r=s,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,r=s;break}if(o===r){l=!0,r=a,n=s;break}o=o.sibling}if(!l)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Cy(t){return t=ck(t),t!==null?Ty(t):null}function Ty(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Ty(t),e!==null)return e;t=t.sibling}return null}var Ye=Object.assign,gl=Array.isArray,he=nk.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xe=rk.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ql={pending:!1,data:null,method:null,action:null},Lf=[],Di=-1;function br(t){return{current:t}}function vt(t){0>Di||(t.current=Lf[Di],Lf[Di]=null,Di--)}function qe(t,e){Di++,Lf[Di]=t.current,t.current=e}var dr=br(null),eo=br(null),Os=br(null),Bf=br(null),xu={$$typeof:ds,Provider:null,Consumer:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ou(t,e){switch(qe(Os,e),qe(eo,t),qe(dr,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?rx(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=rx(t),e=Xj(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}vt(dr),qe(dr,e)}function pa(){vt(dr),vt(eo),vt(Os)}function Xf(t){t.memoizedState!==null&&qe(Bf,t);var e=dr.current,n=Xj(e,t.type);e!==n&&(qe(eo,t),qe(dr,n))}function vu(t){eo.current===t&&(vt(dr),vt(eo)),Bf.current===t&&(vt(Bf),xu._currentValue=null)}var Uf=Object.prototype.hasOwnProperty,Im=gt.unstable_scheduleCallback,ch=gt.unstable_cancelCallback,uk=gt.unstable_shouldYield,dk=gt.unstable_requestPaint,hr=gt.unstable_now,hk=gt.unstable_getCurrentPriorityLevel,Gm=gt.unstable_ImmediatePriority,Ry=gt.unstable_UserBlockingPriority,bu=gt.unstable_NormalPriority,fk=gt.unstable_LowPriority,Qy=gt.unstable_IdlePriority,pk=gt.log,mk=gt.unstable_setDisableYieldValue,Mo=null,cn=null;function gk(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Mo,t,void 0,(t.current.flags&128)===128)}catch{}}function hs(t){if(typeof pk=="function"&&mk(t),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(Mo,t)}catch{}}var jn=Math.clz32?Math.clz32:vk,xk=Math.log,Ok=Math.LN2;function vk(t){return t>>>=0,t===0?32:31-(xk(t)/Ok|0)|0}var nc=128,rc=4194304;function xl(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes;t=t.pingedLanes;var a=n&134217727;return a!==0?(n=a&~s,n!==0?r=xl(n):(t&=a,t!==0&&(r=xl(t)))):(n&=~s,n!==0?r=xl(n):t!==0&&(r=xl(t))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,t=e&-e,s>=t||s===32&&(t&4194176)!==0)?e:r}function bk(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ay(t,e){return t.errorRecoveryDisabledLanes&e?0:(t=t.pendingLanes&-536870913,t!==0?t:t&536870912?536870912:0)}function Py(){var t=nc;return nc<<=1,!(nc&4194176)&&(nc=128),t}function _y(){var t=rc;return rc<<=1,!(rc&62914560)&&(rc=4194304),t}function uh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yk(t,e,n){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.entangledLanes&=e,t.errorRecoveryDisabledLanes&=e,t.shellSuspendCounter=0,e=t.entanglements;for(var s=t.expirationTimes,a=t.hiddenUpdates;0<r;){var l=31-jn(r),o=1<<l;e[l]=0,s[l]=-1;var c=a[l];if(c!==null)for(a[l]=null,l=0;l<c.length;l++){var u=c[l];u!==null&&(u.lane&=-536870913)}r&=~o}n!==0&&Ey(t,n,0)}function Ey(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-jn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194218}function My(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}function Dy(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Zy(){var t=Xe.p;return t!==0?t:(t=window.event,t===void 0?32:Fj(t.type))}function jk(t,e){var n=Xe.p;try{return Xe.p=t,e()}finally{Xe.p=n}}var As=Math.random().toString(36).slice(2),_t="__reactFiber$"+As,Ut="__reactProps$"+As,Ma="__reactContainer$"+As,qf="__reactEvents$"+As,Sk="__reactListeners$"+As,wk="__reactHandles$"+As,l1="__reactResources$"+As,to="__reactMarker$"+As;function Fm(t){delete t[_t],delete t[Ut],delete t[qf],delete t[Sk],delete t[wk]}function Ws(t){var e=t[_t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ma]||n[_t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ix(t);t!==null;){if(n=t[_t])return n;t=ix(t)}return e}t=n,n=t.parentNode}return null}function Da(t){if(t=t[_t]||t[Ma]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Ol(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(P(33))}function Ji(t){var e=t[l1];return e||(e=t[l1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ot(t){t[to]=!0}var zy=new Set,Ly={};function gi(t,e){ma(t,e),ma(t+"Capture",e)}function ma(t,e){for(Ly[t]=e,t=0;t<e.length;t++)zy.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),o1={},c1={};function $k(t){return Uf.call(c1,t)?!0:Uf.call(o1,t)?!1:kk.test(t)?c1[t]=!0:(o1[t]=!0,!1)}function Yf(t,e,n){if($k(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function dh(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Sr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var hh;function vl(t){if(hh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hh=e&&e[1]||""}return`
`+hh+t}var fh=!1;function ph(t,e){if(!t||fh)return"";fh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var r={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(p){var f=p}Reflect.construct(t,[],h)}else{try{h.call()}catch(p){f=p}t.call(h.prototype)}}else{try{throw Error()}catch(p){f=p}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(p){if(p&&f&&typeof p.stack=="string")return[p.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});try{var a=r.DetermineComponentFrameRoot(),l=a[0],o=a[1];if(l&&o){var c=l.split(`
`),u=o.split(`
`);for(s=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(r===c.length||s===u.length)for(r=c.length-1,s=u.length-1;1<=r&&0<=s&&c[r]!==u[s];)s--;for(;1<=r&&0<=s;r--,s--)if(c[r]!==u[s]){if(r!==1||s!==1)do if(r--,s--,0>s||c[r]!==u[s]){var d=`
`+c[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=s);break}}}finally{fh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?vl(n):""}function Nk(t){switch(t.tag){case 26:case 27:case 5:return vl(t.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 15:return t=ph(t.type,!1),t;case 11:return t=ph(t.type.render,!1),t;case 1:return t=ph(t.type,!0),t;default:return""}}function u1(t){try{var e="";do e+=Nk(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function By(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ck(t){var e=By(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ju(t){t._valueTracker||(t._valueTracker=Ck(t))}function Xy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=By(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Su(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tk=/[\n"\\]/g;function xn(t){return t.replace(Tk,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Vf(t,e,n,r,s,a,l,o){t.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.type=l:t.removeAttribute("type"),e!=null?l==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+pn(e)):t.value!==""+pn(e)&&(t.value=""+pn(e)):l!=="submit"&&l!=="reset"||t.removeAttribute("value"),e!=null?Wf(t,l,pn(e)):n!=null?Wf(t,l,pn(n)):r!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+pn(o):t.removeAttribute("name")}function Uy(t,e,n,r,s,a,l,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+pn(n):"",e=e!=null?""+pn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.name=l)}function Wf(t,e,n){e==="number"&&Su(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ki(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qy(t,e,n){if(e!=null&&(e=""+pn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+pn(n):""}function Yy(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(P(92));if(gl(r)){if(1<r.length)throw Error(P(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=pn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function ga(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function d1(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||Rk.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Vy(t,e,n){if(e!=null&&typeof e!="object")throw Error(P(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var s in e)r=e[s],e.hasOwnProperty(s)&&n[s]!==r&&d1(t,s,r)}else for(var a in e)e.hasOwnProperty(a)&&d1(t,a,e[a])}function Jm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ak=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xc(t){return Ak.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Hf=null;function Km(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,ea=null;function h1(t){var e=Da(t);if(e&&(t=e.stateNode)){var n=t[Ut]||null;e:switch(t=e.stateNode,e.type){case"input":if(Vf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+xn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=r[Ut]||null;if(!s)throw Error(P(90));Vf(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&Xy(r)}break e;case"textarea":qy(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ki(t,!!n.multiple,e,!1)}}}var mh=!1;function Wy(t,e,n){if(mh)return t(e,n);mh=!0;try{var r=t(e);return r}finally{if(mh=!1,(Zi!==null||ea!==null)&&(Pd(),Zi&&(e=Zi,t=ea,ea=Zi=null,h1(e),t)))for(e=0;e<t.length;e++)h1(t[e])}}function no(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Ut]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var If=!1;if(zr)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){If=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{If=!1}var fs=null,eg=null,Uc=null;function Hy(){if(Uc)return Uc;var t,e=eg,n=e.length,r,s="value"in fs?fs.value:fs.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[a-r];r++);return Uc=s.slice(t,1<r?1-r:void 0)}function qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sc(){return!0}function f1(){return!1}function un(t){function e(n,r,s,a,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?sc:f1,this.isPropagationStopped=f1,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sc)},persist:function(){},isPersistent:sc}),e}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jd=un(Za),Do=Ye({},Za,{view:0,detail:0}),Pk=un(Do),gh,xh,Ja,Sd=Ye({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ja&&(Ja&&t.type==="mousemove"?(gh=t.screenX-Ja.screenX,xh=t.screenY-Ja.screenY):xh=gh=0,Ja=t),gh)},movementY:function(t){return"movementY"in t?t.movementY:xh}}),p1=un(Sd),_k=Ye({},Sd,{dataTransfer:0}),Ek=un(_k),Mk=Ye({},Do,{relatedTarget:0}),Oh=un(Mk),Dk=Ye({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),Zk=un(Dk),zk=Ye({},Za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lk=un(zk),Bk=Ye({},Za,{data:0}),m1=un(Bk),Xk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qk[t])?!!e[t]:!1}function tg(){return Yk}var Vk=Ye({},Do,{key:function(t){if(t.key){var e=Xk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tg,charCode:function(t){return t.type==="keypress"?qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wk=un(Vk),Hk=Ye({},Sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g1=un(Hk),Ik=Ye({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tg}),Gk=un(Ik),Fk=Ye({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jk=un(Fk),Kk=Ye({},Sd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e7=un(Kk),t7=[9,13,27,32],ng=zr&&"CompositionEvent"in window,Al=null;zr&&"documentMode"in document&&(Al=document.documentMode);var n7=zr&&"TextEvent"in window&&!Al,Iy=zr&&(!ng||Al&&8<Al&&11>=Al),x1=" ",O1=!1;function Gy(t,e){switch(t){case"keyup":return t7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function r7(t,e){switch(t){case"compositionend":return Fy(e);case"keypress":return e.which!==32?null:(O1=!0,x1);case"textInput":return t=e.data,t===x1&&O1?null:t;default:return null}}function s7(t,e){if(zi)return t==="compositionend"||!ng&&Gy(t,e)?(t=Hy(),Uc=eg=fs=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Iy&&e.locale!=="ko"?null:e.data;default:return null}}var i7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i7[t.type]:e==="textarea"}function Jy(t,e,n,r){Zi?ea?ea.push(r):ea=[r]:Zi=r,e=zu(e,"onChange"),0<e.length&&(n=new jd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pl=null,ro=null;function a7(t){zj(t,0)}function wd(t){var e=Ol(t);if(Xy(e))return t}function b1(t,e){if(t==="change")return e}var Ky=!1;if(zr){var vh;if(zr){var bh="oninput"in document;if(!bh){var y1=document.createElement("div");y1.setAttribute("oninput","return;"),bh=typeof y1.oninput=="function"}vh=bh}else vh=!1;Ky=vh&&(!document.documentMode||9<document.documentMode)}function j1(){Pl&&(Pl.detachEvent("onpropertychange",e2),ro=Pl=null)}function e2(t){if(t.propertyName==="value"&&wd(ro)){var e=[];Jy(e,ro,t,Km(t)),Wy(a7,e)}}function l7(t,e,n){t==="focusin"?(j1(),Pl=e,ro=n,Pl.attachEvent("onpropertychange",e2)):t==="focusout"&&j1()}function o7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wd(ro)}function c7(t,e){if(t==="click")return wd(e)}function u7(t,e){if(t==="input"||t==="change")return wd(e)}function d7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:d7;function so(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Uf.call(e,s)||!kn(t[s],e[s]))return!1}return!0}function S1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w1(t,e){var n=S1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S1(n)}}function t2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?t2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function n2(){for(var t=window,e=Su();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Su(t.document)}return e}function rg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function h7(t){var e=n2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&t2(n.ownerDocument.documentElement,n)){if(r!==null&&rg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!t.extend&&a>r&&(s=r,r=a,a=s),s=w1(n,a);var l=w1(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var f7=zr&&"documentMode"in document&&11>=document.documentMode,Li=null,Gf=null,_l=null,Ff=!1;function k1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ff||Li==null||Li!==Su(r)||(r=Li,"selectionStart"in r&&rg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_l&&so(_l,r)||(_l=r,r=zu(Gf,"onSelect"),0<r.length&&(e=new jd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Li)))}function Ls(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bi={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},yh={},r2={};zr&&(r2=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function xi(t){if(yh[t])return yh[t];if(!Bi[t])return t;var e=Bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in r2)return yh[t]=e[n];return t}var s2=xi("animationend"),i2=xi("animationiteration"),a2=xi("animationstart"),p7=xi("transitionrun"),m7=xi("transitionstart"),g7=xi("transitioncancel"),l2=xi("transitionend"),o2=new Map,$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Xn(t,e){o2.set(t,e),gi(e,[t])}var hn=[],Xi=0,sg=0;function kd(){for(var t=Xi,e=sg=Xi=0;e<t;){var n=hn[e];hn[e++]=null;var r=hn[e];hn[e++]=null;var s=hn[e];hn[e++]=null;var a=hn[e];if(hn[e++]=null,r!==null&&s!==null){var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}a!==0&&c2(n,s,a)}}function $d(t,e,n,r){hn[Xi++]=t,hn[Xi++]=e,hn[Xi++]=n,hn[Xi++]=r,sg|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function ig(t,e,n,r){return $d(t,e,n,r),wu(t)}function $s(t,e){return $d(t,null,null,e),wu(t)}function c2(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;s&&e!==null&&t.tag===3&&(a=t.stateNode,s=31-jn(n),a=a.hiddenUpdates,t=a[s],t===null?a[s]=[e]:t.push(e),e.lane=n|536870912)}function wu(t){_g();for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ui={},N1=new WeakMap;function On(t,e){if(typeof t=="object"&&t!==null){var n=N1.get(t);typeof n!="string"&&(n=u1(e),N1.set(t,n))}else n=u1(e);return{value:t,source:e,stack:n}}var qi=[],Yi=0,ku=null,$u=0,mn=[],gn=0,Ks=null,Rr=1,Qr="";function qs(t,e){qi[Yi++]=$u,qi[Yi++]=ku,ku=t,$u=e}function u2(t,e,n){mn[gn++]=Rr,mn[gn++]=Qr,mn[gn++]=Ks,Ks=t;var r=Rr;t=Qr;var s=32-jn(r)-1;r&=~(1<<s),n+=1;var a=32-jn(e)+s;if(30<a){var l=s-s%5;a=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Rr=1<<32-jn(e)+s|n<<s|r,Qr=a+t}else Rr=1<<a|n<<s|r,Qr=t}function ag(t){t.return!==null&&(qs(t,1),u2(t,1,0))}function lg(t){for(;t===ku;)ku=qi[--Yi],qi[Yi]=null,$u=qi[--Yi],qi[Yi]=null;for(;t===Ks;)Ks=mn[--gn],mn[gn]=null,Qr=mn[--gn],mn[gn]=null,Rr=mn[--gn],mn[gn]=null}var Lt=null,wt=null,Oe=!1,Pn=null,nr=!1,Jf=Error(P(519));function si(t){var e=Error(P(418,""));throw io(On(e,t)),Jf}function C1(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[_t]=t,e[Ut]=r,n){case"dialog":we("cancel",e),we("close",e);break;case"iframe":case"object":case"embed":we("load",e);break;case"video":case"audio":for(n=0;n<co.length;n++)we(co[n],e);break;case"source":we("error",e);break;case"img":case"image":case"link":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"input":we("invalid",e),Uy(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ju(e);break;case"select":we("invalid",e);break;case"textarea":we("invalid",e),Yy(e,r.value,r.defaultValue,r.children),ju(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||Bj(e.textContent,n)?(r.onScroll!=null&&we("scroll",e),r.onScrollEnd!=null&&we("scrollend",e),r.onClick!=null&&(e.onclick=Ed),e=!0):e=!1,e||si(t)}function T1(t){for(Lt=t.return;Lt;)switch(Lt.tag){case 3:case 27:nr=!0;return;case 5:case 13:nr=!1;return;default:Lt=Lt.return}}function Ka(t){if(t!==Lt)return!1;if(!Oe)return T1(t),Oe=!0,!1;var e=!1,n;if((n=t.tag!==3&&t.tag!==27)&&((n=t.tag===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||kp(t.type,t.memoizedProps)),n=!n),n&&(e=!0),e&&wt&&si(t),T1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){wt=Zn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}wt=null}}else wt=Lt?Zn(t.stateNode.nextSibling):null;return!0}function Zo(){wt=Lt=null,Oe=!1}function io(t){Pn===null?Pn=[t]:Pn.push(t)}var Yc=Error(P(460)),d2=Error(P(474)),Kf={then:function(){}};function R1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ic(){}function h2(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ic,ic),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===Yc?Error(P(483)):t;default:if(typeof e.status=="string")e.then(ic,ic);else{if(t=Te,t!==null&&100<t.shellSuspendCounter)throw Error(P(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=r}},function(r){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===Yc?Error(P(483)):t}throw El=e,Yc}}var El=null;function Q1(){if(El===null)throw Error(P(459));var t=El;return El=null,t}var ta=null,ao=0;function ac(t){var e=ao;return ao+=1,ta===null&&(ta=[]),h2(ta,t,e)}function el(t,e,n,r){t=r.props.ref,n.ref=t!==void 0?t:null}function lc(t,e){throw e.$$typeof===sk?Error(P(525)):(t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function A1(t){var e=t._init;return e(t._payload)}function f2(t){function e(g,m){if(t){var O=g.deletions;O===null?(g.deletions=[m],g.flags|=16):O.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g){for(var m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(g,m){return g=bs(g,m),g.index=0,g.sibling=null,g}function a(g,m,O){return g.index=O,t?(O=g.alternate,O!==null?(O=O.index,O<m?(g.flags|=33554434,m):O):(g.flags|=33554434,m)):(g.flags|=1048576,m)}function l(g){return t&&g.alternate===null&&(g.flags|=33554434),g}function o(g,m,O,b){return m===null||m.tag!==6?(m=_h(O,g.mode,b),m.return=g,m):(m=s(m,O),m.return=g,m)}function c(g,m,O,b){var w=O.type;return w===ml?d(g,m,O.props.children,b,O.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Us&&A1(w)===m.type)?(b=s(m,O.props),el(g,m,b,O),b.return=g,b):(b=Gc(O.type,O.key,O.props,null,g.mode,b),el(g,m,b,O),b.return=g,b)}function u(g,m,O,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==O.containerInfo||m.stateNode.implementation!==O.implementation?(m=Eh(O,g.mode,b),m.return=g,m):(m=s(m,O.children||[]),m.return=g,m)}function d(g,m,O,b,w){return m===null||m.tag!==7?(m=ti(O,g.mode,b,w),m.return=g,m):(m=s(m,O),m.return=g,m)}function h(g,m,O){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=_h(""+m,g.mode,O),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ec:return O=Gc(m.type,m.key,m.props,null,g.mode,O),el(g,null,O,m),O.return=g,O;case tc:return m=Eh(m,g.mode,O),m.return=g,m;case Us:var b=m._init;return h(g,b(m._payload),O)}if(gl(m)||Ga(m))return m=ti(m,g.mode,O,null),m.return=g,m;if(typeof m.then=="function")return h(g,ac(m),O);if(m.$$typeof===ds)return h(g,uc(g,m,O),O);lc(g,m)}return null}function f(g,m,O,b){var w=m!==null?m.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return w!==null?null:o(g,m,""+O,b);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ec:return O.key===w?c(g,m,O,b):null;case tc:return O.key===w?u(g,m,O,b):null;case Us:return w=O._init,f(g,m,w(O._payload),b)}if(gl(O)||Ga(O))return w!==null?null:d(g,m,O,b,null);if(typeof O.then=="function")return f(g,m,ac(O),b);if(O.$$typeof===ds)return f(g,m,uc(g,O,b),b);lc(g,O)}return null}function p(g,m,O,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return g=g.get(O)||null,o(m,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ec:return g=g.get(b.key===null?O:b.key)||null,c(m,g,b,w);case tc:return g=g.get(b.key===null?O:b.key)||null,u(m,g,b,w);case Us:var S=b._init;return p(g,m,O,S(b._payload),w)}if(gl(b)||Ga(b))return g=g.get(O)||null,d(m,g,b,w,null);if(typeof b.then=="function")return p(g,m,O,ac(b),w);if(b.$$typeof===ds)return p(g,m,O,uc(m,b,w),w);lc(m,b)}return null}function x(g,m,O,b){for(var w=null,S=null,k=m,$=m=0,_=null;k!==null&&$<O.length;$++){k.index>$?(_=k,k=null):_=k.sibling;var R=f(g,k,O[$],b);if(R===null){k===null&&(k=_);break}t&&k&&R.alternate===null&&e(g,k),m=a(R,m,$),S===null?w=R:S.sibling=R,S=R,k=_}if($===O.length)return n(g,k),Oe&&qs(g,$),w;if(k===null){for(;$<O.length;$++)k=h(g,O[$],b),k!==null&&(m=a(k,m,$),S===null?w=k:S.sibling=k,S=k);return Oe&&qs(g,$),w}for(k=r(k);$<O.length;$++)_=p(k,g,$,O[$],b),_!==null&&(t&&_.alternate!==null&&k.delete(_.key===null?$:_.key),m=a(_,m,$),S===null?w=_:S.sibling=_,S=_);return t&&k.forEach(function(z){return e(g,z)}),Oe&&qs(g,$),w}function v(g,m,O,b){if(O==null)throw Error(P(151));for(var w=null,S=null,k=m,$=m=0,_=null,R=O.next();k!==null&&!R.done;$++,R=O.next(),null){k.index>$?(_=k,k=null):_=k.sibling;var z=f(g,k,R.value,b);if(z===null){k===null&&(k=_);break}t&&k&&z.alternate===null&&e(g,k),m=a(z,m,$),S===null?w=z:S.sibling=z,S=z,k=_}if(R.done)return n(g,k),Oe&&qs(g,$),w;if(k===null){for(;!R.done;$++,R=O.next(),null)R=h(g,R.value,b),R!==null&&(m=a(R,m,$),S===null?w=R:S.sibling=R,S=R);return Oe&&qs(g,$),w}for(k=r(k);!R.done;$++,R=O.next(),null)R=p(k,g,$,R.value,b),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?$:R.key),m=a(R,m,$),S===null?w=R:S.sibling=R,S=R);return t&&k.forEach(function(E){return e(g,E)}),Oe&&qs(g,$),w}function y(g,m,O,b){if(typeof O=="object"&&O!==null&&O.type===ml&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case ec:e:{for(var w=O.key,S=m;S!==null;){if(S.key===w){if(w=O.type,w===ml){if(S.tag===7){n(g,S.sibling),m=s(S,O.props.children),m.return=g,g=m;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Us&&A1(w)===S.type){n(g,S.sibling),m=s(S,O.props),el(g,S,m,O),m.return=g,g=m;break e}n(g,S);break}else e(g,S);S=S.sibling}O.type===ml?(m=ti(O.props.children,g.mode,b,O.key),m.return=g,g=m):(b=Gc(O.type,O.key,O.props,null,g.mode,b),el(g,m,b,O),b.return=g,g=b)}return l(g);case tc:e:{for(S=O.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===O.containerInfo&&m.stateNode.implementation===O.implementation){n(g,m.sibling),m=s(m,O.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Eh(O,g.mode,b),m.return=g,g=m}return l(g);case Us:return S=O._init,y(g,m,S(O._payload),b)}if(gl(O))return x(g,m,O,b);if(Ga(O)){if(S=Ga(O),typeof S!="function")throw Error(P(150));return O=S.call(O),v(g,m,O,b)}if(typeof O.then=="function")return y(g,m,ac(O),b);if(O.$$typeof===ds)return y(g,m,uc(g,O,b),b);lc(g,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,O),m.return=g,g=m):(n(g,m),m=_h(O,g.mode,b),m.return=g,g=m),l(g)):n(g,m)}return function(g,m,O,b){return ao=0,g=y(g,m,O,b),ta=null,g}}var ii=f2(!0),p2=f2(!1),xa=br(null),Nu=br(0);function P1(t,e){t=Br,qe(Nu,t),qe(xa,e),Br=t|e.baseLanes}function ep(){qe(Nu,Br),qe(xa,xa.current)}function og(){Br=Nu.current,vt(xa),vt(Nu)}var xr=br(null),fr=null;function is(t){var e=t.alternate;qe(pt,pt.current&1),qe(xr,t),fr===null&&(e===null||xa.current!==null||e.memoizedState!==null)&&(fr=t)}function m2(t){if(t.tag===22){if(qe(pt,pt.current),qe(xr,t),fr===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(fr=t)}}else as()}function as(){qe(pt,pt.current),qe(xr,xr.current)}function Ar(t){vt(xr),fr===t&&(fr=null),vt(pt)}var pt=br(0);function Cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var x7=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},O7=gt.unstable_scheduleCallback,v7=gt.unstable_NormalPriority,ht={$$typeof:ds,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cg(){return{controller:new x7,data:new Map,refCount:0}}function zo(t){t.refCount--,t.refCount===0&&O7(v7,function(){t.controller.abort()})}var Ml=null,tp=0,Oa=0,na=null;function b7(t,e){if(Ml===null){var n=Ml=[];tp=0,Oa=Eg(),na={status:"pending",value:void 0,then:function(r){n.push(r)}}}return tp++,e.then(_1,_1),e}function _1(){if(Ml!==null&&--tp===0){na!==null&&(na.status="fulfilled");var t=Ml;Ml=null,Oa=0,na=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function y7(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}function ug(){var t=he.T;return t!==null&&t._callbacks.add(j7),t}function j7(t,e){b7(t,e)}function g2(t,e){t._callbacks.forEach(function(n){return n(t,e)})}var ei=br(null);function dg(){var t=ei.current;return t!==null?t:Te.pooledCache}function Vc(t,e){e===null?qe(ei,ei.current):qe(ei,e.pool)}function x2(){var t=dg();return t===null?null:{parent:ht._currentValue,pool:t}}var Ns=0,le=null,Ce=null,it=null,Tu=!1,ra=!1,ai=!1,Ru=0,lo=0,sa=null,S7=0;function Ke(){throw Error(P(321))}function hg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function fg(t,e,n,r,s,a){return Ns=a,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,he.H=t===null||t.memoizedState===null?Oi:vi,ai=!1,t=n(r,s),ai=!1,ra&&(t=v2(e,n,r,s)),O2(),t}function O2(){he.H=Or;var t=Ce!==null&&Ce.next!==null;if(Ns=0,it=Ce=le=null,Tu=!1,lo=0,sa=null,t)throw Error(P(300))}function v2(t,e,n,r){le=t;var s=0;do{if(ra&&(sa=null),lo=0,ra=!1,25<=s)throw Error(P(301));s+=1,it=Ce=null,t.updateQueue=null,he.H=bi;var a=e(n,r)}while(ra);return a}function w7(){var t=he.H,e=t.useState()[0];return e=typeof e.then=="function"?Lo(e):e,t=t.useState()[0],(Ce!==null?Ce.memoizedState:null)!==t&&(le.flags|=1024),e}function pg(){var t=Ru!==0;return Ru=0,t}function mg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function gg(t){if(Tu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Tu=!1}Ns=0,it=Ce=le=null,ra=!1,lo=Ru=0,sa=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?le.memoizedState=it=t:it=it.next=t,it}function lt(){if(Ce===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=it===null?le.memoizedState:it.next;if(e!==null)it=e,Ce=t;else{if(t===null)throw le.alternate===null?Error(P(467)):Error(P(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},it===null?le.memoizedState=it=t:it=it.next=t}return it}var Nd;Nd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Lo(t){var e=lo;return lo+=1,sa===null&&(sa=[]),t=h2(sa,t,e),le.alternate===null&&(it===null?le.memoizedState===null:it.next===null)&&(he.H=Oi),t}function Cd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Lo(t);if(t.$$typeof===ds)return Et(t)}throw Error(P(438,String(t)))}function xg(t){var e=null,n=le.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=le.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Nd(),le.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=ok;return e.index++,n}function Lr(t,e){return typeof e=="function"?e(t):e}function Wc(t){var e=lt();return Og(e,Ce,t)}function Og(t,e,n){var r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=n;var s=t.baseQueue,a=r.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}e.baseQueue=s=a,r.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var o=l=null,c=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(ge&h)===h:(Ns&h)===h){var f=u.revertLane;if(f===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Oa&&(d=!0);else if((Ns&f)===f){u=u.next,f===Oa&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=h,l=a):c=c.next=h,le.lanes|=f,Xr|=f;h=u.action,ai&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=f,l=a):c=c.next=f,le.lanes|=h,Xr|=h;u=u.next}while(u!==null&&u!==e);if(c===null?l=a:c.next=o,!kn(a,t.memoizedState)&&($t=!0,d&&(n=na,n!==null)))throw n;t.memoizedState=a,t.baseState=l,t.baseQueue=c,r.lastRenderedState=a}return s===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function jh(t){var e=lt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do a=t(a,l.action),l=l.next;while(l!==s);kn(a,e.memoizedState)||($t=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function b2(t,e,n){var r=le,s=lt(),a=Oe;if(a){if(n===void 0)throw Error(P(407));n=n()}else n=e();var l=!kn((Ce||s).memoizedState,n);if(l&&(s.memoizedState=n,$t=!0),s=s.queue,vg(S2.bind(null,r,s,t),[t]),s.getSnapshot!==e||l||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,va(9,j2.bind(null,r,s,n,e),{destroy:void 0},null),Te===null)throw Error(P(349));a||Ns&60||y2(r,e,n)}return n}function y2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e=Nd(),le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function j2(t,e,n,r){e.value=n,e.getSnapshot=r,w2(e)&&k2(t)}function S2(t,e,n){return n(function(){w2(e)&&k2(t)})}function w2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function k2(t){var e=$s(t,2);e!==null&&qt(e,t,2)}function np(t){var e=Jt();if(typeof t=="function"){var n=t;t=n(),ai&&(hs(!0),n(),hs(!1))}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:t},e}function $2(t,e,n,r){return t.baseState=n,Og(t,Ce,typeof r=="function"?r:Lr)}function k7(t,e,n,r,s){if(Rd(t))throw Error(P(485));t=e.pending,t===null?(t={payload:s,next:null},t.next=e.pending=t,N2(e,n,r,s)):e.pending=t.next={payload:s,next:t.next}}function N2(t,e,n,r){var s=t.action,a=t.state,l=he.T,o={_callbacks:new Set};he.T=o,e(!0);try{var c=s(a,r);c!==null&&typeof c=="object"&&typeof c.then=="function"?(g2(o,c),c.then(function(u){t.state=u,oc(t,e,n)},function(){return oc(t,e,n)}),n(c)):(n(c),t.state=c,oc(t,e,n))}catch(u){n({then:function(){},status:"rejected",reason:u}),oc(t,e,n)}finally{he.T=l}}function oc(t,e,n){var r=t.pending;if(r!==null){var s=r.next;s===r?t.pending=null:(s=s.next,r.next=s,N2(t,e,n,s.payload))}}function C2(t,e){return e}function T2(t,e){if(Oe){var n=Te.formState;if(n!==null){e:{var r=le;if(Oe){if(wt){t:{for(var s=wt,a=nr;s.nodeType!==8;){if(!a){s=null;break t}if(s=Zn(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){wt=Zn(s.nextSibling),r=s.data==="F!";break e}}si(r)}r=!1}r&&(e=n[0])}}return n=Jt(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C2,lastRenderedState:e},n.queue=r,n=ia.bind(null,le,r),r.dispatch=n,r=np(!1),a=Sg.bind(null,le,!1,r.queue),r=Jt(),s={state:e,dispatch:null,action:t,pending:null},r.queue=s,n=k7.bind(null,le,s,a,n),s.dispatch=n,r.memoizedState=t,[e,n,!1]}function R2(t){var e=lt();return Q2(e,Ce,t)}function Q2(t,e,n){e=Og(t,e,C2)[0],t=Wc(Lr)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?Lo(e):e;var r=lt(),s=r.queue,a=s.dispatch;return n!==r.memoizedState&&(le.flags|=2048,va(9,$7.bind(null,s,n),{destroy:void 0},null)),[e,a,t]}function $7(t,e){t.action=e}function A2(t){var e=lt(),n=Ce;if(n!==null)return Q2(e,n,t);lt(),e=e.memoizedState,n=lt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function va(t,e,n,r){return t={tag:t,create:e,inst:n,deps:r,next:null},e=le.updateQueue,e===null?(e=Nd(),le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function P2(){return lt().memoizedState}function Hc(t,e,n,r){var s=Jt();le.flags|=t,s.memoizedState=va(1|e,n,{destroy:void 0},r===void 0?null:r)}function Td(t,e,n,r){var s=lt();r=r===void 0?null:r;var a=s.memoizedState.inst;Ce!==null&&r!==null&&hg(r,Ce.memoizedState.deps)?s.memoizedState=va(e,n,a,r):(le.flags|=t,s.memoizedState=va(1|e,n,a,r))}function E1(t,e){Hc(8390656,8,t,e)}function vg(t,e){Td(2048,8,t,e)}function _2(t,e){return Td(4,2,t,e)}function E2(t,e){return Td(4,4,t,e)}function M2(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D2(t,e,n){n=n!=null?n.concat([t]):null,Td(4,4,M2.bind(null,e,t),n)}function bg(){}function Z2(t,e){var n=lt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&hg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z2(t,e){var n=lt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&hg(e,r[1])?r[0]:(r=t(),ai&&(hs(!0),t(),hs(!1)),n.memoizedState=[r,e],r)}function yg(t,e,n){return n===void 0||Ns&1073741824?t.memoizedState=e:(t.memoizedState=n,t=Cj(),le.lanes|=t,Xr|=t,n)}function L2(t,e,n,r){return kn(n,e)?n:xa.current!==null?(t=yg(t,n,r),kn(t,e)||($t=!0),t):Ns&42?(t=Cj(),le.lanes|=t,Xr|=t,e):($t=!0,t.memoizedState=n)}function B2(t,e,n,r,s){var a=Xe.p;Xe.p=a!==0&&8>a?a:8;var l=he.T,o={_callbacks:new Set};he.T=o,Sg(t,!1,e,n);try{var c=s();if(c!==null&&typeof c=="object"&&typeof c.then=="function"){g2(o,c);var u=y7(c,r);ia(t,e,u)}else ia(t,e,r)}catch(d){ia(t,e,{then:function(){},status:"rejected",reason:d})}finally{Xe.p=a,he.T=l}}function N7(){}function rp(t,e,n,r){if(t.tag!==5)throw Error(P(476));var s=X2(t).queue;B2(t,s,e,Ql,n===null?N7:function(){return U2(t),n(r)})}function X2(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ql,baseState:Ql,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:Ql},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function U2(t){ug();var e=X2(t).next.queue;ia(t,e,{})}function jg(){var t=Et(xu);return t!==null?t:Ql}function q2(){return lt().memoizedState}function Y2(){return lt().memoizedState}function C7(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Er();t=_r(n);var r=vs(e,t,n);r!==null&&(qt(r,e,n),Zl(r,e,n)),e={cache:cg()},t.payload=e;return}e=e.return}}function T7(t,e,n){var r=Er();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Rd(t)?V2(e,n):(n=ig(t,e,n,r),n!==null&&(qt(n,t,r),W2(n,e,r)))}function ia(t,e,n){var r=Er(),s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rd(t))V2(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,o=a(l,n);if(s.hasEagerState=!0,s.eagerState=o,kn(o,l)){$d(t,e,s,0),Te===null&&kd();return}}catch{}finally{}n=ig(t,e,s,r),n!==null&&(qt(n,t,r),W2(n,e,r))}}function Sg(t,e,n,r){if(ug(),r={lane:2,revertLane:Eg(),action:r,hasEagerState:!1,eagerState:null,next:null},Rd(t)){if(e)throw Error(P(479))}else e=ig(t,n,r,2),e!==null&&qt(e,t,2)}function Rd(t){var e=t.alternate;return t===le||e!==null&&e===le}function V2(t,e){ra=Tu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function W2(t,e,n){if(n&4194176){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,My(t,n)}}var Or={readContext:Et,use:Cd,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke};Or.useCacheRefresh=Ke;Or.useMemoCache=Ke;Or.useHostTransitionStatus=Ke;Or.useFormState=Ke;Or.useActionState=Ke;Or.useOptimistic=Ke;var Oi={readContext:Et,use:Cd,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:E1,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Hc(4194308,4,M2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hc(4194308,4,t,e)},useInsertionEffect:function(t,e){Hc(4,2,t,e)},useMemo:function(t,e){var n=Jt();e=e===void 0?null:e;var r=t();return ai&&(hs(!0),t(),hs(!1)),n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Jt();if(n!==void 0){var s=n(e);ai&&(hs(!0),n(e),hs(!1))}else s=e;return r.memoizedState=r.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=T7.bind(null,le,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:function(t){t=np(t);var e=t.queue,n=ia.bind(null,le,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:bg,useDeferredValue:function(t,e){var n=Jt();return yg(n,t,e)},useTransition:function(){var t=np(!1);return t=B2.bind(null,le,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=le,s=Jt();if(Oe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Te===null)throw Error(P(349));ge&60||y2(r,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,E1(S2.bind(null,r,a,t),[t]),r.flags|=2048,va(9,j2.bind(null,r,a,n,e),{destroy:void 0},null),n},useId:function(){var t=Jt(),e=Te.identifierPrefix;if(Oe){var n=Qr,r=Rr;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=S7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return Jt().memoizedState=C7.bind(null,le)}};Oi.useMemoCache=xg;Oi.useHostTransitionStatus=jg;Oi.useFormState=T2;Oi.useActionState=T2;Oi.useOptimistic=function(t){var e=Jt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Sg.bind(null,le,!0,n),n.dispatch=e,[t,e]};var vi={readContext:Et,use:Cd,useCallback:Z2,useContext:Et,useEffect:vg,useImperativeHandle:D2,useInsertionEffect:_2,useLayoutEffect:E2,useMemo:z2,useReducer:Wc,useRef:P2,useState:function(){return Wc(Lr)},useDebugValue:bg,useDeferredValue:function(t,e){var n=lt();return L2(n,Ce.memoizedState,t,e)},useTransition:function(){var t=Wc(Lr)[0],e=lt().memoizedState;return[typeof t=="boolean"?t:Lo(t),e]},useSyncExternalStore:b2,useId:q2};vi.useCacheRefresh=Y2;vi.useMemoCache=xg;vi.useHostTransitionStatus=jg;vi.useFormState=R2;vi.useActionState=R2;vi.useOptimistic=function(t,e){var n=lt();return $2(n,Ce,t,e)};var bi={readContext:Et,use:Cd,useCallback:Z2,useContext:Et,useEffect:vg,useImperativeHandle:D2,useInsertionEffect:_2,useLayoutEffect:E2,useMemo:z2,useReducer:jh,useRef:P2,useState:function(){return jh(Lr)},useDebugValue:bg,useDeferredValue:function(t,e){var n=lt();return Ce===null?yg(n,t,e):L2(n,Ce.memoizedState,t,e)},useTransition:function(){var t=jh(Lr)[0],e=lt().memoizedState;return[typeof t=="boolean"?t:Lo(t),e]},useSyncExternalStore:b2,useId:q2};bi.useCacheRefresh=Y2;bi.useMemoCache=xg;bi.useHostTransitionStatus=jg;bi.useFormState=A2;bi.useActionState=A2;bi.useOptimistic=function(t,e){var n=lt();return Ce!==null?$2(n,Ce,t,e):(n.baseState=t,[t,n.queue.dispatch])};var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function H2(t){Qu(t)}function I2(t){console.error(t)}function G2(t){Qu(t)}function Au(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function M1(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function sp(t,e,n){return n=_r(n),n.tag=3,n.payload={element:null},n.callback=function(){Au(t,e)},n}function F2(t){return t=_r(t),t.tag=3,t}function J2(t,e,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=r.value;t.payload=function(){return s(a)},t.callback=function(){M1(e,n,r)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){M1(e,n,r),typeof s!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function R7(t,e,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=xr.current,n!==null){switch(n.tag){case 13:return fr===null?vp():n.alternate===null&&Fe===0&&(Fe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Kf?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Mh(t,r,s)),!1;case 22:return n.flags|=65536,r===Kf?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Mh(t,r,s)),!1}throw Error(P(435,n.tag))}return Mh(t,r,s),vp(),!1}if(Oe)return e=xr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,r!==Jf&&(t=Error(P(422),{cause:r}),io(On(t,n)))):(r!==Jf&&(e=Error(P(423),{cause:r}),io(On(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,r=On(r,n),s=sp(t.stateNode,r,s),Ch(t,s),Fe!==4&&(Fe=2)),!1;var a=Error(P(520),{cause:r});if(a=On(a,n),Xl===null?Xl=[a]:Xl.push(a),Fe!==4&&(Fe=2),e===null)return!0;r=On(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=sp(n.stateNode,r,t),Ch(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(ys===null||!ys.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=F2(s),J2(s,t,n,r),Ch(n,s),!1}n=n.return}while(n!==null);return!1}var K2=Error(P(461)),$t=!1;function jt(t,e,n,r){e.child=t===null?p2(e,null,n,r):ii(e,t.child,n,r)}function D1(t,e,n,r,s){n=n.render;var a=e.ref;if("ref"in r){var l={};for(var o in r)o!=="ref"&&(l[o]=r[o])}else l=r;return li(e,s),r=fg(t,e,n,l,a,s),o=pg(),t!==null&&!$t?(mg(t,e,s),vr(t,e,s)):(Oe&&o&&ag(e),e.flags|=1,jt(t,e,r,s),e.child)}function Z1(t,e,n,r,s){if(t===null){var a=n.type;return typeof a=="function"&&!Tg(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,ej(t,e,a,r,s)):(t=Gc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:so,n(l,r)&&t.ref===e.ref)return vr(t,e,s)}return e.flags|=1,t=bs(a,r),t.ref=e.ref,t.return=e,e.child=t}function ej(t,e,n,r,s){if(t!==null){var a=t.memoizedProps;if(so(a,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=a,(t.lanes&s)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,vr(t,e,s)}return ip(t,e,n,r,s)}function tj(t,e,n){var r=e.pendingProps,s=r.children,a=(e.stateNode._pendingVisibility&2)!==0,l=t!==null?t.memoizedState:null;if(Dl(t,e),r.mode==="hidden"||a){if(e.flags&128){if(n=l!==null?l.baseLanes|n:n,t!==null){for(r=e.child=t.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;e.childLanes=s&~n}else e.childLanes=0,e.child=null;return z1(t,e,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vc(e,l!==null?l.cachePool:null),l!==null?P1(e,l):ep(),m2(e);else return e.lanes=e.childLanes=536870912,z1(t,e,l!==null?l.baseLanes|n:n)}else l!==null?(Vc(e,l.cachePool),P1(e,l),as(),e.memoizedState=null):(t!==null&&Vc(e,null),ep(),as());return jt(t,e,s,n),e.child}function z1(t,e,n){var r=dg();return r=r===null?null:{parent:ht._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Vc(e,null),ep(),m2(e),null}function Dl(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(t===null||t.ref!==n)&&(e.flags|=2097664)}}function ip(t,e,n,r,s){return li(e,s),n=fg(t,e,n,r,void 0,s),r=pg(),t!==null&&!$t?(mg(t,e,s),vr(t,e,s)):(Oe&&r&&ag(e),e.flags|=1,jt(t,e,n,s),e.child)}function L1(t,e,n,r,s,a){return li(e,a),n=v2(e,r,n,s),O2(),r=pg(),t!==null&&!$t?(mg(t,e,a),vr(t,e,a)):(Oe&&r&&ag(e),e.flags|=1,jt(t,e,n,a),e.child)}function B1(t,e,n,r,s){if(li(e,s),e.stateNode===null){var a=Ui,l=n.contextType;typeof l=="object"&&l!==null&&(a=Et(l)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=hp,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},kg(e),l=n.contextType,a.context=typeof l=="object"&&l!==null?Et(l):Ui,a.state=e.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Th(e,n,l,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(l=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),l!==a.state&&hp.enqueueReplaceState(a,a.state,null),Ll(e,r,a,s),zl(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,c=oi(n,o);a.props=c;var u=a.context,d=n.contextType;l=Ui,typeof d=="object"&&d!==null&&(l=Et(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==l)&&Y1(e,a,r,l),ns=!1;var f=e.memoizedState;a.state=f,Ll(e,r,a,s),zl(),u=e.memoizedState,o||f!==u||ns?(typeof h=="function"&&(Th(e,n,h,r),u=e.memoizedState),(c=ns||q1(e,n,c,r,f,u,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,up(t,e),l=e.memoizedProps,d=oi(n,l),a.props=d,h=e.pendingProps,f=a.context,u=n.contextType,c=Ui,typeof u=="object"&&u!==null&&(c=Et(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Y1(e,a,r,c),ns=!1,f=e.memoizedState,a.state=f,Ll(e,r,a,s),zl();var p=e.memoizedState;l!==h||f!==p||ns?(typeof o=="function"&&(Th(e,n,o,r),p=e.memoizedState),(d=ns||q1(e,n,d,r,f,p,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Dl(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=ii(e,t.child,null,s),e.child=ii(e,null,n,s)):jt(t,e,n,s),e.memoizedState=a.state,t=e.child):t=vr(t,e,s),t}function X1(t,e,n,r){return Zo(),e.flags|=256,jt(t,e,n,r),e.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function wh(t){return{baseLanes:t,cachePool:x2()}}function kh(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=en),t}function nj(t,e,n){var r=e.pendingProps,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),l&&(s=!0,e.flags&=-129),l=(e.flags&32)!==0,e.flags&=-33,t===null){if(Oe){if(s?is(e):as(),Oe){var o=wt,c;if(c=o){e:{for(c=o,o=nr;c.nodeType!==8;){if(!o){o=null;break e}if(c=Zn(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(e.memoizedState={dehydrated:o,treeContext:Ks!==null?{id:Rr,overflow:Qr}:null,retryLane:536870912},c=_n(18,null,null,0),c.stateNode=o,c.return=e,e.child=c,Lt=e,wt=null,c=!0):c=!1}c||si(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return o.data==="$!"?e.lanes=16:e.lanes=536870912,null;Ar(e)}return o=r.children,r=r.fallback,s?(as(),s=e.mode,o=lp({mode:"hidden",children:o},s),r=ti(r,s,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,s=e.child,s.memoizedState=wh(n),s.childLanes=kh(t,l,n),e.memoizedState=Sh,r):(is(e),ap(e,o))}if(c=t.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(a)e.flags&256?(is(e),e.flags&=-257,e=$h(t,e,n)):e.memoizedState!==null?(as(),e.child=t.child,e.flags|=128,e=null):(as(),s=r.fallback,o=e.mode,r=lp({mode:"visible",children:r.children},o),s=ti(s,o,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,ii(e,t.child,null,n),r=e.child,r.memoizedState=wh(n),r.childLanes=kh(t,l,n),e.memoizedState=Sh,e=s);else if(is(e),o.data==="$!"){if(l=o.nextSibling&&o.nextSibling.dataset,l)var u=l.dgst;l=u,r=Error(P(419)),r.stack="",r.digest=l,io({value:r,source:null,stack:null}),e=$h(t,e,n)}else if(l=(n&t.childLanes)!==0,$t||l){if(l=Te,l!==null){if(r=n&-n,r&42)r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(r=r&(l.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane)throw c.retryLane=r,$s(t,r),qt(l,t,r),K2}o.data==="$?"||vp(),e=$h(t,e,n)}else o.data==="$?"?(e.flags|=128,e.child=t.child,e=V7.bind(null,t),o._reactRetry=e,e=null):(t=c.treeContext,wt=Zn(o.nextSibling),Lt=e,Oe=!0,Pn=null,nr=!1,t!==null&&(mn[gn++]=Rr,mn[gn++]=Qr,mn[gn++]=Ks,Rr=t.id,Qr=t.overflow,Ks=e),e=ap(e,r.children),e.flags|=4096);return e}return s?(as(),s=r.fallback,o=e.mode,c=t.child,u=c.sibling,r=bs(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&31457280,u!==null?s=bs(u,s):(s=ti(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o===null?o=wh(n):(c=o.cachePool,c!==null?(u=ht._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=x2(),o={baseLanes:o.baseLanes|n,cachePool:c}),s.memoizedState=o,s.childLanes=kh(t,l,n),e.memoizedState=Sh,r):(is(e),n=t.child,t=n.sibling,n=bs(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(l=e.deletions,l===null?(e.deletions=[t],e.flags|=16):l.push(t)),e.child=n,e.memoizedState=null,n)}function ap(t,e){return e=lp({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function lp(t,e){return $j(t,e,0,null)}function $h(t,e,n){return ii(e,t.child,null,n),t=ap(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cp(t.return,e,n)}function Nh(t,e,n,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function rj(t,e,n){var r=e.pendingProps,s=r.revealOrder,a=r.tail;if(jt(t,e,r.children,n),r=pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U1(t,n,e);else if(t.tag===19)U1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(qe(pt,r),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Nh(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Nh(e,!0,n,null,a);break;case"together":Nh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q7(t,e,n){switch(e.tag){case 3:Ou(e,e.stateNode.containerInfo),ls(e,ht,t.memoizedState.cache),Zo();break;case 27:case 5:Xf(e);break;case 4:Ou(e,e.stateNode.containerInfo);break;case 10:ls(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(is(e),e.flags|=128,null):n&e.child.childLanes?nj(t,e,n):(is(e),t=vr(t,e,n),t!==null?t.sibling:null);is(e);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rj(t,e,n);e.flags|=128}var s=e.memoizedState;if(s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(pt,pt.current),r)break;return null;case 22:case 23:return e.lanes=0,tj(t,e,n);case 24:ls(e,ht,t.memoizedState.cache)}return vr(t,e,n)}function sj(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,Q7(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Oe&&e.flags&1048576&&u2(e,$u,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,s=r._init;if(r=s(r._payload),e.type=r,typeof r=="function")Tg(r)?(t=oi(r,t),e.tag=1,e=B1(null,e,r,t,n)):(e.tag=0,e=ip(null,e,r,t,n));else{if(r!=null){if(s=r.$$typeof,s===wy){e.tag=11,e=D1(null,e,r,t,n);break e}else if(s===ky){e.tag=14,e=Z1(null,e,r,t,n);break e}}throw Error(P(306,r,""))}}return e;case 0:return ip(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,s=oi(r,e.pendingProps),B1(t,e,r,s,n);case 3:e:{if(Ou(e,e.stateNode.containerInfo),t===null)throw Error(P(387));var a=e.pendingProps;s=e.memoizedState,r=s.element,up(t,e),Ll(e,a,null,n);var l=e.memoizedState;if(a=l.cache,ls(e,ht,a),a!==s.cache&&cc(e,ht,n),zl(),a=l.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:l.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=X1(t,e,a,n);break e}else if(a!==r){r=On(Error(P(424)),e),io(r),e=X1(t,e,a,n);break e}else for(wt=Zn(e.stateNode.containerInfo.firstChild),Lt=e,Oe=!0,Pn=null,nr=!0,n=p2(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zo(),a===r){e=vr(t,e,n);break e}jt(t,e,a,n)}e=e.child}return e;case 26:return Dl(t,e),n=e.memoizedState=O6(e.type,t===null?null:t.memoizedProps,e.pendingProps),t!==null||Oe||n!==null||(n=e.type,t=e.pendingProps,r=Lu(Os.current).createElement(n),r[_t]=e,r[Ut]=t,Nt(r,n,t),Ot(r),e.stateNode=r),null;case 27:return Xf(e),t===null&&Oe&&(r=e.stateNode=qj(e.type,e.pendingProps,Os.current),Lt=e,nr=!0,wt=Zn(r.firstChild)),r=e.pendingProps.children,t!==null||Oe?jt(t,e,r,n):e.child=ii(e,null,r,n),Dl(t,e),e.child;case 5:return t===null&&Oe&&((s=r=wt)&&(r=l6(r,e.type,e.pendingProps,nr),r!==null?(e.stateNode=r,Lt=e,wt=Zn(r.firstChild),nr=!1,s=!0):s=!1),s||si(e)),Xf(e),s=e.type,a=e.pendingProps,l=t!==null?t.memoizedProps:null,r=a.children,kp(s,a)?r=null:l!==null&&kp(s,l)&&(e.flags|=32),e.memoizedState!==null&&(s=fg(t,e,w7,null,null,n),xu._currentValue=s,$t&&t!==null&&t.memoizedState.memoizedState!==s&&cc(e,xu,n)),Dl(t,e),jt(t,e,r,n),e.child;case 6:return t===null&&Oe&&((t=n=wt)&&(n=o6(n,e.pendingProps,nr),n!==null?(e.stateNode=n,Lt=e,wt=null,t=!0):t=!1),t||si(e)),null;case 13:return nj(t,e,n);case 4:return Ou(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ii(e,null,r,n):jt(t,e,r,n),e.child;case 11:return D1(t,e,e.type,e.pendingProps,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type,s=e.pendingProps,a=e.memoizedProps,l=s.value,ls(e,r,l),a!==null)if(kn(a.value,l)){if(a.children===s.children){e=vr(t,e,n);break e}}else cc(e,r,n);jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type._context,r=e.pendingProps.children,li(e,n),s=Et(s),r=r(s),e.flags|=1,jt(t,e,r,n),e.child;case 14:return Z1(t,e,e.type,e.pendingProps,n);case 15:return ej(t,e,e.type,e.pendingProps,n);case 19:return rj(t,e,n);case 22:return tj(t,e,n);case 24:return li(e,n),r=Et(ht),t===null?(s=dg(),s===null&&(s=Te,a=cg(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:r,cache:s},kg(e),ls(e,ht,s)):(t.lanes&n&&(up(t,e),Ll(e,null,null,n),zl()),s=t.memoizedState,a=e.memoizedState,s.parent!==r?(s={parent:r,cache:r},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),ls(e,ht,r)):(r=a.cache,ls(e,ht,r),r!==s.cache&&cc(e,ht,n))),jt(t,e,e.pendingProps.children,n),e.child}throw Error(P(156,e.tag))}var op=br(null),Qd=null,Vi=null,wg=null;function Ad(){wg=Vi=Qd=null}function ls(t,e,n){qe(op,e._currentValue),e._currentValue=n}function Pr(t){t._currentValue=op.current,vt(op)}function cp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cc(t,e,n){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null)for(var a=r.child,l=s.firstContext;l!==null;){if(l.context===e){if(r.tag===1){l=_r(n&-n),l.tag=2;var o=r.updateQueue;if(o!==null){o=o.shared;var c=o.pending;c===null?l.next=l:(l.next=c.next,c.next=l),o.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),cp(r.return,n,t),s.lanes|=n;break}l=l.next}else if(r.tag===10)a=r.type===t.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),cp(a,n,t),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function li(t,e){Qd=t,wg=Vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function Et(t){return ij(Qd,t)}function uc(t,e,n){return Qd===null&&li(t,n),ij(t,e)}function ij(t,e){var n=e._currentValue;if(wg!==e)if(e={context:e,memoizedValue:n,next:null},Vi===null){if(t===null)throw Error(P(308));Vi=e,t.dependencies={lanes:0,firstContext:e}}else Vi=Vi.next=e;return n}var ns=!1;function kg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function up(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,e=wu(t),c2(t,null,n),e}return $d(t,r,e,n),wu(t)}function Zl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194176)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,My(t,n)}}function Ch(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var dp=!1;function zl(){if(dp){var t=na;if(t!==null)throw t}}function Ll(t,e,n,r){dp=!1;var s=t.updateQueue;ns=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?a=u:l.next=u,l=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;l=0,d=u=c=null,o=a;do{var f=o.lane&-536870913,p=f!==o.lane;if(p?(ge&f)===f:(r&f)===f){f!==0&&f===Oa&&(dp=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,v=o;f=e;var y=n;switch(v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(y,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(y,h,f):x,f==null)break e;h=Ye({},h,f);break e;case 2:ns=!0}}f=o.callback,f!==null&&(t.flags|=64,p&&(t.flags|=8192),p=s.callbacks,p===null?s.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,l|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,a===null&&(s.shared.lanes=0),Xr|=l,t.lanes=l,t.memoizedState=h}}function aj(t,e){if(typeof t!="function")throw Error(P(191,t));t.call(e)}function lj(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)aj(n[t],e)}function Th(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hp={isMounted:function(t){return(t=t._reactInternals)?Ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Er(),s=_r(r);s.payload=e,n!=null&&(s.callback=n),e=vs(t,s,r),e!==null&&(qt(e,t,r),Zl(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Er(),s=_r(r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=vs(t,s,r),e!==null&&(qt(e,t,r),Zl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Er(),r=_r(n);r.tag=2,e!=null&&(r.callback=e),e=vs(t,r,n),e!==null&&(qt(e,t,n),Zl(e,t,n))}};function q1(t,e,n,r,s,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,l):e.prototype&&e.prototype.isPureReactComponent?!so(n,r)||!so(s,a):!0}function Y1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hp.enqueueReplaceState(e,e.state,null)}function oi(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Ye({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var Tr=!1,Tt=!1,Rh=!1,V1=typeof WeakSet=="function"?WeakSet:Set,xt=null;function oj(t,e){e.props=oi(t.type,t.memoizedProps),e.state=t.memoizedState,e.componentWillUnmount()}function Hs(t,e){try{var n=t.ref;if(n!==null){var r=t.stateNode;switch(t.tag){case 26:case 27:case 5:var s=r;break;default:s=r}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(a){Qe(t,e,a)}}function on(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){Qe(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Qe(t,e,s)}else n.current=null}function fp(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var W1=!1;function A7(t,e){if(Sp=qu,t=n2(),rg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(o=l+s),h!==a||r!==0&&h.nodeType!==3||(c=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(o=l),f===a&&++d===r&&(c=l),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(wp={focusedElem:t,selectionRange:n},qu=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var x=e.alternate,v=e.flags;switch(e.tag){case 0:break;case 11:case 15:break;case 1:if(v&1024&&x!==null){var y=x.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(oi(e.type,x.memoizedProps),y);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:if(v&1024){var O=e.stateNode.containerInfo,b=O.nodeType;if(b===9)$p(O);else if(b===1)switch(O.nodeName){case"HEAD":case"HTML":case"BODY":$p(O);break;default:O.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(v&1024)throw Error(P(163))}}catch(w){Qe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return x=W1,W1=!1,x}function ba(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.inst,l=a.destroy;l!==void 0&&(a.destroy=void 0,fp(e,n,l))}s=s.next}while(s!==r)}}function $g(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create,s=n.inst;r=r(),s.destroy=r}n=n.next}while(n!==e)}}function cj(t,e){try{$g(e,t)}catch(n){Qe(t,t.return,n)}}function uj(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{lj(e,n)}catch(r){Qe(t,t.return,r)}}}function dj(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src&&(r.src=n.src)}}catch(s){Qe(t,t.return,s)}}function hj(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:kr(t,n),r&4&&cj(n,5);break;case 1:if(kr(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){Qe(n,n.return,o)}else{var s=oi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){Qe(n,n.return,o)}}r&64&&uj(n),r&512&&Hs(n,n.return);break;case 3:if(kr(t,n),r&64&&(r=n.updateQueue,r!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{lj(r,t)}catch(o){Qe(n,n.return,o)}}break;case 26:kr(t,n),r&512&&Hs(n,n.return);break;case 27:case 5:kr(t,n),e===null&&r&4&&dj(n),r&512&&Hs(n,n.return);break;case 12:kr(t,n);break;case 13:kr(t,n),r&4&&gj(t,n);break;case 22:if(s=n.memoizedState!==null||Tr,!s){e=e!==null&&e.memoizedState!==null||Tt;var a=Tr,l=Tt;Tr=s,(Tt=e)&&!l?es(t,n,(n.subtreeFlags&8772)!==0):kr(t,n),Tr=a,Tt=l}r&512&&(n.memoizedProps.mode==="manual"?Hs(n,n.return):on(n,n.return));break;default:kr(t,n)}}function fj(t){var e=t.alternate;e!==null&&(t.alternate=null,fj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Fm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pj(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Qh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ed));else if(r!==4&&r!==27&&(t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}function Pu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&r!==27&&(t=t.child,t!==null))for(Pu(t,e,n),t=t.sibling;t!==null;)Pu(t,e,n),t=t.sibling}var st=null,an=!1;function wr(t,e,n){for(n=n.child;n!==null;)mj(t,e,n),n=n.sibling}function mj(t,e,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Mo,n)}catch{}switch(n.tag){case 26:Tt||on(n,e),wr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Tt||on(n,e);var r=st,s=an;for(st=n.stateNode,wr(t,e,n),n=n.stateNode,t=n.attributes;t.length;)n.removeAttributeNode(t[0]);Fm(n),st=r,an=s;break;case 5:Tt||on(n,e);case 6:r=st,s=an,st=null,wr(t,e,n),st=r,an=s,st!==null&&(an?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(an?(t=st,n=n.stateNode,t.nodeType===8?Uh(t.parentNode,n):t.nodeType===1&&Uh(t,n),mo(t)):Uh(st,n.stateNode));break;case 4:r=st,s=an,st=n.stateNode.containerInfo,an=!0,wr(t,e,n),st=r,an=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s.tag,l=s.inst,o=l.destroy;o!==void 0&&(a&2||a&4)&&(l.destroy=void 0,fp(n,e,o)),s=s.next}while(s!==r)}wr(t,e,n);break;case 1:if(!Tt&&(on(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{oj(n,r)}catch(c){Qe(n,e,c)}wr(t,e,n);break;case 21:wr(t,e,n);break;case 22:on(n,e),Tt=(r=Tt)||n.memoizedState!==null,wr(t,e,n),Tt=r;break;default:wr(t,e,n)}}function gj(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mo(t)}catch(n){Qe(e,e.return,n)}}function P7(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new V1),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new V1),e;default:throw Error(P(435,t.tag))}}function Ah(t,e){var n=P7(t);e.forEach(function(r){var s=W7.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 27:case 5:st=o.stateNode,an=!1;break e;case 3:st=o.stateNode.containerInfo,an=!0;break e;case 4:st=o.stateNode.containerInfo,an=!0;break e}o=o.return}if(st===null)throw Error(P(160));mj(a,l,s),st=null,an=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qe(s,e,u)}}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)xj(e,t),e=e.sibling}var An=null;function xj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),Qn(t),r&4){try{ba(3,t,t.return),$g(3,t)}catch(p){Qe(t,t.return,p)}try{ba(5,t,t.return)}catch(p){Qe(t,t.return,p)}}break;case 1:Rn(e,t),Qn(t),r&512&&n!==null&&on(n,n.return),r&64&&Tr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=An;if(Rn(e,t),Qn(t),r&512&&n!==null&&on(n,n.return),r&4){if(e=n!==null?n.memoizedState:null,r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,e=s.ownerDocument||s;t:switch(r){case"title":s=e.getElementsByTagName("title")[0],(!s||s[to]||s[_t]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=e.createElement(r),e.head.insertBefore(s,e.querySelector("head > title"))),Nt(s,r,n),s[_t]=t,Ot(s),r=s;break e;case"link":var a=ox("link","href",e).get(r+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=e.createElement(r),Nt(s,r,n),e.head.appendChild(s);break;case"meta":if(a=ox("meta","content",e).get(r+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=e.createElement(r),Nt(s,r,n),e.head.appendChild(s);break;default:throw Error(P(468,r))}s[_t]=t,Ot(s),r=s}t.stateNode=r}else cx(s,t.type,t.stateNode);else t.stateNode=lx(s,r,t.memoizedProps);else if(e!==r)e===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):e.count--,r===null?cx(s,t.type,t.stateNode):lx(s,r,t.memoizedProps);else if(r===null&&t.stateNode!==null)try{var o=t.stateNode,c=t.memoizedProps;nx(o,t.type,n.memoizedProps,c),o[Ut]=c}catch(p){Qe(t,t.return,p)}}break;case 27:if(r&4&&t.alternate===null){for(s=t.stateNode,a=t.memoizedProps,l=s.firstChild;l;){var u=l.nextSibling,d=l.nodeName;l[to]||d==="HEAD"||d==="BODY"||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&l.rel.toLowerCase()==="stylesheet"||s.removeChild(l),l=u}for(l=t.type,u=s.attributes;u.length;)s.removeAttributeNode(u[0]);Nt(s,l,a),s[_t]=t,s[Ut]=a}case 5:if(Rn(e,t),Qn(t),r&512&&n!==null&&on(n,n.return),t.flags&32){e=t.stateNode;try{ga(e,"")}catch(p){Qe(t,t.return,p)}}if(r&4&&(e=t.stateNode,e!=null)){s=t.memoizedProps,n=n!==null?n.memoizedProps:s,a=t.type;try{nx(e,a,n,s),e[Ut]=s}catch(p){Qe(t,t.return,p)}}r&1024&&(Rh=!0);break;case 6:if(Rn(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(P(162));r=t.stateNode,n=t.memoizedProps;try{r.nodeValue=n}catch(p){Qe(t,t.return,p)}}break;case 3:if(Jc=null,s=An,An=Bu(e.containerInfo),Rn(e,t),An=s,Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mo(e.containerInfo)}catch(p){Qe(t,t.return,p)}Rh&&(Rh=!1,Oj(t));break;case 4:r=An,An=Bu(t.stateNode.containerInfo),Rn(e,t),Qn(t),An=r;break;case 13:Rn(e,t),Qn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ag=hr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ah(t,r)));break;case 22:r&512&&n!==null&&on(n,n.return),o=t.memoizedState!==null,c=n!==null&&n.memoizedState!==null;var h=Tr,f=Tt;if(Tr=h||o,Tt=f||c,Rn(e,t),Tt=f,Tr=h,Qn(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,r&8192&&(e._visibility=o?e._visibility&-2:e._visibility|1,o&&(e=Tr||Tt,n===null||c||e||_i(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(n=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(n===null){n=e;try{s=e.stateNode,o?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=e.stateNode,u=e.memoizedProps.style,d=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=d==null||typeof d=="boolean"?"":(""+d).trim())}catch(p){Qe(t,t.return,p)}}}else if(e.tag===6){if(n===null)try{e.stateNode.nodeValue=o?"":e.memoizedProps}catch(p){Qe(t,t.return,p)}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ah(t,n))));break;case 19:Rn(e,t),Qn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ah(t,r)));break;case 21:break;default:Rn(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var n=t.return;n!==null;){if(pj(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 27:var s=r.stateNode,a=Qh(t);Pu(t,a,s);break;case 5:var l=r.stateNode;r.flags&32&&(ga(l,""),r.flags&=-33);var o=Qh(t);Pu(t,o,l);break;case 3:case 4:var c=r.stateNode.containerInfo,u=Qh(t);pp(t,u,c);break;default:throw Error(P(161))}}}catch(d){Qe(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Oj(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Oj(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function kr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)hj(t,e.alternate,e),e=e.sibling}function _i(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ba(4,e,e.return),_i(e);break;case 1:on(e,e.return);var n=e.stateNode;if(typeof n.componentWillUnmount=="function"){var r=e,s=e.return;try{oj(r,n)}catch(a){Qe(r,s,a)}}_i(e);break;case 26:case 27:case 5:on(e,e.return),_i(e);break;case 22:on(e,e.return),e.memoizedState===null&&_i(e);break;default:_i(e)}t=t.sibling}}function es(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,s=t,a=e,l=a.flags;switch(a.tag){case 0:case 11:case 15:es(s,a,n),cj(a,4);break;case 1:if(es(s,a,n),s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){Qe(a,a.return,c)}if(r=a.updateQueue,r!==null){var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)aj(o[r],s)}n&&l&64&&uj(a),Hs(a,a.return);break;case 26:case 27:case 5:es(s,a,n),n&&r===null&&l&4&&dj(a),Hs(a,a.return);break;case 12:es(s,a,n);break;case 13:es(s,a,n),n&&l&4&&gj(s,a);break;case 22:a.memoizedState===null&&es(s,a,n),Hs(a,a.return);break;default:es(s,a,n)}e=e.sibling}}function vj(t,e){try{$g(e,t)}catch(n){Qe(t,t.return,n)}}function Ng(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&zo(n))}function Cg(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zo(t))}function Ci(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bj(t,e,n,r),e=e.sibling}function bj(t,e,n,r){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Ci(t,e,n,r),s&2048&&vj(e,9);break;case 3:Ci(t,e,n,r),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zo(t)));break;case 23:break;case 22:var a=e.stateNode;e.memoizedState!==null?a._visibility&4?Ci(t,e,n,r):Bl(t,e):a._visibility&4?Ci(t,e,n,r):(a._visibility|=4,Ei(t,e,n,r,(e.subtreeFlags&10256)!==0)),s&2048&&Ng(e.alternate,e);break;case 24:Ci(t,e,n,r),s&2048&&Cg(e.alternate,e);break;default:Ci(t,e,n,r)}}function Ei(t,e,n,r,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,l=e,o=n,c=r,u=l.flags;switch(l.tag){case 0:case 11:case 15:Ei(a,l,o,c,s),vj(l,8);break;case 23:break;case 22:var d=l.stateNode;l.memoizedState!==null?d._visibility&4?Ei(a,l,o,c,s):Bl(a,l):(d._visibility|=4,Ei(a,l,o,c,s)),s&&u&2048&&Ng(l.alternate,l);break;case 24:Ei(a,l,o,c,s),s&&u&2048&&Cg(l.alternate,l);break;default:Ei(a,l,o,c,s)}e=e.sibling}}function Bl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,s=r.flags;switch(r.tag){case 22:Bl(n,r),s&2048&&Ng(r.alternate,r);break;case 24:Bl(n,r),s&2048&&Cg(r.alternate,r);break;default:Bl(n,r)}e=e.sibling}}var bl=8192;function Ti(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)yj(t),t=t.sibling}function yj(t){switch(t.tag){case 26:Ti(t),t.flags&bl&&t.memoizedState!==null&&j6(An,t.memoizedState,t.memoizedProps);break;case 5:Ti(t);break;case 3:case 4:var e=An;An=Bu(t.stateNode.containerInfo),Ti(t),An=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=bl,bl=16777216,Ti(t),bl=e):Ti(t));break;default:Ti(t)}}function jj(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ph(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];xt=r,wj(r,t)}jj(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sj(t),t=t.sibling}function Sj(t){switch(t.tag){case 0:case 11:case 15:Ph(t),t.flags&2048&&ba(9,t,t.return);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,Ic(t)):Ph(t);break;default:Ph(t)}}function Ic(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];xt=r,wj(r,t)}jj(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ba(8,e,e.return),Ic(e);break;case 22:n=e.stateNode,n._visibility&4&&(n._visibility&=-5,Ic(e));break;default:Ic(e)}t=t.sibling}}function wj(t,e){for(;xt!==null;){var n=xt;switch(n.tag){case 0:case 11:case 15:ba(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:zo(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,xt=r;else e:for(n=t;xt!==null;){r=xt;var s=r.sibling,a=r.return;if(fj(r),r===n){xt=null;break e}if(s!==null){s.return=a,xt=s;break e}xt=a}}}function _7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new _7(t,e,n,r)}function Tg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bs(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function kj(t,e){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Gc(t,e,n,r,s,a){var l=0;if(r=t,typeof t=="function")Tg(t)&&(l=1);else if(typeof t=="string")l=b6(t,n,dr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ml:return ti(n.children,s,a,e);case ik:l=8,s|=24;break;case n1:return t=_n(12,n,e,s|2),t.elementType=n1,t.lanes=a,t;case r1:return t=_n(13,n,e,s),t.elementType=r1,t.lanes=a,t;case s1:return t=_n(19,n,e,s),t.elementType=s1,t.lanes=a,t;case $y:return $j(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ak:case ds:l=10;break e;case lk:l=9;break e;case wy:l=11;break e;case ky:l=14;break e;case Us:l=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=_n(l,n,e,s),e.elementType=t,e.type=r,e.lanes=a,e}function ti(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function $j(t,e,n,r){t=_n(22,t,r,e),t.elementType=$y,t.lanes=n;var s={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var a=s._current;if(a===null)throw Error(P(456));if(!(s._pendingVisibility&2)){var l=$s(a,2);l!==null&&(s._pendingVisibility|=2,qt(l,a,2))}},attach:function(){var a=s._current;if(a===null)throw Error(P(456));if(s._pendingVisibility&2){var l=$s(a,2);l!==null&&(s._pendingVisibility&=-3,qt(l,a,2))}}};return t.stateNode=s,t}function _h(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function Eh(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $r(t){t.flags|=4}function H1(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,(ge&42)===0&&(e=!(e.type==="stylesheet"&&!(e.state.loading&3)),!e))if(Aj())t.flags|=8192;else throw El=Kf,d2}function dc(t,e){e!==null?t.flags|=4:t.flags&16384&&(e=t.tag!==22?_y():536870912,t.lanes|=e)}function tl(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&31457280,r|=s.flags&31457280,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E7(t,e,n){var r=e.pendingProps;switch(lg(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(e),null;case 1:return Ge(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Pr(ht),pa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ka(e)?$r(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(Op(Pn),Pn=null))),Ge(e),null;case 26:if(n=e.memoizedState,t===null)$r(e),n!==null?(Ge(e),H1(e,n)):(Ge(e),e.flags&=-16777217);else{var s=t.memoizedState;n!==s&&$r(e),n!==null?(Ge(e),n===s?e.flags&=-16777217:H1(e,n)):(t.memoizedProps!==r&&$r(e),Ge(e),e.flags&=-16777217)}return null;case 27:if(vu(e),n=Os.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&$r(e);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Ge(e),null}t=dr.current,Ka(e)?C1(e):(t=qj(s,r,n),e.stateNode=t,$r(e))}return Ge(e),null;case 5:if(vu(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&$r(e);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Ge(e),null}if(t=dr.current,Ka(e))C1(e);else{switch(s=Lu(Os.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?s.createElement(n,{is:r.is}):s.createElement(n)}}t[_t]=e,t[Ut]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;e:switch(Nt(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$r(e)}}return Ge(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&$r(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(t=Os.current,Ka(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,s=Lt,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}t[_t]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Bj(t.nodeValue,n)),t||si(e)}else t=Lu(t).createTextNode(r),t[_t]=e,e.stateNode=t}return Ge(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Ka(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[_t]=e}else Zo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ge(e),s=!1}else Pn!==null&&(Op(Pn),Pn=null),s=!0;if(!s)return e.flags&256?(Ar(e),e):(Ar(e),null)}if(Ar(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==s&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),dc(e,e.updateQueue),Ge(e),null;case 4:return pa(),t===null&&Mg(e.stateNode.containerInfo),Ge(e),null;case 10:return Pr(e.type),Ge(e),null;case 19:if(vt(pt),s=e.memoizedState,s===null)return Ge(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)tl(s,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Cu(t),a!==null){for(e.flags|=128,tl(s,!1),t=a.updateQueue,e.updateQueue=t,dc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)kj(n,t),n=n.sibling;return qe(pt,pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&hr()>Eu&&(e.flags|=128,r=!0,tl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Cu(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,dc(e,t),tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Oe)return Ge(e),null}else 2*hr()-s.renderingStartTime>Eu&&n!==536870912&&(e.flags|=128,r=!0,tl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=hr(),e.sibling=null,t=pt.current,qe(pt,r?t&1|2:t&1),e):(Ge(e),null);case 22:case 23:return Ar(e),og(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Ge(e),e.subtreeFlags&6&&(e.flags|=8192)):Ge(e),n=e.updateQueue,n!==null&&dc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&vt(ei),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Pr(ht),Ge(e),null;case 25:return null}throw Error(P(156,e.tag))}function M7(t,e){switch(lg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pr(ht),pa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return vu(e),null;case 13:if(Ar(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Zo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vt(pt),null;case 4:return pa(),null;case 10:return Pr(e.type),null;case 22:case 23:return Ar(e),og(),t!==null&&vt(ei),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Pr(ht),null;case 25:return null;default:return null}}function Nj(t,e){switch(lg(e),e.tag){case 3:Pr(ht),pa();break;case 26:case 27:case 5:vu(e);break;case 4:pa();break;case 13:Ar(e);break;case 19:vt(pt);break;case 10:Pr(e.type);break;case 22:case 23:Ar(e),og(),t!==null&&vt(ei);break;case 24:Pr(ht)}}var D7={getCacheForType:function(t){var e=Et(ht),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},Z7=typeof WeakMap=="function"?WeakMap:Map,ke=0,Te=null,pe=null,ge=0,Ve=0,fn=null,Rg=!1,Br=0,Fe=0,Xr=0,za=0,Qg=0,en=0,Xl=null,En=null,ya=!1,_u=!1,Ag=0,Eu=1/0,oo=null,ys=null,hc=!1,Ys=null,Ul=0,mp=0,gp=null,ql=0,xp=null;function Er(){if(ke&2&&ge!==0)return ge&-ge;if(ug()!==null){var t=Oa;return t!==0?t:Eg()}return Zy()}function Cj(){en===0&&(en=!(ge&536870912)||Oe?Py():536870912);var t=xr.current;return t!==null&&(t.flags|=32),en}function qt(t,e,n){(t===Te&&Ve===2||t.cancelPendingCommit!==null)&&(yi(t,0),ar(t,ge,en)),Bo(t,n),(!(ke&2)||t!==Te)&&(t===Te&&(!(ke&2)&&(za|=n),Fe===4&&ar(t,ge,en)),tn(t))}function Tj(t,e){if(ke&6)throw Error(P(327));var n=t.callbackNode;if(aa()&&t.callbackNode!==n)return null;var r=yu(t,t===Te?ge:0);if(r===0)return null;var s=(r&60)===0&&(r&t.expiredLanes)===0&&!e;if(e=s?X7(t,r):Mu(t,r),e!==0){var a=s;do{if(e===6)ar(t,r,0);else{if(s=t.current.alternate,a&&!z7(s)){e=Mu(t,r),a=!1;continue}if(e===2){a=r;var l=Ay(t,a);if(l!==0&&(r=l,e=Rj(t,a,l),a=!1,e!==2))continue}if(e===1){yi(t,0),ar(t,r,0);break}t.finishedWork=s,t.finishedLanes=r;e:{switch(a=t,e){case 0:case 1:throw Error(P(345));case 4:if((r&4194176)===r){ar(a,r,en);break e}break;case 2:En=null;break;case 3:case 5:break;default:throw Error(P(329))}if((r&62914560)===r&&(e=Ag+300-hr(),10<e)){if(ar(a,r,en),yu(a,0)!==0)break e;a.timeoutHandle=Uj(I1.bind(null,a,s,En,oo,ya,r,en),e);break e}I1(a,s,En,oo,ya,r,en)}}break}while(!0)}return tn(t),Zj(t,hr()),t=t.callbackNode===n?Tj.bind(null,t):null,t}function Rj(t,e,n){var r=Xl,s=t.current.memoizedState.isDehydrated;if(s&&(yi(t,n).flags|=256),n=Mu(t,n),n!==2){if(Rg&&!s)return t.errorRecoveryDisabledLanes|=e,za|=e,4;t=En,En=r,t!==null&&Op(t)}return n}function Op(t){En===null?En=t:En.push.apply(En,t)}function I1(t,e,n,r,s,a,l){if(!(a&42)&&(ho={stylesheets:null,count:0,unsuspend:y6},yj(e),e=S6(),e!==null)){t.cancelPendingCommit=e(bp.bind(null,t,n,r,s)),ar(t,a,l);return}bp(t,n,r,s,l)}function z7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!kn(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bo(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0),ke&2?ya=!0:ke&4&&(_u=!0),_g()}function ar(t,e,n){e&=~Qg,e&=~za,t.suspendedLanes|=e,t.pingedLanes&=~e;for(var r=t.expirationTimes,s=e;0<s;){var a=31-jn(s),l=1<<a;r[a]=-1,s&=~l}n!==0&&Ey(t,n,e)}function L7(t,e){if(ke&6)throw Error(P(327));if(aa())return tn(t),null;var n=Mu(t,e);if(n===2){var r=e,s=Ay(t,r);s!==0&&(e=s,n=Rj(t,r,s))}return n===1?(yi(t,0),ar(t,e,0),tn(t),null):n===6?(ar(t,e,en),tn(t),null):(t.finishedWork=t.current.alternate,t.finishedLanes=e,bp(t,En,oo,ya,en),tn(t),null)}function Pd(){return ke&6?!0:(Xo(),!1)}function Pg(){if(pe!==null){if(Ve===0)var t=pe.return;else t=pe,Ad(),gg(t),ta=null,ao=0,t=pe;for(;t!==null;)Nj(t.alternate,t),t=t.return;pe=null}}function yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,s6(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Pg(),Te=t,pe=n=bs(t.current,null),ge=e,Ve=0,fn=null,Rg=!1,en=Qg=za=Xr=Fe=0,En=Xl=null,ya=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var s=31-jn(r),a=1<<s;e|=t[s],r&=~a}return Br=e,kd(),n}function Qj(t,e){le=null,he.H=Or,e===Yc?(e=Q1(),Ve=Aj()&&!(Xr&134217727)&&!(za&134217727)?2:3):e===d2?(e=Q1(),Ve=4):Ve=e===K2?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,fn=e,pe===null&&(Fe=1,Au(t,On(e,t.current)))}function Aj(){var t=xr.current;return t===null?!0:(ge&4194176)===ge?fr===null:(ge&62914560)===ge||ge&536870912?t===fr:!1}function Pj(){var t=he.H;return he.H=Or,t===null?Or:t}function _j(){var t=he.A;return he.A=D7,t}function vp(){Fe=4,!(Xr&134217727)&&!(za&134217727)||Te===null||ar(Te,ge,en)}function Mu(t,e){var n=ke;ke|=2;var r=Pj(),s=_j();(Te!==t||ge!==e)&&(oo=null,yi(t,e)),e=!1;e:do try{if(Ve!==0&&pe!==null){var a=pe,l=fn;switch(Ve){case 8:Pg(),Fe=6;break e;case 3:case 2:e||xr.current!==null||(e=!0);default:Ve=0,fn=null,yl(t,a,l)}}B7();break}catch(o){Qj(t,o)}while(!0);if(e&&t.shellSuspendCounter++,Ad(),ke=n,he.H=r,he.A=s,pe!==null)throw Error(P(261));return Te=null,ge=0,kd(),Fe}function B7(){for(;pe!==null;)Ej(pe)}function X7(t,e){var n=ke;ke|=2;var r=Pj(),s=_j();(Te!==t||ge!==e)&&(oo=null,Eu=hr()+500,yi(t,e));e:do try{if(Ve!==0&&pe!==null){e=pe;var a=fn;t:switch(Ve){case 1:Ve=0,fn=null,yl(t,e,a);break;case 2:if(R1(a)){Ve=0,fn=null,G1(e);break}e=function(){Ve===2&&Te===t&&(Ve=7),tn(t)},a.then(e,e);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:R1(a)?(Ve=0,fn=null,G1(e)):(Ve=0,fn=null,yl(t,e,a));break;case 5:switch(pe.tag){case 5:case 26:case 27:e=pe,Ve=0,fn=null;var l=e.sibling;if(l!==null)pe=l;else{var o=e.return;o!==null?(pe=o,_d(o)):pe=null}break t}Ve=0,fn=null,yl(t,e,a);break;case 6:Ve=0,fn=null,yl(t,e,a);break;case 8:Pg(),Fe=6;break e;default:throw Error(P(462))}}U7();break}catch(c){Qj(t,c)}while(!0);return Ad(),he.H=r,he.A=s,ke=n,pe!==null?0:(Te=null,ge=0,kd(),Fe)}function U7(){for(;pe!==null&&!uk();)Ej(pe)}function Ej(t){var e=sj(t.alternate,t,Br);t.memoizedProps=t.pendingProps,e===null?_d(t):pe=e}function G1(t){var e=t.alternate;switch(t.tag){case 15:case 0:e=L1(e,t,t.pendingProps,t.type,void 0,ge);break;case 11:e=L1(e,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:gg(t);default:Nj(e,t),t=pe=kj(t,Br),e=sj(e,t,Br)}t.memoizedProps=t.pendingProps,e===null?_d(t):pe=e}function yl(t,e,n){Ad(),gg(e),ta=null,ao=0;var r=e.return;try{if(R7(t,r,e,n,ge)){Fe=1,Au(t,On(n,t.current)),pe=null;return}}catch(s){if(r!==null)throw pe=r,s;Fe=1,Au(t,On(n,t.current)),pe=null;return}if(e.flags&32768)e:{t=e;do{if(e=M7(t.alternate,t),e!==null){e.flags&=32767,pe=e;break e}t=t.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),pe=t}while(t!==null);Fe=6,pe=null}else _d(e)}function _d(t){var e=t;do{t=e.return;var n=E7(e.alternate,e,Br);if(n!==null){pe=n;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);Fe===0&&(Fe=5)}function bp(t,e,n,r,s){var a=he.T,l=Xe.p;try{Xe.p=2,he.T=null,q7(t,e,n,r,l,s)}finally{he.T=a,Xe.p=l}return null}function q7(t,e,n,r,s,a){do aa();while(Ys!==null);if(ke&6)throw Error(P(327));var l=t.finishedWork,o=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(c|=sg,yk(t,c,a),_u=!1,t===Te&&(pe=Te=null,ge=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||hc||(hc=!0,mp=c,gp=n,H7(bu,function(){return aa(),null})),n=(l.flags&15990)!==0,l.subtreeFlags&15990||n){n=he.T,he.T=null,a=Xe.p,Xe.p=2;var u=ke;ke|=4,A7(t,l),xj(l,t),h7(wp),qu=!!Sp,wp=Sp=null,t.current=l,hj(t,l.alternate,l),dk(),ke=u,Xe.p=a,he.T=n}else t.current=l;if(hc?(hc=!1,Ys=t,Ul=o):Mj(t,c),c=t.pendingLanes,c===0&&(ys=null),gk(l.stateNode),tn(t),e!==null)for(s=t.onRecoverableError,l=0;l<e.length;l++)c=e[l],s(c.value,{componentStack:c.stack});return Ul&3&&aa(),c=t.pendingLanes,r||_u||o&4194218&&c&42?t===xp?ql++:(ql=0,xp=t):ql=0,Xo(),null}function Mj(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,zo(e)))}function aa(){if(Ys!==null){var t=Ys,e=mp;mp=0;var n=Dy(Ul),r=he.T,s=Xe.p;try{if(Xe.p=32>n?32:n,he.T=null,Ys===null)var a=!1;else{n=gp,gp=null;var l=Ys,o=Ul;if(Ys=null,Ul=0,ke&6)throw Error(P(331));var c=ke;if(ke|=4,Sj(l.current),bj(l,l.current,o,n),ke=c,Xo(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Mo,l)}catch{}a=!0}return a}finally{Xe.p=s,he.T=r,Mj(t,e)}}return!1}function F1(t,e,n){e=On(n,e),e=sp(t.stateNode,e,2),t=vs(t,e,2),t!==null&&(Bo(t,2),tn(t))}function Qe(t,e,n){if(t.tag===3)F1(t,t,n);else for(;e!==null;){if(e.tag===3){F1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ys===null||!ys.has(r))){t=On(n,t),n=F2(2),r=vs(e,n,2),r!==null&&(J2(n,r,e,t),Bo(r,2),tn(r));break}}e=e.return}}function Mh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z7;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(Rg=!0,s.add(n),t=Y7.bind(null,t,e,n),e.then(t,t))}function Y7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,ke&2?ya=!0:ke&4&&(_u=!0),_g(),Te===t&&(ge&n)===n&&(Fe===4||Fe===3&&(ge&62914560)===ge&&300>hr()-Ag?!(ke&2)&&yi(t,0):Qg|=n),tn(t)}function Dj(t,e){e===0&&(e=_y()),t=$s(t,e),t!==null&&(Bo(t,e),tn(t))}function V7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dj(t,n)}function W7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(P(314))}r!==null&&r.delete(e),Dj(t,n)}function _g(){if(50<ql)throw ql=0,xp=null,ke&2&&Te!==null&&(Te.errorRecoveryDisabledLanes|=ge),Error(P(185))}function H7(t,e){return Im(t,e)}var Du=null,Mi=null,yp=!1,Zu=!1,Dh=!1,ni=0;function tn(t){t!==Mi&&t.next===null&&(Mi===null?Du=Mi=t:Mi=Mi.next=t),Zu=!0,yp||(yp=!0,G7(I7))}function Xo(){if(!Dh&&Zu){Dh=!0;do for(var t=!1,e=Du;e!==null;){var n=ge;n=yu(e,e===Te?n:0),n&3&&(t=!0,L7(e,n)),e=e.next}while(t);Dh=!1}}function I7(){Zu=yp=!1;for(var t=hr(),e=null,n=Du;n!==null;){var r=n.next;if(ni!==0&&r6()){var s=n,a=ni;s.pendingLanes|=2,s.entangledLanes|=2,s.entanglements[1]|=a}s=Zj(n,t),s===0?(n.next=null,e===null?Du=r:e.next=r,r===null&&(Mi=e)):(e=n,s&3&&(Zu=!0)),n=r}ni=0,Xo()}function Zj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var l=31-jn(a),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=bk(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}if(e=Te,n=ge,n=yu(t,t===e?n:0),r=t.callbackNode,n===0||t===e&&Ve===2||t.cancelPendingCommit!==null)return r!==null&&r!==null&&ch(r),t.callbackNode=null,t.callbackPriority=0;if(n&3)return r!==null&&r!==null&&ch(r),t.callbackPriority=2,t.callbackNode=null,2;if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&ch(r),Dy(n)){case 2:n=Gm;break;case 8:n=Ry;break;case 32:n=bu;break;case 268435456:n=Qy;break;default:n=bu}return r=Tj.bind(null,t),n=Im(n,r),t.callbackPriority=e,t.callbackNode=n,e}function G7(t){i6(function(){ke&6?Im(Gm,t):t()})}function Eg(){return ni===0&&(ni=Py()),ni}function J1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xc(""+t)}function K1(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function F7(t,e,n,r,s){if(e==="submit"&&n&&n.stateNode===s){var a=J1((s[Ut]||null).action),l=r.submitter;l&&(e=(e=l[Ut]||null)?J1(e.formAction):l.getAttribute("formAction"),e!==null&&(a=e,l=null));var o=new jd("action","action",null,r,s);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ni!==0){var c=l?K1(s,l):new FormData(s);rp(n,{pending:!0,data:c,method:s.method,action:a},null,c)}}else typeof a=="function"&&(o.preventDefault(),c=l?K1(s,l):new FormData(s),rp(n,{pending:!0,data:c,method:s.method,action:a},a,c))},currentTarget:s}]})}}for(var Zh=0;Zh<$1.length;Zh++){var zh=$1[Zh],J7=zh.toLowerCase(),K7=zh[0].toUpperCase()+zh.slice(1);Xn(J7,"on"+K7)}Xn(s2,"onAnimationEnd");Xn(i2,"onAnimationIteration");Xn(a2,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(p7,"onTransitionRun");Xn(m7,"onTransitionStart");Xn(g7,"onTransitionCancel");Xn(l2,"onTransitionEnd");ma("onMouseEnter",["mouseout","mouseover"]);ma("onMouseLeave",["mouseout","mouseover"]);ma("onPointerEnter",["pointerout","pointerover"]);ma("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e6=new Set("cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function zj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=u;try{a(s)}catch(d){Qu(d)}s.currentTarget=null,a=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=u;try{a(s)}catch(d){Qu(d)}s.currentTarget=null,a=c}}}}function we(t,e){var n=e[qf];n===void 0&&(n=e[qf]=new Set);var r=t+"__bubble";n.has(r)||(Lj(e,t,2,!1),n.add(r))}function Lh(t,e,n){var r=0;e&&(r|=4),Lj(n,t,r,e)}var fc="_reactListening"+Math.random().toString(36).slice(2);function Mg(t){if(!t[fc]){t[fc]=!0,zy.forEach(function(n){n!=="selectionchange"&&(e6.has(n)||Lh(n,!1,t),Lh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fc]||(e[fc]=!0,Lh("selectionchange",!1,e))}}function Lj(t,e,n,r){switch(Fj(e)){case 2:var s=N6;break;case 8:s=C6;break;default:s=Lg}n=s.bind(null,e,n,t),s=void 0,!If||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bh(t,e,n,r,s){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Ws(o),l===null)return;if(c=l.tag,c===5||c===6||c===26||c===27){r=a=l;continue e}o=o.parentNode}}r=r.return}Wy(function(){var u=a,d=Km(n),h=[];e:{var f=o2.get(t);if(f!==void 0){var p=jd,x=t;switch(t){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":p=Wk;break;case"focusin":x="focus",p=Oh;break;case"focusout":x="blur",p=Oh;break;case"beforeblur":case"afterblur":p=Oh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=p1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Gk;break;case s2:case i2:case a2:p=Zk;break;case l2:p=Jk;break;case"scroll":case"scrollend":p=Pk;break;case"wheel":p=e7;break;case"copy":case"cut":case"paste":p=Lk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=g1}var v=(e&4)!==0,y=!v&&(t==="scroll"||t==="scrollend"),g=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,O;m!==null;){var b=m;if(O=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||O===null||g===null||(b=no(m,g),b!=null&&v.push(uo(m,b,O))),y)break;m=m.return}0<v.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Hf&&(x=n.relatedTarget||n.fromElement)&&(Ws(x)||x[Ma]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?Ws(x):null,x!==null&&(y=Ea(x),v=x.tag,x!==y||v!==5&&v!==27&&v!==6)&&(x=null)):(p=null,x=u),p!==x)){if(v=p1,b="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=g1,b="onPointerLeave",g="onPointerEnter",m="pointer"),y=p==null?f:Ol(p),O=x==null?f:Ol(x),f=new v(b,m+"leave",p,n,d),f.target=y,f.relatedTarget=O,b=null,Ws(d)===u&&(v=new v(g,m+"enter",x,n,d),v.target=O,v.relatedTarget=y,b=v),y=b,p&&x)t:{for(v=p,g=x,m=0,O=v;O;O=Ri(O))m++;for(O=0,b=g;b;b=Ri(b))O++;for(;0<m-O;)v=Ri(v),m--;for(;0<O-m;)g=Ri(g),O--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ri(v),g=Ri(g)}v=null}else v=null;p!==null&&ex(h,f,p,v,!1),x!==null&&y!==null&&ex(h,y,x,v,!0)}}e:{if(f=u?Ol(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=b1;else if(v1(f))if(Ky)w=u7;else{w=o7;var S=l7}else p=f.nodeName,!p||p.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Jm(u.elementType)&&(w=b1):w=c7;if(w&&(w=w(t,u))){Jy(h,w,n,d);break e}S&&S(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&Wf(f,"number",f.value)}switch(S=u?Ol(u):window,t){case"focusin":(v1(S)||S.contentEditable==="true")&&(Li=S,Gf=u,_l=null);break;case"focusout":_l=Gf=Li=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,k1(h,n,d);break;case"selectionchange":if(f7)break;case"keydown":case"keyup":k1(h,n,d)}var k;if(ng)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else zi?Gy(t,n)&&($="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Iy&&n.locale!=="ko"&&(zi||$!=="onCompositionStart"?$==="onCompositionEnd"&&zi&&(k=Hy()):(fs=d,eg="value"in fs?fs.value:fs.textContent,zi=!0)),S=zu(u,$),0<S.length&&($=new m1($,t,null,n,d),h.push({event:$,listeners:S}),k?$.data=k:(k=Fy(n),k!==null&&($.data=k)))),(k=n7?r7(t,n):s7(t,n))&&($=zu(u,"onBeforeInput"),0<$.length&&(S=new m1("onBeforeInput","beforeinput",null,n,d),h.push({event:S,listeners:$}),S.data=k)),F7(h,t,u,n,d)}zj(h,e)})}function uo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,a=s.stateNode;s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=no(t,n),s!=null&&r.unshift(uo(t,s,a)),s=no(t,e),s!=null&&r.push(uo(t,s,a))),t=t.return}return r}function Ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ex(t,e,n,r,s){for(var a=e._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===r)break;o!==5&&o!==26&&o!==27||u===null||(c=u,s?(u=no(n,a),u!=null&&l.unshift(uo(n,u,c))):s||(u=no(n,a),u!=null&&l.push(uo(n,u,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var t6=/\r\n?/g,n6=/\u0000|\uFFFD/g;function tx(t){return(typeof t=="string"?t:""+t).replace(t6,`
`).replace(n6,"")}function Bj(t,e){return e=tx(e),tx(t)===e}function Ed(){}function Le(t,e,n,r,s,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||ga(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&ga(t,""+r);break;case"className":dh(t,"class",r);break;case"tabIndex":dh(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":dh(t,n,r);break;case"style":Vy(t,r,a);break;case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Xc(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Le(t,e,"name",s.name,s,null),Le(t,e,"formEncType",s.formEncType,s,null),Le(t,e,"formMethod",s.formMethod,s,null),Le(t,e,"formTarget",s.formTarget,s,null)):(Le(t,e,"encType",s.encType,s,null),Le(t,e,"method",s.method,s,null),Le(t,e,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Xc(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Ed);break;case"onScroll":r!=null&&we("scroll",t);break;case"onScrollEnd":r!=null&&we("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(P(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Xc(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"xlinkActuate":Sr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Sr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Sr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Sr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Sr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Sr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Sr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Sr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Sr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Yf(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Qk.get(n)||n,Yf(t,n,r))}}function jp(t,e,n,r,s,a){switch(n){case"style":Vy(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(P(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"children":typeof r=="string"?ga(t,r):(typeof r=="number"||typeof r=="bigint")&&ga(t,""+r);break;case"onScroll":r!=null&&we("scroll",t);break;case"onScrollEnd":r!=null&&we("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Ed);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ly.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[Ut]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,s);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Yf(t,n,r)}}}function Nt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":we("invalid",t);var r=null,s=null,a=null,l=null,o=null,c=null;for(d in n)if(n.hasOwnProperty(d)){var u=n[d];if(u!=null)switch(d){case"name":r=u;break;case"type":s=u;break;case"checked":o=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(P(137,e));break;default:Le(t,e,d,u,n,null)}}Uy(t,a,l,o,c,s,r,!1),ju(t);return;case"select":we("invalid",t);var d=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":d=l;default:Le(t,e,r,l,n,null)}e=a,n=s,t.multiple=!!d,e!=null?Ki(t,!!d,e,!1):n!=null&&Ki(t,!!d,n,!0);return;case"textarea":we("invalid",t),a=r=d=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":d=l;break;case"defaultValue":r=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:Le(t,e,s,l,n,null)}Yy(t,d,r,a),ju(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(d=n[l],d!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Le(t,e,l,d,n,null)}return;case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":we("load",t);break;case"video":case"audio":for(d=0;d<co.length;d++)we(co[d],t);break;case"image":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"embed":case"source":case"img":case"link":we("error",t),we("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(o in n)if(n.hasOwnProperty(o)&&(d=n[o],d!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:Le(t,e,o,d,n,null)}return;default:if(Jm(e)){for(c in n)n.hasOwnProperty(c)&&(d=n[c],d!==void 0&&jp(t,e,c,d,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(d=n[a],d!=null&&Le(t,e,a,d,n,null))}function nx(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,l=null,o=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&h!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Le(t,e,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(p!=null||h!=null))switch(f){case"type":a=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":l=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(P(137,e));break;default:p!==h&&Le(t,e,f,p,r,h)}}Vf(t,l,o,c,u,d,a,s);return;case"select":p=l=o=f=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||Le(t,e,a,null,r,c)}for(s in r)if(a=r[s],c=n[s],r.hasOwnProperty(s)&&(a!=null||c!=null))switch(s){case"value":f=a;break;case"defaultValue":o=a;break;case"multiple":l=a;default:a!==c&&Le(t,e,s,a,r,c)}e=o,n=l,r=p,f!=null?Ki(t,!!n,f,!1):!!r!=!!n&&(e!=null?Ki(t,!!n,e,!0):Ki(t,!!n,n?[]:"",!1));return;case"textarea":p=f=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Le(t,e,o,null,r,s)}for(l in r)if(s=r[l],a=n[l],r.hasOwnProperty(l)&&(s!=null||a!=null))switch(l){case"value":f=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(P(91));break;default:s!==a&&Le(t,e,l,s,r,a)}qy(t,f,p);return;case"option":for(var x in n)if(f=n[x],n.hasOwnProperty(x)&&f!=null&&!r.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:Le(t,e,x,null,r,f)}for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(f!=null||p!=null))switch(c){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Le(t,e,c,f,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!r.hasOwnProperty(v)&&Le(t,e,v,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(f!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(P(137,e));break;default:Le(t,e,u,f,r,p)}return;default:if(Jm(e)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!==void 0&&!r.hasOwnProperty(y)&&jp(t,e,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||f===void 0&&p===void 0||jp(t,e,d,f,r,p);return}}for(var g in n)f=n[g],n.hasOwnProperty(g)&&f!=null&&!r.hasOwnProperty(g)&&Le(t,e,g,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||f==null&&p==null||Le(t,e,h,f,r,p)}var Sp=null,wp=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function rx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xj(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xh=null;function r6(){var t=window.event;return t&&t.type==="popstate"?t===Xh?!1:(Xh=t,!0):(Xh=null,!1)}var Uj=typeof setTimeout=="function"?setTimeout:void 0,s6=typeof clearTimeout=="function"?clearTimeout:void 0,sx=typeof Promise=="function"?Promise:void 0,i6=typeof queueMicrotask=="function"?queueMicrotask:typeof sx<"u"?function(t){return sx.resolve(null).then(t).catch(a6)}:Uj;function a6(t){setTimeout(function(){throw t})}function Uh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),mo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);mo(e)}function $p(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":$p(n),Fm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function l6(t,e,n,r){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[to])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function o6(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zn(t.nextSibling),t===null))return null;return t}function Zn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function ix(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function qj(t,e,n){switch(e=Lu(n),t){case"html":if(t=e.documentElement,!t)throw Error(P(452));return t;case"head":if(t=e.head,!t)throw Error(P(453));return t;case"body":if(t=e.body,!t)throw Error(P(454));return t;default:throw Error(P(451))}}var $n=new Map,ax=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Vr=Xe.d;Xe.d={f:c6,r:u6,D:d6,C:h6,L:f6,m:p6,X:g6,S:m6,M:x6};function c6(){var t=Vr.f(),e=Pd();return t||e}function u6(t){var e=Da(t);e!==null&&e.tag===5&&e.type==="form"?U2(e):Vr.r(t)}var La=typeof document>"u"?null:document;function Yj(t,e,n){var r=La;if(r&&typeof e=="string"&&e){var s=xn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),ax.has(s)||(ax.add(s),t={rel:t,crossOrigin:n,href:e},r.querySelector(s)===null&&(e=r.createElement("link"),Nt(e,"link",t),Ot(e),r.head.appendChild(e)))}}function d6(t){Vr.D(t),Yj("dns-prefetch",t,null)}function h6(t,e){Vr.C(t,e),Yj("preconnect",t,e)}function f6(t,e,n){Vr.L(t,e,n);var r=La;if(r&&t&&e){var s='link[rel="preload"][as="'+xn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+xn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+xn(n.imageSizes)+'"]')):s+='[href="'+xn(t)+'"]';var a=s;switch(e){case"style":a=ja(t);break;case"script":a=Ba(t)}$n.has(a)||(t=Ye({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),$n.set(a,t),r.querySelector(s)!==null||e==="style"&&r.querySelector(Uo(a))||e==="script"&&r.querySelector(qo(a))||(e=r.createElement("link"),Nt(e,"link",t),Ot(e),r.head.appendChild(e)))}}function p6(t,e){Vr.m(t,e);var n=La;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+xn(r)+'"][href="'+xn(t)+'"]',a=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ba(t)}if(!$n.has(a)&&(t=Ye({rel:"modulepreload",href:t},e),$n.set(a,t),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qo(a)))return}r=n.createElement("link"),Nt(r,"link",t),Ot(r),n.head.appendChild(r)}}}function m6(t,e,n){Vr.S(t,e,n);var r=La;if(r&&t){var s=Ji(r).hoistableStyles,a=ja(t);e=e||"default";var l=s.get(a);if(!l){var o={loading:0,preload:null};if(l=r.querySelector(Uo(a)))o.loading=5;else{t=Ye({rel:"stylesheet",href:t,"data-precedence":e},n),(n=$n.get(a))&&Dg(t,n);var c=l=r.createElement("link");Ot(c),Nt(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Fc(l,e,r)}l={type:"stylesheet",instance:l,count:1,state:o},s.set(a,l)}}}function g6(t,e){Vr.X(t,e);var n=La;if(n&&t){var r=Ji(n).hoistableScripts,s=Ba(t),a=r.get(s);a||(a=n.querySelector(qo(s)),a||(t=Ye({src:t,async:!0},e),(e=$n.get(s))&&Zg(t,e),a=n.createElement("script"),Ot(a),Nt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(s,a))}}function x6(t,e){Vr.M(t,e);var n=La;if(n&&t){var r=Ji(n).hoistableScripts,s=Ba(t),a=r.get(s);a||(a=n.querySelector(qo(s)),a||(t=Ye({src:t,async:!0,type:"module"},e),(e=$n.get(s))&&Zg(t,e),a=n.createElement("script"),Ot(a),Nt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(s,a))}}function O6(t,e,n){if(e=(e=Os.current)?Bu(e):null,!e)throw Error(P(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(n=ja(n.href),e=Ji(e).hoistableStyles,t=e.get(n),t||(t={type:"style",instance:null,count:0,state:null},e.set(n,t)),t):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ja(n.href);var r=Ji(e).hoistableStyles,s=r.get(t);return s||(e=e.ownerDocument||e,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,s),$n.has(t)||v6(e,t,{rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},s.state)),s}return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(n=Ba(n),e=Ji(e).hoistableScripts,t=e.get(n),t||(t={type:"script",instance:null,count:0,state:null},e.set(n,t)),t):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,t))}}function ja(t){return'href="'+xn(t)+'"'}function Uo(t){return'link[rel="stylesheet"]['+t+"]"}function Vj(t){return Ye({},t,{"data-precedence":t.precedence,precedence:null})}function v6(t,e,n,r){$n.set(e,n),t.querySelector(Uo(e))||(t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Nt(e,"link",n),Ot(e),t.head.appendChild(e)))}function Ba(t){return'[src="'+xn(t)+'"]'}function qo(t){return"script[async]"+t}function lx(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+xn(n.href)+'"]');if(r)return e.instance=r,Ot(r),r;var s=Ye({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Ot(r),Nt(r,"style",s),Fc(r,n.precedence,t),e.instance=r;case"stylesheet":s=ja(n.href);var a=t.querySelector(Uo(s));if(a)return e.state.loading|=4,e.instance=a,Ot(a),a;r=Vj(n),(s=$n.get(s))&&Dg(r,s),a=(t.ownerDocument||t).createElement("link"),Ot(a);var l=a;return l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),Nt(a,"link",r),e.state.loading|=4,Fc(a,n.precedence,t),e.instance=a;case"script":return a=Ba(n.src),(s=t.querySelector(qo(a)))?(e.instance=s,Ot(s),s):(r=n,(s=$n.get(a))&&(r=Ye({},n),Zg(r,s)),t=t.ownerDocument||t,s=t.createElement("script"),Ot(s),Nt(s,"link",r),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(P(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Fc(r,n.precedence,t));return e.instance}function Fc(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,a=s,l=0;l<r.length;l++){var o=r[l];if(o.dataset.precedence===e)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Dg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Zg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Jc=null;function ox(t,e,n){if(Jc===null){var r=new Map,s=Jc=new Map;s.set(n,r)}else s=Jc,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[to]||a[_t]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var l=a.getAttribute(e)||"";l=t+l;var o=r.get(l);o?o.push(a):r.set(l,[a])}}return r}function cx(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function b6(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}var ho=null;function y6(){}function j6(t,e,n){if(ho===null)throw Error(P(475));var r=ho;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var s=ja(n.href),a=t.querySelector(Uo(s));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Xu.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=a,Ot(a);return}a=t.ownerDocument||t,n=Vj(n),(s=$n.get(s))&&Dg(n,s),a=a.createElement("link"),Ot(a);var l=a;l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),Nt(a,"link",n),e.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Xu.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function S6(){if(ho===null)throw Error(P(475));var t=ho;return t.stylesheets&&t.count===0&&Np(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Np(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)Np(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uu=null;function Np(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uu=new Map,e.forEach(w6,t),Uu=null,Xu.call(t))}function w6(t,e){if(!(e.state.loading&4)){var n=Uu.get(t);if(n)var r=n.get(null);else{n=new Map,Uu.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var l=s[a];(l.nodeName==="link"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}s=e.instance,l=s.getAttribute("data-precedence"),a=n.get(l)||r,a===r&&n.set(null,s),n.set(l,s),this.count++,r=Xu.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}function k6(t,e,n,r,s,a,l,o){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.hiddenUpdates=uh(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Wj(t,e,n,r,s,a,l,o,c,u,d,h,f){return t=new k6(t,e,n,o,c,u,d,f),e=1,a===!0&&(e|=24),a=_n(3,null,null,e),t.current=a,a.stateNode=t,e=cg(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},kg(a),t}function Hj(t){return t?(t=Ui,t):Ui}function Ij(t,e,n,r,s,a){s=Hj(s),r.context===null?r.context=s:r.pendingContext=s,r=_r(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=vs(t,r,e),n!==null&&(qt(n,t,e),Zl(n,t,e))}function ux(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zg(t,e){ux(t,e),(t=t.alternate)&&ux(t,e)}function Gj(t){if(t.tag===13){var e=$s(t,67108864);e!==null&&qt(e,t,67108864),zg(t,67108864)}}function $6(){return null}var qu=!0;function N6(t,e,n,r){var s=he.T;he.T=null;var a=Xe.p;try{Xe.p=2,Lg(t,e,n,r)}finally{Xe.p=a,he.T=s}}function C6(t,e,n,r){var s=he.T;he.T=null;var a=Xe.p;try{Xe.p=8,Lg(t,e,n,r)}finally{Xe.p=a,he.T=s}}function Lg(t,e,n,r){if(qu){var s=Cp(r);if(s===null)Bh(t,e,r,Yu,n),dx(t,r);else if(R6(s,t,e,n,r))r.stopPropagation();else if(dx(t,r),e&4&&-1<T6.indexOf(t)){for(;s!==null;){var a=Da(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var l=xl(a.pendingLanes);if(l!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var c=1<<31-jn(l);o.entanglements[1]|=c,l&=~c}tn(a),!(ke&6)&&(Eu=hr()+500,Xo())}}break;case 13:o=$s(a,2),o!==null&&qt(o,a,2),Pd(),zg(a,2)}if(a=Cp(r),a===null&&Bh(t,e,r,Yu,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Bh(t,e,r,null,n)}}function Cp(t){return t=Km(t),Bg(t)}var Yu=null;function Bg(t){if(Yu=null,t=Ws(t),t!==null){var e=Ea(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Ny(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Yu=t,null}function Fj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hk()){case Gm:return 2;case Ry:return 8;case bu:case fk:return 32;case Qy:return 268435456;default:return 32}default:return 32}}var Tp=!1,js=null,Ss=null,ws=null,fo=new Map,po=new Map,os=[],T6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dx(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":fo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(e.pointerId)}}function nl(t,e,n,r,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Da(e),e!==null&&Gj(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function R6(t,e,n,r,s){switch(e){case"focusin":return js=nl(js,t,e,n,r,s),!0;case"dragenter":return Ss=nl(Ss,t,e,n,r,s),!0;case"mouseover":return ws=nl(ws,t,e,n,r,s),!0;case"pointerover":var a=s.pointerId;return fo.set(a,nl(fo.get(a)||null,t,e,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,po.set(a,nl(po.get(a)||null,t,e,n,r,s)),!0}return!1}function Jj(t){var e=Ws(t.target);if(e!==null){var n=Ea(e);if(n!==null){if(e=n.tag,e===13){if(e=Ny(n),e!==null){t.blockedOn=e,jk(t.priority,function(){if(n.tag===13){var r=Er(),s=$s(n,r);s!==null&&qt(s,n,r),zg(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cp(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hf=r,n.target.dispatchEvent(r),Hf=null}else return e=Da(n),e!==null&&Gj(e),t.blockedOn=n,!1;e.shift()}return!0}function hx(t,e,n){Kc(t)&&n.delete(e)}function Q6(){Tp=!1,js!==null&&Kc(js)&&(js=null),Ss!==null&&Kc(Ss)&&(Ss=null),ws!==null&&Kc(ws)&&(ws=null),fo.forEach(hx),po.forEach(hx)}function pc(t,e){t.blockedOn===e&&(t.blockedOn=null,Tp||(Tp=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,Q6)))}var mc=null;function fx(t){mc!==t&&(mc=t,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,function(){mc===t&&(mc=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],s=t[e+2];if(typeof r!="function"){if(Bg(r||n)===null)continue;break}var a=Da(n);a!==null&&(t.splice(e,3),e-=3,rp(a,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function mo(t){function e(c){return pc(c,t)}js!==null&&pc(js,t),Ss!==null&&pc(Ss,t),ws!==null&&pc(ws,t),fo.forEach(e),po.forEach(e);for(var n=0;n<os.length;n++){var r=os[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<os.length&&(n=os[0],n.blockedOn===null);)Jj(n),n.blockedOn===null&&os.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],a=n[r+1],l=s[Ut]||null;if(typeof a=="function")l||fx(n);else if(l){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,l=a[Ut]||null)o=l.formAction;else if(Bg(s)!==null)continue}else o=l.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),fx(n)}}}function Xg(t){this._internalRoot=t}Md.prototype.render=Xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));var n=e.current,r=Er();Ij(n,r,t,e,null,null)};Md.prototype.unmount=Xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&aa(),Ij(t.current,2,null,t,null,null),Pd(),e[Ma]=null}};function Md(t){this._internalRoot=t}Md.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<os.length&&e!==0&&e<os[n].priority;n++);os.splice(n,0,t),n===0&&Jj(t)}};Xe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Cy(e),t=t===null?null:t.stateNode,t};var rl={findFiberByHostInstance:Ws,bundleType:0,version:"19.0.0-rc-915b914b3a-20240515",rendererPackageName:"react-dom"},A6={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he,findHostInstanceByFiber:function(t){return t=Cy(t),t===null?null:t.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||$6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"19.0.0-rc-915b914b3a-20240515"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Mo=gc.inject(A6),cn=gc}catch{}}bd.createRoot=function(t,e){if(!Sy(t))throw Error(P(299));var n=!1,r="",s=H2,a=I2,l=G2,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(l=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=Wj(t,1,!1,null,null,n,!1,r,s,a,l,o,null),t[Ma]=e.current,Mg(t.nodeType===8?t.parentNode:t),new Xg(e)};bd.hydrateRoot=function(t,e,n){if(!Sy(t))throw Error(P(299));var r=!1,s="",a=H2,l=I2,o=G2,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=Wj(t,1,!0,e,n??null,r,!1,s,a,l,o,c,u),e.context=Hj(null),n=e.current,r=Er(),s=_r(r),s.callback=null,vs(n,s,r),e.current.lanes=r,Bo(e,r),tn(e),t[Ma]=e.current,Mg(t),new Md(e)};bd.version="19.0.0-rc-915b914b3a-20240515";function Kj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kj)}catch(t){console.error(t)}}Kj(),xy.exports=bd;var P6=xy.exports;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},go.apply(this,arguments)}var ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ps||(ps={}));const px="popstate";function _6(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:l,hash:o}=r.location;return Rp("",{pathname:a,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vu(s)}return M6(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function e5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E6(){return Math.random().toString(36).substr(2,8)}function mx(t,e){return{usr:t.state,key:t.key,idx:e}}function Rp(t,e,n,r){return n===void 0&&(n=null),go({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xa(e):e,{state:n,key:e&&e.key||r||E6()})}function Vu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function M6(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,o=ps.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(go({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function h(){o=ps.Pop;let y=d(),g=y==null?null:y-u;u=y,c&&c({action:o,location:v.location,delta:g})}function f(y,g){o=ps.Push;let m=Rp(v.location,y,g);u=d()+1;let O=mx(m,u),b=v.createHref(m);try{l.pushState(O,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(b)}a&&c&&c({action:o,location:v.location,delta:1})}function p(y,g){o=ps.Replace;let m=Rp(v.location,y,g);u=d();let O=mx(m,u),b=v.createHref(m);l.replaceState(O,"",b),a&&c&&c({action:o,location:v.location,delta:0})}function x(y){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof y=="string"?y:Vu(y);return m=m.replace(/ $/,"%20"),tt(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let v={get action(){return o},get location(){return t(s,l)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(px,h),c=y,()=>{s.removeEventListener(px,h),c=null}},createHref(y){return e(s,y)},createURL:x,encodeLocation(y){let g=x(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(y){return l.go(y)}};return v}var gx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gx||(gx={}));function D6(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xa(e):e,s=Ug(r.pathname||"/",n);if(s==null)return null;let a=t5(t);Z6(a);let l=null;for(let o=0;l==null&&o<a.length;++o){let c=I6(s);l=W6(a[o],c)}return l}function t5(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ks([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(tt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),t5(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Y6(u,a.index),routesMeta:d})};return t.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,l);else for(let c of n5(a.path))s(a,l,c)}),e}function n5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=n5(r.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Z6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:V6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const z6=/^:[\w-]+$/,L6=3,B6=2,X6=1,U6=10,q6=-2,xx=t=>t==="*";function Y6(t,e){let n=t.split("/"),r=n.length;return n.some(xx)&&(r+=q6),e&&(r+=B6),n.filter(s=>!xx(s)).reduce((s,a)=>s+(z6.test(a)?L6:a===""?X6:U6),r)}function V6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function W6(t,e){let{routesMeta:n}=t,r={},s="/",a=[];for(let l=0;l<n.length;++l){let o=n[l],c=l===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=r5({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let h=o.route;a.push({params:r,pathname:ks([s,d.pathname]),pathnameBase:K6(ks([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=ks([s,d.pathnameBase]))}return a}function r5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=H6(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=o[h]||"";l=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:l,pattern:t}}function H6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),e5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function I6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return e5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ug(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function G6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xa(t):t;return{pathname:n?n.startsWith("/")?n:F6(n,e):e,search:e$(r),hash:t$(s)}}function F6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function s5(t,e){let n=J6(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function i5(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xa(t):(s=go({},t),tt(!s.pathname||!s.pathname.includes("?"),qh("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),qh("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),qh("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,o;if(l==null)o=n;else{let h=e.length-1;if(!r&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let c=G6(s,o),u=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ks=t=>t.join("/").replace(/\/\/+/g,"/"),K6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const a5=["post","put","patch","delete"];new Set(a5);const r$=["get",...a5];new Set(r$);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xo(){return xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xo.apply(this,arguments)}const qg=j.createContext(null),s$=j.createContext(null),ji=j.createContext(null),Dd=j.createContext(null),Ps=j.createContext({outlet:null,matches:[],isDataRoute:!1}),l5=j.createContext(null);function i$(t,e){let{relative:n}=e===void 0?{}:e;Ua()||tt(!1);let{basename:r,navigator:s}=j.useContext(ji),{hash:a,pathname:l,search:o}=Wg(t,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:ks([r,l])),s.createHref({pathname:c,search:o,hash:a})}function Ua(){return j.useContext(Dd)!=null}function Si(){return Ua()||tt(!1),j.useContext(Dd).location}function a$(t){Ua()||tt(!1);let{pathname:e}=Si();return j.useMemo(()=>r5(t,e),[e,t])}function o5(t){j.useContext(ji).static||j.useLayoutEffect(t)}function Yg(){let{isDataRoute:t}=j.useContext(Ps);return t?b$():l$()}function l$(){Ua()||tt(!1);let t=j.useContext(qg),{basename:e,future:n,navigator:r}=j.useContext(ji),{matches:s}=j.useContext(Ps),{pathname:a}=Si(),l=JSON.stringify(s5(s,n.v7_relativeSplatPath)),o=j.useRef(!1);return o5(()=>{o.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=i5(u,JSON.parse(l),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ks([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,l,a,t])}const o$=j.createContext(null);function Vg(t){let e=j.useContext(Ps).outlet;return e&&j.createElement(o$.Provider,{value:t},e)}function Wg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(ji),{matches:s}=j.useContext(Ps),{pathname:a}=Si(),l=JSON.stringify(s5(s,r.v7_relativeSplatPath));return j.useMemo(()=>i5(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function c$(t,e){return u$(t,e)}function u$(t,e,n,r){Ua()||tt(!1);let{navigator:s}=j.useContext(ji),{matches:a}=j.useContext(Ps),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Si(),d;if(e){var h;let y=typeof e=="string"?Xa(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||tt(!1),d=y}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=D6(t,{pathname:p}),v=m$(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:ks([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ks([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&v?j.createElement(Dd.Provider,{value:{location:xo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ps.Pop}},v):v}function d$(){let t=v$(),e=n$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,null)}const h$=j.createElement(d$,null);class f$ extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Ps.Provider,{value:this.props.routeContext},j.createElement(l5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p$(t){let{routeContext:e,match:n,children:r}=t,s=j.useContext(qg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Ps.Provider,{value:e},r)}function m$(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if((a=n)!=null&&a.errors)t=n.matches;else return null}let l=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||tt(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<l.length;d++){let h=l[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,h,f)=>{let p,x=!1,v=null,y=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||h$,c&&(u<0&&f===0?(x=!0,y=null):u===f&&(x=!0,y=h.route.hydrateFallbackElement||null)));let g=e.concat(l.slice(0,f+1)),m=()=>{let O;return p?O=v:x?O=y:h.route.Component?O=j.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=d,j.createElement(p$,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:O})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(f$,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var c5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(c5||{}),Wu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wu||{});function g$(t){let e=j.useContext(qg);return e||tt(!1),e}function x$(t){let e=j.useContext(s$);return e||tt(!1),e}function O$(t){let e=j.useContext(Ps);return e||tt(!1),e}function u5(t){let e=O$(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function v$(){var t;let e=j.useContext(l5),n=x$(Wu.UseRouteError),r=u5(Wu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function b$(){let{router:t}=g$(c5.UseNavigateStable),e=u5(Wu.UseNavigateStable),n=j.useRef(!1);return o5(()=>{n.current=!0}),j.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,xo({fromRouteId:e},a)))},[t,e])}function y$(t){return Vg(t.context)}function ts(t){tt(!1)}function j$(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ps.Pop,navigator:a,static:l=!1,future:o}=t;Ua()&&tt(!1);let c=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:a,static:l,future:xo({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof r=="string"&&(r=Xa(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=r,v=j.useMemo(()=>{let y=Ug(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:x},navigationType:s}},[c,d,h,f,p,x,s]);return v==null?null:j.createElement(ji.Provider,{value:u},j.createElement(Dd.Provider,{children:n,value:v}))}function S$(t){let{children:e,location:n}=t;return c$(Qp(e),n)}new Promise(()=>{});function Qp(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let a=[...e,s];if(r.type===j.Fragment){n.push.apply(n,Qp(r.props.children,a));return}r.type!==ts&&tt(!1),!r.props.index||!r.props.children||tt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Qp(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function w$(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function k$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $$(t,e){return t.button===0&&(!e||e==="_self")&&!k$(t)}const N$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],C$="6";try{window.__reactRouterVersion=C$}catch{}const T$="startTransition",Ox=J3[T$];function R$(t){let{basename:e,children:n,future:r,window:s}=t,a=j.useRef();a.current==null&&(a.current=_6({window:s,v5Compat:!0}));let l=a.current,[o,c]=j.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},d=j.useCallback(h=>{u&&Ox?Ox(()=>c(h)):c(h)},[c,u]);return j.useLayoutEffect(()=>l.listen(d),[l,d]),j.createElement(j$,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const Q$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d5=j.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:o,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=w$(e,N$),{basename:p}=j.useContext(ji),x,v=!1;if(typeof u=="string"&&A$.test(u)&&(x=u,Q$))try{let O=new URL(window.location.href),b=u.startsWith("//")?new URL(O.protocol+u):new URL(u),w=Ug(b.pathname,p);b.origin===O.origin&&w!=null?u=w+b.search+b.hash:v=!0}catch{}let y=i$(u,{relative:s}),g=P$(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:h});function m(O){r&&r(O),O.defaultPrevented||g(O)}return j.createElement("a",Ap({},f,{href:x||y,onClick:v||a?r:m,ref:n,target:c}))});var vx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vx||(vx={}));var bx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bx||(bx={}));function P$(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:l,unstable_viewTransition:o}=e===void 0?{}:e,c=Yg(),u=Si(),d=Wg(t,{relative:l});return j.useCallback(h=>{if($$(h,n)){h.preventDefault();let f=r!==void 0?r:Vu(u)===Vu(d);c(t,{replace:f,state:s,preventScrollReset:a,relative:l,unstable_viewTransition:o})}},[u,c,d,r,s,n,t,a,l,o])}function yx(){return i.jsxs("div",{className:"w-full h-64 flex flex-col items-center justify-center",children:[i.jsx("div",{className:"loader"}),i.jsx("div",{className:"text-sm text-blue-500 mt-3",children:"page loading..."})]})}function h5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=h5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=h5(t))&&(r&&(r+=" "),r+=e);return r}const Hg="-";function _$(t){const e=M$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function s(l){const o=l.split(Hg);return o[0]===""&&o.length!==1&&o.shift(),f5(o,e)||E$(l)}function a(l,o){const c=n[l]||[];return o&&r[l]?[...c,...r[l]]:c}return{getClassGroupId:s,getConflictingClassGroupIds:a}}function f5(t,e){var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?f5(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(Hg);return(l=e.validators.find(({validator:o})=>o(a)))==null?void 0:l.classGroupId}const jx=/^\[(.+)\]$/;function E$(t){if(jx.test(t)){const e=jx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function M$(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Z$(Object.entries(t.classGroups),n).forEach(([a,l])=>{Pp(l,r,a,e)}),r}function Pp(t,e,n,r){t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:Sx(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(D$(s)){Pp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{Pp(l,Sx(e,a),n,r)})})}function Sx(t,e){let n=t;return e.split(Hg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function D$(t){return t.isThemeGetter}function Z$(t,e){return e?t.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,o])=>[e+l,o])):a);return[n,s]}):t}function z$(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function s(a,l){n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)}return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}}const p5="!";function L$(t){const e=t.separator,n=e.length===1,r=e[0],s=e.length;return function(l){const o=[];let c=0,u=0,d;for(let v=0;v<l.length;v++){let y=l[v];if(c===0){if(y===r&&(n||l.slice(v,v+s)===e)){o.push(l.slice(u,v)),u=v+s;continue}if(y==="/"){d=v;continue}}y==="["?c++:y==="]"&&c--}const h=o.length===0?l:l.substring(u),f=h.startsWith(p5),p=f?h.substring(1):h,x=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:x}}}function B$(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function X$(t){return{cache:z$(t.cacheSize),splitModifiers:L$(t),..._$(t)}}const U$=/\s+/;function q$(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,a=new Set;return t.trim().split(U$).map(l=>{const{modifiers:o,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(l);let h=r(d?u.substring(0,d):u),f=!!d;if(!h){if(!d)return{isTailwindClass:!1,originalClassName:l};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:l};f=!1}const p=B$(o).join(":");return{isTailwindClass:!0,modifierId:c?p+p5:p,classGroupId:h,originalClassName:l,hasPostfixModifier:f}}).reverse().filter(l=>{if(!l.isTailwindClass)return!0;const{modifierId:o,classGroupId:c,hasPostfixModifier:u}=l,d=o+c;return a.has(d)?!1:(a.add(d),s(c,u).forEach(h=>a.add(o+h)),!0)}).reverse().map(l=>l.originalClassName).join(" ")}function Y$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=m5(e))&&(r&&(r+=" "),r+=n);return r}function m5(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=m5(t[r]))&&(n&&(n+=" "),n+=e);return n}function V$(t,...e){let n,r,s,a=l;function l(c){const u=e.reduce((d,h)=>h(d),t());return n=X$(u),r=n.cache.get,s=n.cache.set,a=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=q$(c,n);return s(c,d),d}return function(){return a(Y$.apply(null,arguments))}}function ze(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const g5=/^\[(?:([a-z-]+):)?(.+)\]$/i,W$=/^\d+\/\d+$/,H$=new Set(["px","full","screen"]),I$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,G$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,J$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Nr(t){return Is(t)||H$.has(t)||W$.test(t)}function Gr(t){return qa(t,"length",l8)}function Is(t){return!!t&&!Number.isNaN(Number(t))}function xc(t){return qa(t,"number",Is)}function sl(t){return!!t&&Number.isInteger(Number(t))}function e8(t){return t.endsWith("%")&&Is(t.slice(0,-1))}function ae(t){return g5.test(t)}function Fr(t){return I$.test(t)}const t8=new Set(["length","size","percentage"]);function n8(t){return qa(t,t8,x5)}function r8(t){return qa(t,"position",x5)}const s8=new Set(["image","url"]);function i8(t){return qa(t,s8,c8)}function a8(t){return qa(t,"",o8)}function il(){return!0}function qa(t,e,n){const r=g5.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function l8(t){return G$.test(t)&&!F$.test(t)}function x5(){return!1}function o8(t){return J$.test(t)}function c8(t){return K$.test(t)}function u8(){const t=ze("colors"),e=ze("spacing"),n=ze("blur"),r=ze("brightness"),s=ze("borderColor"),a=ze("borderRadius"),l=ze("borderSpacing"),o=ze("borderWidth"),c=ze("contrast"),u=ze("grayscale"),d=ze("hueRotate"),h=ze("invert"),f=ze("gap"),p=ze("gradientColorStops"),x=ze("gradientColorStopPositions"),v=ze("inset"),y=ze("margin"),g=ze("opacity"),m=ze("padding"),O=ze("saturate"),b=ze("scale"),w=ze("sepia"),S=ze("skew"),k=ze("space"),$=ze("translate"),_=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ae,e],E=()=>[ae,e],H=()=>["",Nr,Gr],B=()=>["auto",Is,ae],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",ae],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[Is,xc],I=()=>[Is,ae];return{cacheSize:500,separator:":",theme:{colors:[il],spacing:[Nr,Gr],blur:["none","",Fr,ae],brightness:A(),borderColor:[t],borderRadius:["none","","full",Fr,ae],borderSpacing:E(),borderWidth:H(),contrast:A(),grayscale:ee(),hueRotate:I(),invert:ee(),gap:E(),gradientColorStops:[t],gradientColorStopPositions:[e8,Gr],inset:z(),margin:z(),opacity:A(),padding:E(),saturate:A(),scale:A(),sepia:ee(),skew:I(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[Fr]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ae]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sl,ae]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",sl,ae]}],"grid-cols":[{"grid-cols":[il]}],"col-start-end":[{col:["auto",{span:["full",sl,ae]},ae]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[il]}],"row-start-end":[{row:["auto",{span:[sl,ae]},ae]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,e]}],"min-w":[{"min-w":[ae,e,"min","max","fit"]}],"max-w":[{"max-w":[ae,e,"none","full","min","max","fit","prose",{screen:[Fr]},Fr]}],h:[{h:[ae,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fr,Gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xc]}],"font-family":[{font:[il]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",Is,xc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nr,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nr,Gr]}],"underline-offset":[{"underline-offset":["auto",Nr,ae]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),r8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",n8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},i8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Nr,ae]}],"outline-w":[{outline:[Nr,Gr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Nr,Gr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fr,a8]}],"shadow-color":[{shadow:[il]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Fr,ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[O]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[sl,ae]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Nr,Gr,xc]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const yr=V$(u8);function Jn(t){const{children:e,className:n="",end:r=!0,activeName:s,to:a,onClick:l,...o}=t,c=Wg(a);let u=a$({path:c.pathname,end:r});const d=yr(ct(n,"transition cursor-pointer",{[s]:!!u}));function h(f){u&&f.preventDefault(),l&&l(f)}return i.jsx(d5,{className:d,to:a,...o,onClick:h,children:e})}const d8="_modal_fd6cp_1",h8="_show_fd6cp_1",f8="_hide_fd6cp_1",p8="_out_fd6cp_16",Yh={modal:d8,show:h8,hide:f8,in:"_in_fd6cp_12",out:p8};function Zd(t){const{onClose:e,children:n,ref:r}=t,[s,a]=j.useState(!1),[l,o]=j.useState(!1);j.useImperativeHandle(r,()=>({show:()=>{a(!0),document.body.style.overflow="hidden",o(!0)},close:()=>{document.body.style.overflow="visible",a(!1)}}));const c=ct(Yh.modal,{[Yh.in]:s,[Yh.out]:!s});function u(){s||o(!1)}function d(){a(!1),e&&e()}return l?i.jsx(i.Fragment,{children:Eo.createPortal(i.jsx("div",{className:c,onAnimationEnd:u,onClick:d,children:n}),document.body)}):null}function m8(){return i.jsx("div",{className:"w-10 h-10 ml-4 border rounded-full overflow-hidden relative",children:i.jsx("div",{className:"pyramid-loader",children:i.jsxs("div",{className:"wrapper",children:[i.jsx("span",{className:"side side1"}),i.jsx("span",{className:"side side2"}),i.jsx("span",{className:"side side3"}),i.jsx("span",{className:"side side4"}),i.jsx("span",{className:"shadow"})]})})})}function g8(){const[t,e]=j.useState(!0),[n,r]=j.useState({});return j.useEffect(()=>{function s(a){if(a.origin!=="https://giscus.app")return;e(!1);let l=a.data.giscus;l.viewer&&r(l.viewer)}window.addEventListener("message",s,!1)},[]),t?i.jsx(m8,{}):i.jsx("div",{className:"w-10 h-10 ml-4 border rounded-full overflow-hidden",children:i.jsx("img",{className:"w-full h-full",src:n.avatarUrl,alt:""})})}document.documentElement.style.fontSize="14px";function De(t){const{className:e,primary:n,danger:r,sm:s,lg:a,signal:l,success:o,ghost:c,rect:u,disabled:d,...h}=t,v=yr(ct("rounded-md border border-transparent font-medium cursor-pointer transition relative text-gray-600","bg-gray-100 hover:bg-gray-200","text-xs py-2 px-4",{"bg-blue-500 text-white hover:bg-blue-600":n,"bg-red-500 text-white hover:bg-red-600":r,"bg-green-500 text-white hover:bg-green-600":o,"text-sky-500 bg-white border border-sky-300 hover:bg-sky-50":l,"bg-transparent border-transparent hover:bg-gray-100":c,"bg-opacity-70":d,"text-xs py-1.5 px-3":s,"text-lg py-2 px-6":a,"w-8 h-8 p-0":u},e));return i.jsxs("button",{className:v,...h,children:[t.children,l&&i.jsxs("span",{className:"absolute flex h-3 w-3 right-[-5px] top-[-5px]",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-sky-500"})]})]})}let Yl;const x8=t=>{Yl={x:t.pageX,y:t.pageY},setTimeout(()=>{Yl=null},100)};document.documentElement.addEventListener("click",x8,!0);function O8(t,e){var n=t.style;["Webkit","Moz","Ms","ms"].forEach(function(r){n[r+"TransformOrigin"]=e}),n.transformOrigin=e}function v8(t){const e=t.getBoundingClientRect(),n={left:e.left,top:e.top},s=t.ownerDocument.defaultView;return n.left+=wx(s),n.top+=wx(s,1),n}function wx(t,e){var n=t["page"+(e?"Y":"X")+"Offset"],r="scroll"+(e?"Top":"Left");if(typeof n!="number"){var s=t.document;n=s.documentElement[r],typeof n!="number"&&(n=s.body[r])}return n}function Ya(t){const{title:e,onClose:n,children:r,onSure:s,onCancel:a,ref:l,footer:o}=t,[c,u]=j.useState(!1),[d,h]=j.useState(!1),f=j.useRef(null),p=j.useRef(null);j.useImperativeHandle(l,()=>({show:()=>{p.current.show(),document.body.style.overflow="hidden",u(!0),h(!0)},close:x}));function x(){u(!1),p.current.close(),document.body.style.overflow="visible"}function v(){x(),n&&n()}function y(b){b.stopPropagation()}function g(b){b.stopPropagation(),s&&s()}function m(){c||h(!1)}const O=ct("dialog-wrapper",{in:c,out:!c});return j.useEffect(()=>{const b=f.current;if(d&&b){const w=v8(b);Yl&&O8(b,Yl.x-w.left+"px "+(Yl.y-w.top)+"px")}},[d]),i.jsx(Zd,{ref:p,onClose:v,children:d?i.jsxs("div",{ref:f,className:O,onClick:y,onAnimationEnd:m,children:[i.jsxs("header",{className:"flex justify-between items-center mb-2",children:[i.jsx("div",{className:"font-bold text-lg leading-6",children:e}),i.jsx("div",{onClick:v,className:"p-2 rounded-md cursor-pointer transition hover:bg-gray-200",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})]}),i.jsx("section",{className:"leading-6",children:r}),o||i.jsx("footer",{className:"text-end mt-4",children:i.jsx(De,{primary:!0,onClick:g,children:"确认"})})]}):null})}function b8(){const t=j.useRef(null);function e(n){n.preventDefault(),t.current.show()}return i.jsxs(i.Fragment,{children:[i.jsxs(Jn,{className:"flex items-center",onClick:e,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"})}),i.jsx("div",{className:"ml-1 text-sm",children:"交流群"})]}),i.jsxs(Ya,{ref:t,title:"Message",onSure:()=>t.current.close(),children:["添加我的微信：",i.jsx("span",{className:"text-red-500 text-xl",children:"icanmeetu"}),"， 注明：添加 react19 付费交流群"]})]})}function Mn(t){const{type:e="text",className:n,required:r,label:s,help:a="此项规则不匹配",pattern:l,...o}=t,{pending:c}=Eo.useFormStatus(),u=ct("flex items-center my-10",n);return i.jsxs("div",{className:u,children:[s&&i.jsxs("label",{className:"w-20 text-right font-bold",children:[s,"："]}),i.jsx("div",{className:"input flex-1",children:i.jsx("input",{type:e,required:r,pattern:l,...o,disabled:c})})]})}function y8(){const t=j.useRef(null);function e(n){n.preventDefault(),t.current.show()}return i.jsxs(i.Fragment,{children:[i.jsxs(Jn,{className:"flex items-center ml-4 bg-gray-900 px-4 py-2 rounded-full",to:"/",onClick:e,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5 text-blue-50",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),i.jsx("div",{className:"ml-1 text-sm text-blue-50",children:"激活码"})]}),i.jsxs(Ya,{ref:t,title:"Message",onSure:()=>t.current.close(),children:["请添加交流群获得激活码，或者联系网站开发者这波能反杀获得激活码，联系方式如下",i.jsxs("div",{className:"flex my-4",children:[i.jsx("div",{className:"w-8",children:"wx:"}),i.jsx("div",{className:"text-red-500",children:"icanmeetu"})]})]})]})}const kx=[{path:"tutorial",text:"教程"},{path:"component",text:"组件"},{path:"other",text:"其他"}];function j8(){const t=j.useRef(null);return i.jsxs("header",{className:"fixed z-50 top-0 flex justify-between border-b border-slate-200 min-w-[320px] bg-white bg-opacity-70 backdrop-blur-sm w-full",children:[i.jsxs("div",{className:"pl-6 h-16 flex items-center md:pl-10 transition-all",children:[i.jsxs(Jn,{className:"flex items-center",to:"/",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:i.jsx("path",{fillRule:"evenodd",d:"M12 1.5a.75.75 0 0 1 .75.75V4.5a.75.75 0 0 1-1.5 0V2.25A.75.75 0 0 1 12 1.5ZM5.636 4.136a.75.75 0 0 1 1.06 0l1.592 1.591a.75.75 0 0 1-1.061 1.06l-1.591-1.59a.75.75 0 0 1 0-1.061Zm12.728 0a.75.75 0 0 1 0 1.06l-1.591 1.592a.75.75 0 0 1-1.06-1.061l1.59-1.591a.75.75 0 0 1 1.061 0Zm-6.816 4.496a.75.75 0 0 1 .82.311l5.228 7.917a.75.75 0 0 1-.777 1.148l-2.097-.43 1.045 3.9a.75.75 0 0 1-1.45.388l-1.044-3.899-1.601 1.42a.75.75 0 0 1-1.247-.606l.569-9.47a.75.75 0 0 1 .554-.68ZM3 10.5a.75.75 0 0 1 .75-.75H6a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 10.5Zm14.25 0a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 0 1.5H18a.75.75 0 0 1-.75-.75Zm-8.962 3.712a.75.75 0 0 1 0 1.061l-1.591 1.591a.75.75 0 1 1-1.061-1.06l1.591-1.592a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),i.jsx("div",{className:"font-bold ml-2",children:"React 19"})]}),i.jsx("div",{className:"hidden md:block",children:kx.map((e,n)=>i.jsx(Jn,{to:e.path,className:"ml-8 text-gray-500",end:!1,activeName:"text-gray-900",children:e.text},e.path))}),i.jsxs("a",{className:"hidden md:flex text-xs m-8 rounded-full bg-red-100 py-2 px-4 text-red-400 transition hover:bg-red-300 hover:text-red-700 cursor-pointer",href:"https://appxw863qeq2150.h5.xiaoeknow.com/p/decorate/homepage?entry=2&entry_type=2002&share_user_id=u_626bf7dfafe72_zLCXc4Qr0O&wework_share_customer_id=u_626bf7dfafe72_zLCXc4Qr0O",target:"_blank",children:["推荐：JavaScript 核心进阶",i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 ml-2",children:i.jsx("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"})})]})]}),i.jsxs("div",{className:"hidden md:flex h-16 items-center pr-6 text-gray-500",children:[i.jsx(b8,{alt:"交流群"}),i.jsx(y8,{alt:"激活码"}),i.jsx(g8,{})]}),i.jsx("div",{className:"md:hidden flex items-center pr-6 text-gray-700",onClick:()=>t.current.show(),children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5M12 17.25h8.25"})})}),i.jsxs(Zd,{ref:t,onClose:()=>t.current.close(),children:[i.jsxs("header",{className:"sticky top-0 flex justify-between border-b border-amber-50 bg-amber-50",children:[i.jsx("div",{className:"pl-6 h-16 flex items-center md:pl-10 transition-all",children:i.jsxs(Jn,{className:"flex items-center",to:"/",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:i.jsx("path",{fillRule:"evenodd",d:"M12 1.5a.75.75 0 0 1 .75.75V4.5a.75.75 0 0 1-1.5 0V2.25A.75.75 0 0 1 12 1.5ZM5.636 4.136a.75.75 0 0 1 1.06 0l1.592 1.591a.75.75 0 0 1-1.061 1.06l-1.591-1.59a.75.75 0 0 1 0-1.061Zm12.728 0a.75.75 0 0 1 0 1.06l-1.591 1.592a.75.75 0 0 1-1.06-1.061l1.59-1.591a.75.75 0 0 1 1.061 0Zm-6.816 4.496a.75.75 0 0 1 .82.311l5.228 7.917a.75.75 0 0 1-.777 1.148l-2.097-.43 1.045 3.9a.75.75 0 0 1-1.45.388l-1.044-3.899-1.601 1.42a.75.75 0 0 1-1.247-.606l.569-9.47a.75.75 0 0 1 .554-.68ZM3 10.5a.75.75 0 0 1 .75-.75H6a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 10.5Zm14.25 0a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 0 1.5H18a.75.75 0 0 1-.75-.75Zm-8.962 3.712a.75.75 0 0 1 0 1.061l-1.591 1.591a.75.75 0 1 1-1.061-1.06l1.591-1.592a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),i.jsx("div",{className:"font-bold ml-2",children:"React 19"})]})}),i.jsx("div",{className:"flex h-16 items-center pr-6 text-gray-500",children:i.jsx("div",{className:"flex items-center text-gray-700",onClick:()=>t.current.show(),children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:i.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})})})]}),kx.map((e,n)=>i.jsx("div",{className:"flex items-center text-gray-700 bg-white px-8 py-5 transition hover:bg-amber-100",children:i.jsxs(Jn,{className:"flex items-center justify-between w-full",to:e.path,children:[i.jsxs("div",{className:"flex",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-5",children:i.jsx("path",{fillRule:"evenodd",d:"M14.447 3.026a.75.75 0 0 1 .527.921l-4.5 16.5a.75.75 0 0 1-1.448-.394l4.5-16.5a.75.75 0 0 1 .921-.527ZM16.72 6.22a.75.75 0 0 1 1.06 0l5.25 5.25a.75.75 0 0 1 0 1.06l-5.25 5.25a.75.75 0 1 1-1.06-1.06L21.44 12l-4.72-4.72a.75.75 0 0 1 0-1.06Zm-9.44 0a.75.75 0 0 1 0 1.06L2.56 12l4.72 4.72a.75.75 0 0 1-1.06 1.06L.97 12.53a.75.75 0 0 1 0-1.06l5.25-5.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})}),i.jsx("div",{className:"ml-2 text-sm",children:e.text})]}),i.jsx("div",{children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4",children:i.jsx("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})})]})},e.path)),i.jsx("div",{className:"flex items-center text-red-500 bg-red-50 px-8 py-5 transition hover:text-red-700 hover:bg-red-200",children:i.jsxs("a",{className:"flex items-center justify-between w-full",href:"https://appxw863qeq2150.h5.xiaoeknow.com/p/decorate/homepage?entry=2&entry_type=2002&share_user_id=u_626bf7dfafe72_zLCXc4Qr0O&wework_share_customer_id=u_626bf7dfafe72_zLCXc4Qr0O",children:[i.jsxs("div",{className:"flex",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-5",children:i.jsx("path",{fillRule:"evenodd",d:"M10.5 3.798v5.02a3 3 0 0 1-.879 2.121l-2.377 2.377a9.845 9.845 0 0 1 5.091 1.013 8.315 8.315 0 0 0 5.713.636l.285-.071-3.954-3.955a3 3 0 0 1-.879-2.121v-5.02a23.614 23.614 0 0 0-3 0Zm4.5.138a.75.75 0 0 0 .093-1.495A24.837 24.837 0 0 0 12 2.25a25.048 25.048 0 0 0-3.093.191A.75.75 0 0 0 9 3.936v4.882a1.5 1.5 0 0 1-.44 1.06l-6.293 6.294c-1.62 1.621-.903 4.475 1.471 4.88 2.686.46 5.447.698 8.262.698 2.816 0 5.576-.239 8.262-.697 2.373-.406 3.092-3.26 1.47-4.881L15.44 9.879A1.5 1.5 0 0 1 15 8.818V3.936Z",clipRule:"evenodd"})}),i.jsx("div",{className:"ml-2 text-sm",children:"推荐：JavaScript 核心进阶"})]}),i.jsx("div",{children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4",children:i.jsx("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})})]})}),i.jsx("div",{className:"flex items-center text-gray-700 bg-white px-8 py-5 transition hover:bg-amber-100",children:i.jsxs(Jn,{className:"flex items-center justify-between w-full",to:"/",children:[i.jsxs("div",{className:"flex",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"})}),i.jsx("div",{className:"ml-2 text-sm",children:"交流群"})]}),i.jsx("div",{children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4",children:i.jsx("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})})]})}),i.jsx("div",{className:"flex items-center text-gray-700 bg-white px-8 py-5 transition hover:bg-amber-100",children:i.jsxs(Jn,{className:"flex items-center justify-between w-full",to:"/",children:[i.jsxs("div",{className:"flex",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),i.jsx("div",{className:"ml-2 text-sm",children:"激活码"})]}),i.jsx("div",{children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4",children:i.jsx("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})})]})})]})]})}function S8(){const[t,e]=j.useState(""),n=`relative ${t} bg-skin-fill overflow-hidden rounded`;return i.jsxs("div",{className:"my-8 border border-gray-150 rounded px-8 pb-8",children:[i.jsxs("div",{className:"flex justify-center",children:[i.jsx("div",{onClick:()=>e(""),className:"my-6 mx-2 h-6 w-6 rounded bg-indigo-500 cursor-pointer"}),i.jsx("div",{onClick:()=>e("theme-swiss"),className:"my-6 mx-2 h-6 w-6 rounded bg-red-600 cursor-pointer"}),i.jsx("div",{onClick:()=>e("theme-neon"),className:"my-6 mx-2 h-6 w-6 rounded bg-green-400 cursor-pointer"})]}),i.jsxs("div",{className:n,children:[i.jsx("img",{className:"absolute inset-0 h-full w-full object-cover opacity-30",src:"https://images.unsplash.com/photo-1602576666092-bf6447a729fc?q=80&w=3732&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:""}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-skin-hue via-skin-hue to-transparent opacity-90 transition"}),i.jsxs("div",{className:"relative max-w-2xl mx-auto text-center py-16 px-8",children:[i.jsx("h2",{className:"font-extrabold text-skin-base text-4xl transition",children:i.jsx("span",{children:"极客时间、掘金买课优惠"})}),i.jsx("p",{className:"mt-4 text-md text-left text-skin-muted transition",children:"官方的课程返现全部归还，需要从网站 coursesub.top 或者公众号「课程减减」通过邀请链接进行下单，购买后添加客服微信发送课程名确认后即可收到红包，可正常使用极客时间的优惠券或者学生半价优惠。"}),i.jsx("div",{className:"mt-10 max-w-sm mx-auto sm:max-w-one sm:flex sm:justify-center",children:i.jsxs("div",{className:"space-y-0 mx-auto inline-grid grid-cols-2 gap-5",children:[i.jsx("a",{target:"_blank",className:"transition text-skin-inverted bg-skin-button-accent hover:bg-skin-button-accent-hover flex items-center justify-center py-3 border border-transparent text-base font-medium rounded-md shadow-lg px-8",href:"https://coursesub.top/?key=react",children:"去选课"}),i.jsx("a",{target:"_blank",className:"transition text-skin-base bg-skin-button-muted hover:bg-opacity-70 flex items-center justify-center py-3 border border-transparent text-base font-medium rounded-lg shadow-sm px-8",href:"https://mp.weixin.qq.com/s?__biz=MzUyMjkwNTgwOA==&mid=2247485923&idx=1&sn=0710d33fd1e1287e10f88bd4139e0a0e&chksm=f9c5f85cceb2714a585567f21751ae703f8ba80519a7a089746079a05c4f916c962fe81332d1#rd",children:"详细规则"})]})})]})]})]})}function w8(){return i.jsx("div",{className:"fixed top-0 inset-0 -z-10 mx-0 max-w-none overflow-hidden",children:i.jsxs("div",{className:"absolute left-1/2 top-0 ml-[-38rem] h-[25rem] w-[81.25rem] dark:[mask-image:linear-gradient(white,transparent)]",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#36b49f] to-[#DBFF75] opacity-40 [mask-image:radial-gradient(farthest-side_at_top,white,transparent)] dark:from-[#36b49f]/30 dark:to-[#DBFF75]/30 dark:opacity-100",children:i.jsxs("svg",{"aria-hidden":"true",className:"absolute inset-x-0 inset-y-[-50%] h-[200%] w-full skew-y-[-18deg] fill-black/40 stroke-black/50 mix-blend-overlay dark:fill-white/2.5 dark:stroke-white/5",children:[i.jsx("defs",{children:i.jsx("pattern",{id:":S1:",width:"72",height:"56",patternUnits:"userSpaceOnUse",x:"-12",y:"4",children:i.jsx("path",{d:"M.5 56V.5H72",fill:"none"})})}),i.jsx("rect",{width:"100%",height:"100%",strokeWidth:"0",fill:"url(#:S1:)"}),i.jsxs("svg",{x:"-12",y:"4",className:"overflow-visible",children:[i.jsx("rect",{strokeWidth:"0",width:"73",height:"57",x:"288",y:"168"}),i.jsx("rect",{strokeWidth:"0",width:"73",height:"57",x:"144",y:"56"}),i.jsx("rect",{strokeWidth:"0",width:"73",height:"57",x:"504",y:"168"}),i.jsx("rect",{strokeWidth:"0",width:"73",height:"57",x:"720",y:"336"})]})]})}),i.jsx("svg",{viewBox:"0 0 1113 440","aria-hidden":"true",className:"absolute left-1/2 top-0 ml-[-19rem] w-[69.5625rem] fill-white blur-[26px] dark:hidden",children:i.jsx("path",{d:"M.016 439.5s-9.5-300 434-300S882.516 20 882.516 20V0h230.004v439.5H.016Z"})})]})})}function Vh({title:t,desc:e="",path:n,icon:r}){const[s,a]=j.useState({x:0,y:0}),l=j.useRef(null),o=unescape(t.replace(/\\u/gi,"%u")),c=unescape(e.replace(/\\u/gi,"%u"));j.useEffect(()=>{const d=l.current.getBoundingClientRect();function h(f){a({x:f.x-d.left,y:f.y+document.documentElement.scrollTop-d.top})}l.current.addEventListener("mouseenter",f=>{document.addEventListener("mousemove",h,!1)},!1),l.current.addEventListener("mouseleave",f=>{document.removeEventListener("mousemove",h,!1)},!1)},[]);const u=`radial-gradient(180px at ${s.x}px ${s.y}px, white, transparent)`;return i.jsxs("div",{ref:l,className:"w-[320px] group relative flex rounded-2xl bg-zinc-50 transition-shadow hover:shadow-md hover:shadow-zinc-900/5 dark:bg-white/2.5 dark:hover:shadow-black/5",children:[i.jsxs("div",{className:"pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 rounded-2xl transition duration-300 [mask-image:linear-gradient(white,transparent)] group-hover:opacity-50",children:i.jsxs("svg",{"aria-hidden":"true",className:"absolute inset-x-0 inset-y-[-30%] h-[160%] w-full skew-y-[-18deg] fill-black/[0.02] stroke-black/5 dark:fill-white/1 dark:stroke-white/2.5",children:[i.jsx("defs",{children:i.jsx("pattern",{id:":Rkq5jsqja:",width:"72",height:"56",patternUnits:"userSpaceOnUse",x:"50%",y:"16",children:i.jsx("path",{d:"M.5 56V.5H72",fill:"none"})})}),i.jsx("rect",{width:"100%",height:"100%",strokeWidth:"0",fill:"url(#:Rkq5jsqja:)"}),i.jsxs("svg",{x:"50%",y:"16",className:"overflow-visible",children:[i.jsx("rect",{strokeWidth:"0",width:"73",height:"57",x:"0",y:"56"}),i.jsx("rect",{strokeWidth:"0",width:"73",height:"57",x:"72",y:"168"})]})]})}),i.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-[#D7EDEA] to-[#F4FBDF] opacity-0 transition duration-300 group-hover:opacity-100 dark:from-[#202D2E] dark:to-[#303428]",style:{maskImage:u}}),i.jsx("div",{className:"absolute inset-0 rounded-2xl opacity-0 mix-blend-overlay transition duration-300 group-hover:opacity-100",style:{maskImage:u},children:i.jsxs("svg",{"aria-hidden":"true",className:"absolute inset-x-0 inset-y-[-30%] h-[160%] w-full skew-y-[-18deg] fill-black/50 stroke-black/70 dark:fill-white/2.5 dark:stroke-white/10",children:[i.jsx("defs",{children:i.jsx("pattern",{id:":R5kq5jsqja:",width:"72",height:"56",patternUnits:"userSpaceOnUse",x:"50%",y:"16",children:i.jsx("path",{d:"M.5 56V.5H72",fill:"none"})})}),i.jsx("rect",{width:"100%",height:"100%",strokeWidth:"0",fill:"url(#:R5kq5jsqja:)"}),i.jsxs("svg",{x:"50%",y:"16",className:"overflow-visible",children:[i.jsx("rect",{strokeWidth:"0",width:"73",height:"57",x:"0",y:"56"}),i.jsx("rect",{strokeWidth:"0",width:"73",height:"57",x:"72",y:"168"})]})]})})]}),i.jsx("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-gray-200 ring-inset ring-zinc-900/7.5 group-hover:ring-zinc-900/10 dark:ring-white/10 dark:group-hover:ring-white/20"}),i.jsxs("div",{className:"relative rounded-2xl px-4 pb-4 pt-16",children:[i.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-zinc-900/5 ring-1 ring-zinc-900/25 backdrop-blur-[2px] transition duration-300 group-hover:bg-white/50 group-hover:ring-zinc-900/25 dark:bg-white/7.5 dark:ring-white/15 dark:group-hover:bg-emerald-300/10 dark:group-hover:ring-emerald-400",children:i.jsxs("svg",{viewBox:"0 0 20 20","aria-hidden":"true",className:"h-5 w-5 fill-zinc-700/10 stroke-zinc-700 transition-colors duration-300 group-hover:stroke-zinc-900 dark:fill-white/10 dark:stroke-zinc-400 dark:group-hover:fill-emerald-300/10 dark:group-hover:stroke-emerald-400",children:[i.jsx("path",{strokeWidth:"0",fillRule:"evenodd",clipRule:"evenodd",d:"M10 .5a9.5 9.5 0 0 1 5.598 17.177C14.466 15.177 12.383 13.5 10 13.5s-4.466 1.677-5.598 4.177A9.5 9.5 0 0 1 10 .5ZM12.5 8a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"}),i.jsx("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",d:"M10 .5a9.5 9.5 0 0 1 5.598 17.177A9.458 9.458 0 0 1 10 19.5a9.458 9.458 0 0 1-5.598-1.823A9.5 9.5 0 0 1 10 .5Z"}),i.jsx("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.402 17.677C5.534 15.177 7.617 13.5 10 13.5s4.466 1.677 5.598 4.177M10 5.5a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5Z"})]})}),i.jsx("h3",{className:"mt-4 text-sm font-semibold leading-7 text-zinc-900 dark:text-white",children:i.jsxs("a",{href:n,children:[i.jsx("span",{className:"absolute inset-0 rounded-2xl"}),o]})}),i.jsx("p",{className:"mt-1 text-sm text-zinc-600 dark:text-zinc-400",children:c})]})]})}function Oc(t){const{className:e,primary:n,danger:r,sm:s,lg:a,success:l,...o}=t,h=yr(ct("rounded-md border border-transparent font-medium cursor-pointer transition","bg-gray-100 hover:bg-gray-200","text-xs py-2 px-4",{"bg-blue-500 text-white hover:bg-blue-600":n,"bg-red-500 text-white hover:bg-red-600":r,"bg-green-500 text-white hover:bg-green-600":l,"text-xs py-1.5 px-3":s,"text-lg py-2 px-6":a}));return i.jsx("button",{className:h,...o,children:t.children})}function k8(){return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"min-w-[400px] mx-auto px-16 h-[300px] flex flex-col justify-center",children:[i.jsx("div",{className:"my-2",children:i.jsx("div",{className:"font-bold",children:"按钮类型"})}),i.jsxs("div",{className:"flex items-center justify-between my-4",children:[i.jsx(Oc,{children:"Normal"}),i.jsx(Oc,{danger:!0,children:"Danger"}),i.jsx(Oc,{primary:!0,children:"Primary"}),i.jsx(Oc,{success:!0,children:"Success"})]})]})})}const $8=`import Button from './Button.jsx'

export default function ButtonCase() {
  return (
    <>
      <div className='min-w-[400px] mx-auto px-16 h-[300px] flex flex-col justify-center'>
        <div className='my-2'>
          <div className='font-bold'>按钮类型</div>
        </div>
        <div className='flex items-center justify-between my-4'>
          <Button>Normal</Button>
          <Button danger>Danger</Button>
          <Button primary>Primary</Button>
          <Button success>Success</Button>
        </div>
      </div>
    </>
  )
}
`,_s=`import {twMerge} from 'tailwind-merge'
import clsx from 'clsx'

document.documentElement.style.fontSize = '14px'
// 本组件只是一个简单的 UI 组件，学习时无需多过关注

export default function Button(props) {
  const {className, primary, danger, sm, lg, signal, success, ghost, rect, disabled, ...other} = props
  const base = 'rounded-md border border-transparent font-medium cursor-pointer transition relative text-gray-600'

  // type
  const normal = 'bg-gray-100 hover:bg-gray-200'

  // size
  const md = 'text-xs py-2 px-4'

  const cls = twMerge(clsx(base, normal, md, {
    // type
    ['bg-blue-500 text-white hover:bg-blue-600']: primary,
    ['bg-red-500 text-white hover:bg-red-600']: danger,
    ['bg-green-500 text-white hover:bg-green-600']: success,
    ['text-sky-500 bg-white border border-sky-300 hover:bg-sky-50']: signal,
    ['bg-transparent border-transparent hover:bg-gray-100']: ghost,

    ['bg-opacity-70']: disabled,

    // size
    ['text-xs py-1.5 px-3']: sm,
    ['text-lg py-2 px-6']: lg,
    ['w-8 h-8 p-0']: rect,
  }, className))

  return (
    <button className={cls} {...other}>
      {props.children}
      {signal && (
        <span className="absolute flex h-3 w-3 right-[-5px] top-[-5px]">
          <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span>
          <span className="relative inline-flex rounded-full h-3 w-3 bg-sky-500"></span>
        </span>
      )}
    </button>
  )
}
`;function N8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C8(t,e){if(t==null)return{};var n,r,s=N8(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function _p(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function T8(t){if(Array.isArray(t))return _p(t)}function R8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q8(t,e){if(t){if(typeof t=="string")return _p(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_p(t,e):void 0}}function A8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P8(t){return T8(t)||R8(t)||Q8(t)||A8()}function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function _8(t,e){if(Oo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E8(t){var e=_8(t,"string");return Oo(e)=="symbol"?e:e+""}function O5(t,e,n){return(e=E8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(null,arguments)}function $x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$x(Object(n),!0).forEach(function(r){O5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$x(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M8(t){var e=t.length;if(e===0||e===1)return t;if(e===2)return[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])];if(e===3)return[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])];if(e>=4)return[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]}var Wh={};function D8(t){if(t.length===0||t.length===1)return t;var e=t.join(".");return Wh[e]||(Wh[e]=M8(t)),Wh[e]}function Z8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.filter(function(a){return a!=="token"}),s=D8(r);return s.reduce(function(a,l){return Wi(Wi({},a),n[l])},e)}function Nx(t){return t.join(" ")}function z8(t,e){var n=0;return function(r){return n+=1,r.map(function(s,a){return v5({node:s,stylesheet:t,useInlineStyles:e,key:"code-segment-".concat(n,"-").concat(a)})})}}function v5(t){var e=t.node,n=t.stylesheet,r=t.style,s=r===void 0?{}:r,a=t.useInlineStyles,l=t.key,o=e.properties,c=e.type,u=e.tagName,d=e.value;if(c==="text")return d;if(u){var h=z8(n,a),f;if(!a)f=Wi(Wi({},o),{},{className:Nx(o.className)});else{var p=Object.keys(n).reduce(function(g,m){return m.split(".").forEach(function(O){g.includes(O)||g.push(O)}),g},[]),x=o.className&&o.className.includes("token")?["token"]:[],v=o.className&&x.concat(o.className.filter(function(g){return!p.includes(g)}));f=Wi(Wi({},o),{},{className:Nx(v)||void 0,style:Z8(o.className,Object.assign({},o.style,s),n)})}var y=h(e.children);return tr.createElement(u,Ep({key:l},f),y)}}const L8=function(t,e){var n=t.listLanguages();return n.indexOf(e)!==-1};var B8=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function Cx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cx(Object(n),!0).forEach(function(r){O5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var X8=/\n/g;function U8(t){return t.match(X8)}function q8(t){var e=t.lines,n=t.startingLineNumber,r=t.style;return e.map(function(s,a){var l=a+n;return tr.createElement("span",{key:"line-".concat(a),className:"react-syntax-highlighter-line-number",style:typeof r=="function"?r(l):r},"".concat(l,`
`))})}function Y8(t){var e=t.codeString,n=t.codeStyle,r=t.containerStyle,s=r===void 0?{float:"left",paddingRight:"10px"}:r,a=t.numberStyle,l=a===void 0?{}:a,o=t.startingLineNumber;return tr.createElement("code",{style:Object.assign({},n,s)},q8({lines:e.replace(/\n$/,"").split(`
`),style:l,startingLineNumber:o}))}function V8(t){return"".concat(t.toString().length,".25em")}function b5(t,e){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(t),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:e},children:[{type:"text",value:t}]}}function y5(t,e,n){var r={display:"inline-block",minWidth:V8(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},s=typeof t=="function"?t(e):t,a=Kn(Kn({},r),s);return a}function eu(t){var e=t.children,n=t.lineNumber,r=t.lineNumberStyle,s=t.largestLineNumber,a=t.showInlineLineNumbers,l=t.lineProps,o=l===void 0?{}:l,c=t.className,u=c===void 0?[]:c,d=t.showLineNumbers,h=t.wrapLongLines,f=typeof o=="function"?o(n):o;if(f.className=u,n&&a){var p=y5(r,n,s);e.unshift(b5(n,p))}return h&d&&(f.style=Kn(Kn({},f.style),{},{display:"flex"})),{type:"element",tagName:"span",properties:f,children:e}}function j5(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=0;r<t.length;r++){var s=t[r];if(s.type==="text")n.push(eu({children:[s],className:P8(new Set(e))}));else if(s.children){var a=e.concat(s.properties.className);j5(s.children,a).forEach(function(l){return n.push(l)})}}return n}function W8(t,e,n,r,s,a,l,o,c){var u,d=j5(t.value),h=[],f=-1,p=0;function x(w,S){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return eu({children:w,lineNumber:S,lineNumberStyle:o,largestLineNumber:l,showInlineLineNumbers:s,lineProps:n,className:k,showLineNumbers:r,wrapLongLines:c})}function v(w,S){if(r&&S&&s){var k=y5(o,S,l);w.unshift(b5(S,k))}return w}function y(w,S){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return e||k.length>0?x(w,S,k):v(w,S)}for(var g=function(){var S=d[p],k=S.children[0].value,$=U8(k);if($){var _=k.split(`
`);_.forEach(function(R,z){var E=r&&h.length+a,H={type:"text",value:"".concat(R,`
`)};if(z===0){var B=d.slice(f+1,p).concat(eu({children:[H],className:S.properties.className})),G=y(B,E);h.push(G)}else if(z===_.length-1){var Q=d[p+1]&&d[p+1].children&&d[p+1].children[0],L={type:"text",value:"".concat(R)};if(Q){var q=eu({children:[L],className:S.properties.className});d.splice(p+1,0,q)}else{var ee=[L],D=y(ee,E,S.properties.className);h.push(D)}}else{var A=[H],I=y(A,E,S.properties.className);h.push(I)}}),f=p}p++};p<d.length;)g();if(f!==d.length-1){var m=d.slice(f+1,d.length);if(m&&m.length){var O=r&&h.length+a,b=y(m,O);h.push(b)}}return e?h:(u=[]).concat.apply(u,h)}function H8(t){var e=t.rows,n=t.stylesheet,r=t.useInlineStyles;return e.map(function(s,a){return v5({node:s,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(a)})})}function S5(t){return t&&typeof t.highlightAuto<"u"}function I8(t){var e=t.astGenerator,n=t.language,r=t.code,s=t.defaultCodeValue;if(S5(e)){var a=L8(e,n);return n==="text"?{value:s,language:"text"}:a?e.highlight(n,r):e.highlightAuto(r)}try{return n&&n!=="text"?{value:e.highlight(r,n)}:{value:s}}catch{return{value:s}}}function G8(t,e){return function(r){var s=r.language,a=r.children,l=r.style,o=l===void 0?e:l,c=r.customStyle,u=c===void 0?{}:c,d=r.codeTagProps,h=d===void 0?{className:s?"language-".concat(s):void 0,style:Kn(Kn({},o['code[class*="language-"]']),o['code[class*="language-'.concat(s,'"]')])}:d,f=r.useInlineStyles,p=f===void 0?!0:f,x=r.showLineNumbers,v=x===void 0?!1:x,y=r.showInlineLineNumbers,g=y===void 0?!0:y,m=r.startingLineNumber,O=m===void 0?1:m,b=r.lineNumberContainerStyle,w=r.lineNumberStyle,S=w===void 0?{}:w,k=r.wrapLines,$=r.wrapLongLines,_=$===void 0?!1:$,R=r.lineProps,z=R===void 0?{}:R,E=r.renderer,H=r.PreTag,B=H===void 0?"pre":H,G=r.CodeTag,Q=G===void 0?"code":G,L=r.code,q=L===void 0?(Array.isArray(a)?a[0]:a)||"":L,ee=r.astGenerator,D=C8(r,B8);ee=ee||t;var A=v?tr.createElement(Y8,{containerStyle:b,codeStyle:h.style||{},numberStyle:S,startingLineNumber:O,codeString:q}):null,I=o.hljs||o['pre[class*="language-"]']||{backgroundColor:"#fff"},C=S5(ee)?"hljs":"prismjs",M=p?Object.assign({},D,{style:Object.assign({},I,u)}):Object.assign({},D,{className:D.className?"".concat(C," ").concat(D.className):C,style:Object.assign({},u)});if(_?h.style=Kn(Kn({},h.style),{},{whiteSpace:"pre-wrap"}):h.style=Kn(Kn({},h.style),{},{whiteSpace:"pre"}),!ee)return tr.createElement(B,M,A,tr.createElement(Q,h,q));(k===void 0&&E||_)&&(k=!0),E=E||H8;var Y=[{type:"text",value:q}],K=I8({astGenerator:ee,language:s,code:q,defaultCodeValue:Y});K.language===null&&(K.value=Y);var fe=K.value.length+O,xe=W8(K,k,z,v,g,O,fe,S,_);return tr.createElement(B,M,tr.createElement(Q,h,!g&&A,E({rows:xe,stylesheet:o,useInlineStyles:p})))}}var wi={};function Ig(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];typeof n=="object"&&!Object.isFrozen(n)&&Ig(n)}),t}var w5=Ig,F8=Ig;w5.default=F8;class Tx{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function la(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function ms(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const s in r)n[s]=r[s]}),n}const J8="</span>",Rx=t=>!!t.kind;class K8{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=la(e)}openNode(e){if(!Rx(e))return;let n=e.kind;e.sublanguage||(n=`${this.classPrefix}${n}`),this.span(n)}closeNode(e){Rx(e)&&(this.buffer+=J8)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class Gg{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n={kind:e,children:[]};this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{Gg._collapse(n)}))}}class eN extends Gg{constructor(e){super(),this.options=e}addKeyword(e,n){e!==""&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,n){const r=e.root;r.kind=n,r.sublanguage=!0,this.add(r)}toHTML(){return new K8(this,this.options).value()}finalize(){return!0}}function tN(t){return new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function vo(t){return t?typeof t=="string"?t:t.source:null}function nN(...t){return t.map(n=>vo(n)).join("")}function rN(...t){return"("+t.map(n=>vo(n)).join("|")+")"}function sN(t){return new RegExp(t.toString()+"|").exec("").length-1}function iN(t,e){const n=t&&t.exec(e);return n&&n.index===0}const aN=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function lN(t,e="|"){let n=0;return t.map(r=>{n+=1;const s=n;let a=vo(r),l="";for(;a.length>0;){const o=aN.exec(a);if(!o){l+=a;break}l+=a.substring(0,o.index),a=a.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?l+="\\"+String(Number(o[1])+s):(l+=o[0],o[0]==="("&&n++)}return l}).map(r=>`(${r})`).join(e)}const oN=/\b\B/,k5="[a-zA-Z]\\w*",Fg="[a-zA-Z_]\\w*",Jg="\\b\\d+(\\.\\d+)?",$5="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",N5="\\b(0b[01]+)",cN="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",uN=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=nN(e,/.*\b/,t.binary,/\b.*/)),ms({className:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},bo={begin:"\\\\[\\s\\S]",relevance:0},dN={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[bo]},hN={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[bo]},C5={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},zd=function(t,e,n={}){const r=ms({className:"comment",begin:t,end:e,contains:[]},n);return r.contains.push(C5),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},fN=zd("//","$"),pN=zd("/\\*","\\*/"),mN=zd("#","$"),gN={className:"number",begin:Jg,relevance:0},xN={className:"number",begin:$5,relevance:0},ON={className:"number",begin:N5,relevance:0},vN={className:"number",begin:Jg+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},bN={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[bo,{begin:/\[/,end:/\]/,relevance:0,contains:[bo]}]}]},yN={className:"title",begin:k5,relevance:0},jN={className:"title",begin:Fg,relevance:0},SN={begin:"\\.\\s*"+Fg,relevance:0},wN=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var vc=Object.freeze({__proto__:null,MATCH_NOTHING_RE:oN,IDENT_RE:k5,UNDERSCORE_IDENT_RE:Fg,NUMBER_RE:Jg,C_NUMBER_RE:$5,BINARY_NUMBER_RE:N5,RE_STARTERS_RE:cN,SHEBANG:uN,BACKSLASH_ESCAPE:bo,APOS_STRING_MODE:dN,QUOTE_STRING_MODE:hN,PHRASAL_WORDS_MODE:C5,COMMENT:zd,C_LINE_COMMENT_MODE:fN,C_BLOCK_COMMENT_MODE:pN,HASH_COMMENT_MODE:mN,NUMBER_MODE:gN,C_NUMBER_MODE:xN,BINARY_NUMBER_MODE:ON,CSS_NUMBER_MODE:vN,REGEXP_MODE:bN,TITLE_MODE:yN,UNDERSCORE_TITLE_MODE:jN,METHOD_GUARD:SN,END_SAME_AS_BEGIN:wN});function kN(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function $N(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=kN,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function NN(t,e){Array.isArray(t.illegal)&&(t.illegal=rN(...t.illegal))}function CN(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function TN(t,e){t.relevance===void 0&&(t.relevance=1)}const RN=["of","and","for","in","not","or","if","then","parent","list","value"],QN="keyword";function T5(t,e,n=QN){const r={};return typeof t=="string"?s(n,t.split(" ")):Array.isArray(t)?s(n,t):Object.keys(t).forEach(function(a){Object.assign(r,T5(t[a],e,a))}),r;function s(a,l){e&&(l=l.map(o=>o.toLowerCase())),l.forEach(function(o){const c=o.split("|");r[c[0]]=[a,AN(c[0],c[1])]})}}function AN(t,e){return e?Number(e):PN(t)?0:1}function PN(t){return RN.includes(t.toLowerCase())}function _N(t,{plugins:e}){function n(o,c){return new RegExp(vo(o),"m"+(t.case_insensitive?"i":"")+(c?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(c,u){u.position=this.position++,this.matchIndexes[this.matchAt]=u,this.regexes.push([u,c]),this.matchAt+=sN(c)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const c=this.regexes.map(u=>u[1]);this.matcherRe=n(lN(c),!0),this.lastIndex=0}exec(c){this.matcherRe.lastIndex=this.lastIndex;const u=this.matcherRe.exec(c);if(!u)return null;const d=u.findIndex((f,p)=>p>0&&f!==void 0),h=this.matchIndexes[d];return u.splice(0,d),Object.assign(u,h)}}class s{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(c){if(this.multiRegexes[c])return this.multiRegexes[c];const u=new r;return this.rules.slice(c).forEach(([d,h])=>u.addRule(d,h)),u.compile(),this.multiRegexes[c]=u,u}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(c,u){this.rules.push([c,u]),u.type==="begin"&&this.count++}exec(c){const u=this.getMatcher(this.regexIndex);u.lastIndex=this.lastIndex;let d=u.exec(c);if(this.resumingScanAtSamePosition()&&!(d&&d.index===this.lastIndex)){const h=this.getMatcher(0);h.lastIndex=this.lastIndex+1,d=h.exec(c)}return d&&(this.regexIndex+=d.position+1,this.regexIndex===this.count&&this.considerAll()),d}}function a(o){const c=new s;return o.contains.forEach(u=>c.addRule(u.begin,{rule:u,type:"begin"})),o.terminatorEnd&&c.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&c.addRule(o.illegal,{type:"illegal"}),c}function l(o,c){const u=o;if(o.isCompiled)return u;[CN].forEach(h=>h(o,c)),t.compilerExtensions.forEach(h=>h(o,c)),o.__beforeBegin=null,[$N,NN,TN].forEach(h=>h(o,c)),o.isCompiled=!0;let d=null;if(typeof o.keywords=="object"&&(d=o.keywords.$pattern,delete o.keywords.$pattern),o.keywords&&(o.keywords=T5(o.keywords,t.case_insensitive)),o.lexemes&&d)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return d=d||o.lexemes||/\w+/,u.keywordPatternRe=n(d,!0),c&&(o.begin||(o.begin=/\B|\b/),u.beginRe=n(o.begin),o.endSameAsBegin&&(o.end=o.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(u.endRe=n(o.end)),u.terminatorEnd=vo(o.end)||"",o.endsWithParent&&c.terminatorEnd&&(u.terminatorEnd+=(o.end?"|":"")+c.terminatorEnd)),o.illegal&&(u.illegalRe=n(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(h){return EN(h==="self"?o:h)})),o.contains.forEach(function(h){l(h,u)}),o.starts&&l(o.starts,c),u.matcher=a(u),u}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=ms(t.classNameAliases||{}),l(t)}function R5(t){return t?t.endsWithParent||R5(t.starts):!1}function EN(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return ms(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:R5(t)?ms(t,{starts:t.starts?ms(t.starts):null}):Object.isFrozen(t)?ms(t):t}var MN="10.7.3";function DN(t){return!!(t||t==="")}function ZN(t){const e={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!t.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,la(this.code);let r={};return this.autoDetect?(r=t.highlightAuto(this.code),this.detectedLanguage=r.language):(r=t.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),r.value},autoDetect(){return!this.language||DN(this.autodetect)},ignoreIllegals(){return!0}},render(r){return r("pre",{},[r("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:e,VuePlugin:{install(r){r.component("highlightjs",e)}}}}const zN={"after:highlightElement":({el:t,result:e,text:n})=>{const r=Qx(t);if(!r.length)return;const s=document.createElement("div");s.innerHTML=e.value,e.value=LN(r,Qx(s),n)}};function Mp(t){return t.nodeName.toLowerCase()}function Qx(t){const e=[];return function n(r,s){for(let a=r.firstChild;a;a=a.nextSibling)a.nodeType===3?s+=a.nodeValue.length:a.nodeType===1&&(e.push({event:"start",offset:s,node:a}),s=n(a,s),Mp(a).match(/br|hr|img|input/)||e.push({event:"stop",offset:s,node:a}));return s}(t,0),e}function LN(t,e,n){let r=0,s="";const a=[];function l(){return!t.length||!e.length?t.length?t:e:t[0].offset!==e[0].offset?t[0].offset<e[0].offset?t:e:e[0].event==="start"?t:e}function o(d){function h(f){return" "+f.nodeName+'="'+la(f.value)+'"'}s+="<"+Mp(d)+[].map.call(d.attributes,h).join("")+">"}function c(d){s+="</"+Mp(d)+">"}function u(d){(d.event==="start"?o:c)(d.node)}for(;t.length||e.length;){let d=l();if(s+=la(n.substring(r,d[0].offset)),r=d[0].offset,d===t){a.reverse().forEach(c);do u(d.splice(0,1)[0]),d=l();while(d===t&&d.length&&d[0].offset===r);a.reverse().forEach(o)}else d[0].event==="start"?a.push(d[0].node):a.pop(),u(d.splice(0,1)[0])}return s+la(n.substr(r))}const Ax={},Hh=t=>{console.error(t)},Px=(t,...e)=>{console.log(`WARN: ${t}`,...e)},dn=(t,e)=>{Ax[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),Ax[`${t}/${e}`]=!0)},Ih=la,_x=ms,Ex=Symbol("nomatch"),BN=function(t){const e=Object.create(null),n=Object.create(null),r=[];let s=!0;const a=/(^(<[^>]+>|\t|)+|\n)/gm,l="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let c={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:eN};function u(C){return c.noHighlightRe.test(C)}function d(C){let M=C.className+" ";M+=C.parentNode?C.parentNode.className:"";const Y=c.languageDetectRe.exec(M);if(Y){const K=G(Y[1]);return K||(Px(l.replace("{}",Y[1])),Px("Falling back to no-highlight mode for this block.",C)),K?Y[1]:"no-highlight"}return M.split(/\s+/).find(K=>u(K)||G(K))}function h(C,M,Y,K){let fe="",xe="";typeof M=="object"?(fe=C,Y=M.ignoreIllegals,xe=M.language,K=void 0):(dn("10.7.0","highlight(lang, code, ...args) has been deprecated."),dn("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),xe=C,fe=M);const Je={code:fe,language:xe};D("before:highlight",Je);const Ct=Je.result?Je.result:f(Je.language,Je.code,Y,K);return Ct.code=Je.code,D("after:highlight",Ct),Ct}function f(C,M,Y,K){function fe(J,se){const de=je.case_insensitive?se[0].toLowerCase():se[0];return Object.prototype.hasOwnProperty.call(J.keywords,de)&&J.keywords[de]}function xe(){if(!re.keywords){ut.addText(Ue);return}let J=0;re.keywordPatternRe.lastIndex=0;let se=re.keywordPatternRe.exec(Ue),de="";for(;se;){de+=Ue.substring(J,se.index);const $e=fe(re,se);if($e){const[Gt,Jo]=$e;if(ut.addText(de),de="",Fo+=Jo,Gt.startsWith("_"))de+=se[0];else{const P3=je.classNameAliases[Gt]||Gt;ut.addKeyword(se[0],P3)}}else de+=se[0];J=re.keywordPatternRe.lastIndex,se=re.keywordPatternRe.exec(Ue)}de+=Ue.substr(J),ut.addText(de)}function Je(){if(Ue==="")return;let J=null;if(typeof re.subLanguage=="string"){if(!e[re.subLanguage]){ut.addText(Ue);return}J=f(re.subLanguage,Ue,!0,It[re.subLanguage]),It[re.subLanguage]=J.top}else J=x(Ue,re.subLanguage.length?re.subLanguage:null);re.relevance>0&&(Fo+=J.relevance),ut.addSublanguage(J.emitter,J.language)}function Ct(){re.subLanguage!=null?Je():xe(),Ue=""}function Ie(J){return J.className&&ut.openNode(je.classNameAliases[J.className]||J.className),re=Object.create(J,{parent:{value:re}}),re}function Zt(J,se,de){let $e=iN(J.endRe,de);if($e){if(J["on:end"]){const Gt=new Tx(J);J["on:end"](se,Gt),Gt.isMatchIgnored&&($e=!1)}if($e){for(;J.endsParent&&J.parent;)J=J.parent;return J}}if(J.endsWithParent)return Zt(J.parent,se,de)}function Hr(J){return re.matcher.regexIndex===0?(Ue+=J[0],1):(lh=!0,0)}function $i(J){const se=J[0],de=J.rule,$e=new Tx(de),Gt=[de.__beforeBegin,de["on:begin"]];for(const Jo of Gt)if(Jo&&(Jo(J,$e),$e.isMatchIgnored))return Hr(se);return de&&de.endSameAsBegin&&(de.endRe=tN(se)),de.skip?Ue+=se:(de.excludeBegin&&(Ue+=se),Ct(),!de.returnBegin&&!de.excludeBegin&&(Ue=se)),Ie(de),de.returnBegin?0:se.length}function Ia(J){const se=J[0],de=M.substr(J.index),$e=Zt(re,J,de);if(!$e)return Ex;const Gt=re;Gt.skip?Ue+=se:(Gt.returnEnd||Gt.excludeEnd||(Ue+=se),Ct(),Gt.excludeEnd&&(Ue=se));do re.className&&ut.closeNode(),!re.skip&&!re.subLanguage&&(Fo+=re.relevance),re=re.parent;while(re!==$e.parent);return $e.starts&&($e.endSameAsBegin&&($e.starts.endRe=$e.endRe),Ie($e.starts)),Gt.returnEnd?0:se.length}function ih(){const J=[];for(let se=re;se!==je;se=se.parent)se.className&&J.unshift(se.className);J.forEach(se=>ut.openNode(se))}let zs={};function Me(J,se){const de=se&&se[0];if(Ue+=J,de==null)return Ct(),0;if(zs.type==="begin"&&se.type==="end"&&zs.index===se.index&&de===""){if(Ue+=M.slice(se.index,se.index+1),!s){const $e=new Error("0 width match regex");throw $e.languageName=C,$e.badRule=zs.rule,$e}return 1}if(zs=se,se.type==="begin")return $i(se);if(se.type==="illegal"&&!Y){const $e=new Error('Illegal lexeme "'+de+'" for mode "'+(re.className||"<unnamed>")+'"');throw $e.mode=re,$e}else if(se.type==="end"){const $e=Ia(se);if($e!==Ex)return $e}if(se.type==="illegal"&&de==="")return 1;if(ah>1e5&&ah>se.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Ue+=de,de.length}const je=G(C);if(!je)throw Hh(l.replace("{}",C)),new Error('Unknown language: "'+C+'"');const Re=_N(je,{plugins:r});let ve="",re=K||Re;const It={},ut=new c.__emitter(c);ih();let Ue="",Fo=0,Ni=0,ah=0,lh=!1;try{for(re.matcher.considerAll();;){ah++,lh?lh=!1:re.matcher.considerAll(),re.matcher.lastIndex=Ni;const J=re.matcher.exec(M);if(!J)break;const se=M.substring(Ni,J.index),de=Me(se,J);Ni=J.index+de}return Me(M.substr(Ni)),ut.closeAllNodes(),ut.finalize(),ve=ut.toHTML(),{relevance:Math.floor(Fo),value:ve,language:C,illegal:!1,emitter:ut,top:re}}catch(J){if(J.message&&J.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:J.message,context:M.slice(Ni-100,Ni+100),mode:J.mode},sofar:ve,relevance:0,value:Ih(M),emitter:ut};if(s)return{illegal:!1,relevance:0,value:Ih(M),emitter:ut,language:C,top:re,errorRaised:J};throw J}}function p(C){const M={relevance:0,emitter:new c.__emitter(c),value:Ih(C),illegal:!1,top:o};return M.emitter.addText(C),M}function x(C,M){M=M||c.languages||Object.keys(e);const Y=p(C),K=M.filter(G).filter(L).map(Ie=>f(Ie,C,!1));K.unshift(Y);const fe=K.sort((Ie,Zt)=>{if(Ie.relevance!==Zt.relevance)return Zt.relevance-Ie.relevance;if(Ie.language&&Zt.language){if(G(Ie.language).supersetOf===Zt.language)return 1;if(G(Zt.language).supersetOf===Ie.language)return-1}return 0}),[xe,Je]=fe,Ct=xe;return Ct.second_best=Je,Ct}function v(C){return c.tabReplace||c.useBR?C.replace(a,M=>M===`
`?c.useBR?"<br>":M:c.tabReplace?M.replace(/\t/g,c.tabReplace):M):C}function y(C,M,Y){const K=M?n[M]:Y;C.classList.add("hljs"),K&&C.classList.add(K)}const g={"before:highlightElement":({el:C})=>{c.useBR&&(C.innerHTML=C.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,`
`))},"after:highlightElement":({result:C})=>{c.useBR&&(C.value=C.value.replace(/\n/g,"<br>"))}},m=/^(<[^>]+>|\t)+/gm,O={"after:highlightElement":({result:C})=>{c.tabReplace&&(C.value=C.value.replace(m,M=>M.replace(/\t/g,c.tabReplace)))}};function b(C){let M=null;const Y=d(C);if(u(Y))return;D("before:highlightElement",{el:C,language:Y}),M=C;const K=M.textContent,fe=Y?h(K,{language:Y,ignoreIllegals:!0}):x(K);D("after:highlightElement",{el:C,result:fe,text:K}),C.innerHTML=fe.value,y(C,Y,fe.language),C.result={language:fe.language,re:fe.relevance,relavance:fe.relevance},fe.second_best&&(C.second_best={language:fe.second_best.language,re:fe.second_best.relevance,relavance:fe.second_best.relevance})}function w(C){C.useBR&&(dn("10.3.0","'useBR' will be removed entirely in v11.0"),dn("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),c=_x(c,C)}const S=()=>{if(S.called)return;S.called=!0,dn("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(b)};function k(){dn("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),$=!0}let $=!1;function _(){if(document.readyState==="loading"){$=!0;return}document.querySelectorAll("pre code").forEach(b)}function R(){$&&_()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",R,!1);function z(C,M){let Y=null;try{Y=M(t)}catch(K){if(Hh("Language definition for '{}' could not be registered.".replace("{}",C)),s)Hh(K);else throw K;Y=o}Y.name||(Y.name=C),e[C]=Y,Y.rawDefinition=M.bind(null,t),Y.aliases&&Q(Y.aliases,{languageName:C})}function E(C){delete e[C];for(const M of Object.keys(n))n[M]===C&&delete n[M]}function H(){return Object.keys(e)}function B(C){dn("10.4.0","requireLanguage will be removed entirely in v11."),dn("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const M=G(C);if(M)return M;throw new Error("The '{}' language is required, but not loaded.".replace("{}",C))}function G(C){return C=(C||"").toLowerCase(),e[C]||e[n[C]]}function Q(C,{languageName:M}){typeof C=="string"&&(C=[C]),C.forEach(Y=>{n[Y.toLowerCase()]=M})}function L(C){const M=G(C);return M&&!M.disableAutodetect}function q(C){C["before:highlightBlock"]&&!C["before:highlightElement"]&&(C["before:highlightElement"]=M=>{C["before:highlightBlock"](Object.assign({block:M.el},M))}),C["after:highlightBlock"]&&!C["after:highlightElement"]&&(C["after:highlightElement"]=M=>{C["after:highlightBlock"](Object.assign({block:M.el},M))})}function ee(C){q(C),r.push(C)}function D(C,M){const Y=C;r.forEach(function(K){K[Y]&&K[Y](M)})}function A(C){return dn("10.2.0","fixMarkup will be removed entirely in v11.0"),dn("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),v(C)}function I(C){return dn("10.7.0","highlightBlock will be removed entirely in v12.0"),dn("10.7.0","Please use highlightElement now."),b(C)}Object.assign(t,{highlight:h,highlightAuto:x,highlightAll:_,fixMarkup:A,highlightElement:b,highlightBlock:I,configure:w,initHighlighting:S,initHighlightingOnLoad:k,registerLanguage:z,unregisterLanguage:E,listLanguages:H,getLanguage:G,registerAliases:Q,requireLanguage:B,autoDetection:L,inherit:_x,addPlugin:ee,vuePlugin:ZN(t).VuePlugin}),t.debugMode=function(){s=!1},t.safeMode=function(){s=!0},t.versionString=MN;for(const C in vc)typeof vc[C]=="object"&&w5(vc[C]);return Object.assign(t,vc),t.addPlugin(g),t.addPlugin(zN),t.addPlugin(O),t};var XN=BN({}),UN=XN,Q5={exports:{}};(function(t){(function(){var e;e=t.exports=s,e.format=s,e.vsprintf=r,typeof console<"u"&&typeof console.log=="function"&&(e.printf=n);function n(){console.log(s.apply(null,arguments))}function r(a,l){return s.apply(null,[a].concat(l))}function s(a){for(var l=1,o=[].slice.call(arguments),c=0,u=a.length,d="",h,f=!1,p,x,v=!1,y,g=function(){return o[l++]},m=function(){for(var O="";/\d/.test(a[c]);)O+=a[c++],h=a[c];return O.length>0?parseInt(O):null};c<u;++c)if(h=a[c],f)switch(f=!1,h=="."?(v=!1,h=a[++c]):h=="0"&&a[c+1]=="."?(v=!0,c+=2,h=a[c]):v=!0,y=m(),h){case"b":d+=parseInt(g(),10).toString(2);break;case"c":p=g(),typeof p=="string"||p instanceof String?d+=p:d+=String.fromCharCode(parseInt(p,10));break;case"d":d+=parseInt(g(),10);break;case"f":x=String(parseFloat(g()).toFixed(y||6)),d+=v?x:x.replace(/^0/,"");break;case"j":d+=JSON.stringify(g());break;case"o":d+="0"+parseInt(g(),10).toString(8);break;case"s":d+=g();break;case"x":d+="0x"+parseInt(g(),10).toString(16);break;case"X":d+="0x"+parseInt(g(),10).toString(16).toUpperCase();break;default:d+=h;break}else h==="%"?f=!0:d+=h;return d}})()})(Q5);var qN=Q5.exports,YN=qN,Es=Ms(Error),VN=Es;Es.eval=Ms(EvalError);Es.range=Ms(RangeError);Es.reference=Ms(ReferenceError);Es.syntax=Ms(SyntaxError);Es.type=Ms(TypeError);Es.uri=Ms(URIError);Es.create=Ms;function Ms(t){return e.displayName=t.displayName||t.name,e;function e(n){return n&&(n=YN.apply(null,arguments)),new t(n)}}var rr=UN,tu=VN;wi.highlight=A5;wi.highlightAuto=HN;wi.registerLanguage=IN;wi.listLanguages=GN;wi.registerAlias=FN;Wr.prototype.addText=e9;Wr.prototype.addKeyword=JN;Wr.prototype.addSublanguage=KN;Wr.prototype.openNode=t9;Wr.prototype.closeNode=n9;Wr.prototype.closeAllNodes=P5;Wr.prototype.finalize=P5;Wr.prototype.toHTML=r9;var WN="hljs-";function A5(t,e,n){var r=rr.configure({}),s=n||{},a=s.prefix,l;if(typeof t!="string")throw tu("Expected `string` for name, got `%s`",t);if(!rr.getLanguage(t))throw tu("Unknown language: `%s` is not registered",t);if(typeof e!="string")throw tu("Expected `string` for value, got `%s`",e);if(a==null&&(a=WN),rr.configure({__emitter:Wr,classPrefix:a}),l=rr.highlight(e,{language:t,ignoreIllegals:!0}),rr.configure(r||{}),l.errorRaised)throw l.errorRaised;return{relevance:l.relevance,language:l.language,value:l.emitter.rootNode.children}}function HN(t,e){var n=e||{},r=n.subset||rr.listLanguages();n.prefix;var s=r.length,a=-1,l,o,c,u;if(typeof t!="string")throw tu("Expected `string` for value, got `%s`",t);for(o={relevance:0,language:null,value:[]},l={relevance:0,language:null,value:[]};++a<s;)u=r[a],rr.getLanguage(u)&&(c=A5(u,t,e),c.language=u,c.relevance>o.relevance&&(o=c),c.relevance>l.relevance&&(o=l,l=c));return o.language&&(l.secondBest=o),l}function IN(t,e){rr.registerLanguage(t,e)}function GN(){return rr.listLanguages()}function FN(t,e){var n=t,r;e&&(n={},n[t]=e);for(r in n)rr.registerAliases(n[r],{languageName:r})}function Wr(t){this.options=t,this.rootNode={children:[]},this.stack=[this.rootNode]}function JN(t,e){this.openNode(e),this.addText(t),this.closeNode()}function KN(t,e){var n=this.stack,r=n[n.length-1],s=t.rootNode.children,a=e?{type:"element",tagName:"span",properties:{className:[e]},children:s}:s;r.children=r.children.concat(a)}function e9(t){var e=this.stack,n,r;t!==""&&(n=e[e.length-1],r=n.children[n.children.length-1],r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t}))}function t9(t){var e=this.stack,n=this.options.classPrefix+t,r=e[e.length-1],s={type:"element",tagName:"span",properties:{className:[n]},children:[]};r.children.push(s),e.push(s)}function n9(){this.stack.pop()}function r9(){return""}function P5(){}const Mx="[A-Za-z$_][0-9A-Za-z$_]*",s9=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],i9=["true","false","null","undefined","NaN","Infinity"],a9=["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer","BigInt64Array","BigUint64Array","BigInt"],l9=["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],o9=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],c9=["arguments","this","super","console","window","document","localStorage","module","global"],u9=[].concat(o9,c9,a9,l9);function d9(t){return t?typeof t=="string"?t:t.source:null}function Dx(t){return Dp("(?=",t,")")}function Dp(...t){return t.map(n=>d9(n)).join("")}function h9(t){const e=(b,{after:w})=>{const S="</"+b[0].slice(1);return b.input.indexOf(S,w)!==-1},n=Mx,r={begin:"<>",end:"</>"},s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(b,w)=>{const S=b[0].length+b.index,k=b.input[S];if(k==="<"){w.ignoreMatch();return}k===">"&&(e(b,{after:S})||w.ignoreMatch())}},a={$pattern:Mx,keyword:s9,literal:i9,built_in:u9},l="[0-9](_?[0-9])*",o=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${c})((${o})|\\.)?|(${o}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${o})\\b|\\.)?|(${o})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},h={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},f={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,d]},v={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},y=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,f,p,u,t.REGEXP_MODE];d.contains=y.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(y)});const g=[].concat(v,d.contains),m=g.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(g)}]),O={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:m};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:m},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,f,p,v,u,{begin:Dp(/[{,\n]\s*/,Dx(Dp(/(((\/\/.*$)|(\/\*(\*[^/]|[^*])*\*\/))\s*)*/,n+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:n+Dx("\\s*:"),relevance:0}]},{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[v,t.REGEXP_MODE,{className:"function",begin:"(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:m}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:r.begin,end:r.end},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/[{;]/,excludeEnd:!0,keywords:a,contains:["self",t.inherit(t.TITLE_MODE,{begin:n}),O],illegal:/%/},{beginKeywords:"while if switch catch for"},{className:"function",begin:t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,contains:[O,t.inherit(t.TITLE_MODE,{begin:n})]},{variants:[{begin:"\\."+n},{begin:"\\$"+n}],relevance:0},{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"[\]]/,contains:[{beginKeywords:"extends"},t.UNDERSCORE_TITLE_MODE]},{begin:/\b(?=constructor)/,end:/[{;]/,excludeEnd:!0,contains:[t.inherit(t.TITLE_MODE,{begin:n}),"self",O]},{begin:"(get|set)\\s+(?="+n+"\\()",end:/\{/,keywords:"get set",contains:[t.inherit(t.TITLE_MODE,{begin:n}),{begin:/\(\)/},O]},{begin:/\$[(.]/}]}}var f9=h9;const Kg=Od(f9),p9="modulepreload",m9=function(t){return"/"+t},Zx={},nu=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.all(n.map(o=>{if(o=m9(o),o in Zx)return;Zx[o]=!0;const c=o.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":p9,c||(d.as="script",d.crossOrigin=""),d.href=o,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>e()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})};var ki=G8(wi,{});ki.registerLanguage=wi.registerLanguage;const e0={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#383a42",background:"#fafafa"},"hljs-comment":{color:"#a0a1a7",fontStyle:"italic"},"hljs-quote":{color:"#a0a1a7",fontStyle:"italic"},"hljs-doctag":{color:"#a626a4"},"hljs-keyword":{color:"#a626a4"},"hljs-formula":{color:"#a626a4"},"hljs-section":{color:"#e45649"},"hljs-name":{color:"#e45649"},"hljs-selector-tag":{color:"#e45649"},"hljs-deletion":{color:"#e45649"},"hljs-subst":{color:"#e45649"},"hljs-literal":{color:"#0184bb"},"hljs-string":{color:"#50a14f"},"hljs-regexp":{color:"#50a14f"},"hljs-addition":{color:"#50a14f"},"hljs-attribute":{color:"#50a14f"},"hljs-meta-string":{color:"#50a14f"},"hljs-built_in":{color:"#c18401"},"hljs-class .hljs-title":{color:"#c18401"},"hljs-attr":{color:"#986801"},"hljs-variable":{color:"#986801"},"hljs-template-variable":{color:"#986801"},"hljs-type":{color:"#986801"},"hljs-selector-class":{color:"#986801"},"hljs-selector-attr":{color:"#986801"},"hljs-selector-pseudo":{color:"#986801"},"hljs-number":{color:"#986801"},"hljs-symbol":{color:"#4078f2"},"hljs-bullet":{color:"#4078f2"},"hljs-link":{color:"#4078f2",textDecoration:"underline"},"hljs-meta":{color:"#4078f2"},"hljs-selector-id":{color:"#4078f2"},"hljs-title":{color:"#4078f2"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}},g9=`import Button from 'components/Button'

export default function ButtonCase() {
  return (
    <>
      <div className='min-w-[400px] mx-auto px-16 h-[300px] flex flex-col justify-center'>
        <div className='my-2'>
          <div className='font-bold'>按钮类型</div>
        </div>
        <div className='flex items-center justify-between my-4'>
          <Button>Normal</Button>
          <Button danger>Danger</Button>
          <Button primary>Primary</Button>
          <Button success>Success</Button>
        </div>
      </div>
    </>
  )
}`;ki.registerLanguage("javascript",Kg);const x9={ButtonCase:g9,Button:_s};function Vl(t){const{files:e=x9,caseRender:n,active:r=0}=t,s=Object.keys(e),[a,l]=j.useState(s[r]);function o(c){l(s[c])}return i.jsxs("div",{className:"border border-gray-100 flex bg-white keepx flex-col-reverse sm:flex-row",children:[i.jsxs("div",{className:"overflow-hidden flex-1",children:[i.jsx("div",{className:"flex border-b border-gray-100",children:s.map((c,u)=>i.jsx(De,{ghost:!0,onClick:()=>o(u),className:a===c?"text-green-500":"",children:c},c))}),i.jsx("pre",{className:"text-sm leading-6",children:i.jsx(ki,{language:"javascript",PreTag:"div",style:e0,children:e[a]})})]}),n&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"sm:w-[1px] h-[1px] sm:h-auto bg-gray-100"}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsxs("div",{className:"flex border-b border-gray-100 items-center pl-3",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),i.jsx(De,{ghost:!0,className:"px-2",children:"预览"})]}),n]})]})]})}function O9(){return i.jsx(Vl,{files:{ButtonCase:$8,Button:_s},caseRender:i.jsx(k8,{})})}function Ld({id:t,host:e,repo:n,repoId:r,category:s,categoryId:a,mapping:l,term:o,strict:c,reactionsEnabled:u,emitMetadata:d,inputPosition:h,theme:f,lang:p,loading:x}){const[v,y]=j.useState(!1);return j.useEffect(()=>{v||(nu(()=>import("./giscus-BNK3dBIH-B_EkeIy7.js"),[]),y(!0))},[]),v?i.jsx("giscus-widget",{id:t,host:e,repo:n,repoid:r,category:s,categoryid:a,mapping:l,term:o,strict:c,reactionsenabled:u,emitmetadata:d,inputposition:h,theme:f,lang:p,loading:x}):null}const v9="/assets/ercode-w1g_eexN.png";function b9(){const t=j.useRef(null);function e(n){n.preventDefault(),t.current.show()}return i.jsxs("div",{className:"relative pt-16",children:[i.jsx(w8,{}),i.jsxs("div",{className:"max-w-[1050px] mx-auto px-4",children:[i.jsxs("div",{className:"mt-20 max-w-[750px]",children:[i.jsx("h2",{className:"text-lg font-bold",children:"React 19 全解"}),i.jsx("p",{className:"mt-4 text-gray-500 leading-8 text-md",children:"全网第一本系统学习 React 19 的专栏。本专栏在公众号「这波能反杀」首发，受到了大量粉丝的喜爱。专栏中包含大量实践案例，深入简出，理论结合实践为大家分享 React19 的学习。"}),i.jsx("p",{className:"text-md mt-4 text-gray-500 leading-8",children:"React19 为开发者带来了新的开发理念，这又是一次开发方式上的一次变革。并且在开发体验和性能上都有大幅度的提升，值得每一位 React 开发者学习，赶紧行动吧。"}),i.jsxs("div",{className:"mt-8",children:[i.jsxs(d5,{to:"tutorial/index",className:"inline-flex items-center px-5 py-2 bg-gray-800 hover:bg-gray-900 text-white text-sm rounded-full",children:[i.jsx("span",{className:"mr-2",children:"快速开始"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})})]}),i.jsx("a",{onClick:e,href:"",className:"inline-flex px-4 py-2 text-gray-600 ring-1 ring-gray-200 text-sm rounded-full ml-4",children:i.jsx("span",{children:"关注公众号"})}),i.jsx(Ya,{ref:t,title:"Follow me!",children:i.jsx("img",{src:v9,alt:""})})]})]}),i.jsxs("div",{className:"mt-20 max-w-[750px]",children:[i.jsx("h2",{className:"text-lg font-bold",children:"学前准备"}),i.jsxs("div",{className:"flex items-center text-gray-600 mt-8",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),i.jsx("div",{className:"ml-2",children:"具备一定的 JavaScript 基础"})]}),i.jsxs("div",{className:"flex items-center text-gray-600 mt-4",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),i.jsx("div",{className:"ml-2",children:"熟悉异步请求，熟悉 fetch 与 Promise"})]}),i.jsxs("div",{className:"flex items-center text-gray-600 mt-4",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),i.jsx("div",{className:"ml-2",children:"熟悉 React 之前的版本的使用"})]})]}),i.jsx("div",{className:"border-b mt-20 mb-8 text-lg font-bold pb-3",children:"主要内容"}),i.jsxs("div",{className:"flex justify-between flex-col md:flex-row items-center",children:[i.jsx(Vh,{title:"Compiler",path:"./tutorial/use/importwith19",desc:"你可以不再使用 memo、useMemo、useCallback 来优化你的项目性能，大幅度提高开发体验"}),i.jsx("div",{className:"w-4 h-4 md:hidden"}),i.jsx(Vh,{title:"新的架构思路",path:"./tutorial/index",desc:"并发模式变得更加实用，得益于并发模式的成熟，我们将可以使用新的架构思路构思我的项目"}),i.jsx("div",{className:"w-4 h-4 md:hidden"}),i.jsx(Vh,{title:"新的交互方式",path:"./tutorial/use/base",desc:"React 在人机交互的开发体验上做了很多努力和尝试，他们将在这个版本中得以体现"})]}),i.jsx("div",{className:"border-b mt-20 mb-8 text-lg font-bold pb-3",children:"案例展示方式"}),i.jsxs("p",{className:"mt-10 flex items-center",children:["所见即所得。所有案例直接渲染，可操作、可交互。例如：点击按钮，切换皮肤",i.jsx("span",{className:"animate-bounce bg-white dark:bg-slate-800 p-2 w-10 h-10 ring-1 ring-slate-900/5 dark:ring-slate-200/20 shadow-lg rounded-full flex items-center justify-center ml-4",children:i.jsx("svg",{className:"w-6 h-6 text-violet-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]}),i.jsx(S8,{}),i.jsx("p",{className:"mb-4",children:"沉浸式学习体验。通过可在线编辑的案例，你能获得沉浸式的学习体验"}),i.jsx(O9,{}),i.jsx("div",{className:"border-b mt-20 mb-8 text-lg font-bold pb-3",children:"其他作品"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("div",{className:"w-[200px] h-32 border rounded-xl",children:"x"}),i.jsx("div",{className:"w-[200px] h-32 border rounded-xl",children:"x"}),i.jsx("div",{className:"w-[200px] h-32 border rounded-xl",children:"x"}),i.jsx("div",{className:"w-[200px] h-32 border rounded-xl",children:"x"})]}),i.jsx("div",{className:"border-b mt-20 mb-8 text-lg font-bold pb-3",children:"评论区"}),i.jsx(Ld,{repo:"yangbo5207/react19feature",repoId:"R_kgDOMGiHOw",category:"General",categoryId:"DIC_kwDOMGiHO84Cf8dR",maping:"pathname",term:"欢迎道友",strict:"0",reactionsEnabled:"1",emitMetadata:"1",inputPosition:"top",lang:"zh-CN",loading:"lazy",crossorigin:"anonymous",async:!0}),i.jsx("div",{className:"border-b mt-20 mb-8 text-lg font-bold pb-3"}),i.jsxs("div",{className:"flex justify-between pb-10",children:[i.jsxs("span",{className:"text-gray-400",children:["© Copyright 2024.",i.jsx("a",{href:"https://beian.miit.gov.cn/",target:"_blank",children:"这波能反杀."}),i.jsx("a",{href:"https://beian.miit.gov.cn/",target:"_blank",children:"粤ICP备2024222174号"})]}),i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"ml-3",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})})})]})]})]})]})}function _5(t){const{label:e,type:n,primary:r,warning:s,danger:a,newer:l,hard:o,className:c}=t,d=ct("text-sm text-gray-500 border px-3 rounded-full",{"bg-blue-100 text-blue-500 border-blue-500":!!r,"bg-green-100 text-green-500 border-green-500":!!l,"bg-red-100 text-red-500 border-red-500":!!a,"bg-orange-100-100 text-orange-500 border-orange-500":!!a,"bg-fuchsia-100 text-fuchsia-500 border-fuchsia-500":!!o},c);return i.jsx("label",{className:yr(d),children:e})}const y9=`import {Suspense, useState, useTransition} from 'react'
import Message from './Message'
import Button from './Button'
import Skeleton from './Skeleton'
import {getApi} from './api'

export default function App() {
  const [response, setApi] = useState(getApi)
  const [isPending, startTransition] = useTransition()

  function __clickToGetMessage() {
    startTransition(() => {
      setApi(getApi())
    })
  }

  return (
    <div>
      <Button onClick={__clickToGetMessage} disabled={isPending}>
        点击更新
      </Button>

      <Suspense fallback={<Skeleton />}>
        <Message response={response} isPending={isPending} />
      </Suspense>
    </div>
  )
}
`,j9=`const random = [
  'React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.',
  'Whether you work on your own or with thousands of other developers, using React feels the same.',
  'React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.',
  'This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ',
  'You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it.'
]

var myHeaders = new Headers();
myHeaders.append("User-Agent", "Apifox/1.0.0 (https://apifox.com)");

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow',
  data: 'hex'
};

// 你可以动态修改最后的数字，然后观察请求情况
const url = 'https://echo.apifox.com/delay/1'

export const getApi = async () => {
  await fetch(url, requestOptions)
  const i = Math.floor(Math.random() * 10) % 5
  return {
    value: random[i]
  }
}
`,S9=`import { use } from 'react'

const Message = (props) => {
  const {isPending, response} = props
  const content = use(response)
  return (
    <div className='text-sm leading-6 transition border border-blue-100 shadow rounded-md p-4 w-full mt-4' style={{opacity: isPending ? 0.5 : 1}}>
      {content.value}
    </div>
  )
}
export default Message
`,w9=`document.documentElement.style.fontSize = '14px'

export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
      <div className="animate-pulse">
        <div className="flex-1 space-y-3 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,k9=`import {twMerge} from 'tailwind-merge'
import clsx from 'clsx'

// 本组件只是一个简单的 UI 组件，学习时无需多过关注

export default function Button(props) {
  const {className, primary, danger, sm, lg, success, ...other} = props
  const base = 'rounded-md border border-transparent font-medium cursor-pointer transition'

  // type
  const normal = 'bg-gray-100 hover:bg-gray-200'

  // size
  const md = 'text-xs py-2 px-4'

  const cls = twMerge(clsx(base, normal, md, {
    // type
    ['bg-blue-500 text-white hover:bg-blue-600']: primary,
    ['bg-red-500 text-white hover:bg-red-600']: danger,
    ['bg-green-500 text-white hover:bg-green-600']: success,

    // size
    ['text-xs py-1.5 px-3']: sm,
    ['text-lg py-2 px-6']: lg,
  }))

  return (
    <button className={cls} {...other}>{props.children}</button>
  )
}
`;function ne(t){const{reload:e}=t,[n,r]=j.useState(!0),s=j.useRef(null);function a(){const l=s.current.getBoundingClientRect().height;s.current.style.minHeight=`${l}px`,r(!1),setTimeout(()=>{r(!0)},200)}return i.jsxs("div",{className:"border rounded-md my-4",children:[i.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-100 items-center px-3 py-2 text-gray-500",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),i.jsx("div",{className:"ml-2 text-sm",children:"预览"})]}),i.jsx("div",{className:"p-4",ref:s,children:n?t.children:null}),e?i.jsx("div",{className:"mx-4 mb-4 text-right",children:i.jsx(De,{signal:!0,onClick:a,children:"reload"})}):null]})}const $9=t=>{const{isPending:e,response:n}=t,r=j.use(n);return i.jsx("div",{className:"text-sm leading-6 transition border border-blue-100 shadow rounded-md p-4 w-full mt-4",style:{opacity:e?.5:1},children:r.value})};document.documentElement.style.fontSize="14px";function N9(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full mt-4",children:i.jsx("div",{className:"animate-pulse",children:i.jsxs("div",{className:"flex-1 space-y-3 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})})})}const C9=["React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.","Whether you work on your own or with thousands of other developers, using React feels the same.","React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.","This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ","You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it."];var E5=new Headers;E5.append("User-Agent","Apifox/1.0.0 (https://apifox.com)");var T9={method:"GET",headers:E5,redirect:"follow",data:"hex"};const R9="https://echo.apifox.com/delay/1",Q9=async()=>{await fetch(R9,T9);const t=Math.floor(Math.random()*10)%5;return{value:C9[t]}};function A9(){const t=Q9();return i.jsx(j.Suspense,{fallback:i.jsx(N9,{}),children:i.jsx($9,{response:t})})}function zx(t){const e={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.h2,{children:i.jsx(e.em,{children:"0"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"序"})}),`
`,i.jsx(e.p,{children:"目前写 React 19 的文章已经有很多很多了，但是，写到点子上的并不多。包括官方文档，只是简单的罗列出了它新增了一些 hook，一些特性，却并没有进一步说明这些 hook 背后所代表的含义，它们的最佳实践是什么。"}),`
`,i.jsx(e.p,{children:"以至于，在这个时间节点，期待 React 19 的人也并不是很多。"}),`
`,i.jsxs(e.p,{children:["但是，我要告诉大家的是，",i.jsx(e.strong,{children:"我们都严重低估了 React 19"}),"。"]}),`
`,i.jsx(e.p,{children:"经过我长达两个月的使用体验，我的感受就是："}),`
`,i.jsxs(e.p,{children:[i.jsx(e.strong,{children:"我们的开发方式，又要迎来一次重大升级了。"})," 因为新的 hook 真的太好用了。"]}),`
`,i.jsx(e.p,{children:"所以我准备写一系列合集，为大家完整、详细的介绍 React 19 的新的最佳实践。在后续的文章中，我会详细分析新的开发方式的思考。相关的实践案例我已经写完，后续的二十多篇文章预计会在 React19 正式发布之前完成。大家可以保持持续关注。"}),`
`,i.jsx(e.p,{children:"和过去的 React 版本相比，React 19 主要从如下两个方面带来了显著的提升。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"性能"})}),`
`,i.jsx(e.p,{children:"最近几年，许多其他前端框架纷纷拥抱基于 Signal 的细粒度更新，在特定场景有接近原生开发的性能体验，把前端框架的性能问题推上了风口浪尖。而 React 基于 Fiber 的 Diff 更新则自然而然的成为了最大的缺陷与短板。大量冗余 re-render 造成的性能损耗，是 React 不得不面对的挑战。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"注：细粒度更新并非所有场景都具有明显的优势，也不要完全相信框架而忽视掌握性能优化技能的重要性"}),`
`]}),`
`,i.jsxs(e.p,{children:["虽然 React 提供了 ",i.jsx(e.code,{children:"memo/useMemo/useCallback"})," 来帮助开发者优化项目性能。但是他们的学习成本并不低，想要在项目中得心应手的使用他们更是不易。这就造成了许多团队在没有完全消化他们的情况下，对他们的使用存在滥用的情况。"]}),`
`,i.jsxs(e.p,{children:["在这样的背景之下，React 19 将会推出 ",i.jsx(e.strong,{children:"React Compiler"}),"，在开发者不调整任何代码的情况下，自动优化项目性能。"]}),`
`,i.jsxs(e.p,{children:["React Compiler 能够帮助我们在不使用 ",i.jsx(e.code,{children:"memo/useMemo/useCallback"})," 的情况下，方便得处理好项目 re-render 的问题。你的项目最终只会在需要更新的地方 re-render。"]}),`
`,i.jsx(e.p,{children:"并且最重要的是，React Compiler 编译之后，你的代码并不会改变现有渲染机制，而是在已有机制下完成对项目的优化。React Compiler 的愿景非常庞大，他需要在兼顾大量老项目的情况下，做到对项目的性能优化。因此与提出一个新的解决方案相比，他的开发难度要高出很多。破坏性更新显得更加容易，但是对于开发者和大量老项目而言，这是一种严重的伤害。React Compiler 则选择了最难搞的一种更新方式。"}),`
`,i.jsx(e.p,{children:"与依赖追踪的细粒度更新不同，React Compiler 通过记忆的方式，让组件更新只发生在需要更新的组件，从而减少大量 re-render 的组件，我会在后续的章节中详细介绍他的使用原理。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"但是请注意，React Compiler 并非全能，如果你写的代码过于灵活，无法被提前预判执行行为，那么 React Compiler 将会跳过这一部分的优化。因此好的方式是在项目中引入严格模式，在严格模式的指导下完成的开发，基本都在 React Compiler 的辐射范围之内"}),`
`]}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"2"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"开发体验"})}),`
`,i.jsxs(e.p,{children:["与性能带来的提升相比，真正令我非常期待的是，React 19 将会迎来一次",i.jsx(e.strong,{children:"开发体验的重大提升"}),"。毕竟没有 React Compiler，我自己也能优化好我的项目性能。"]}),`
`,i.jsxs(e.p,{children:["开发体验的提升主要体现在，",i.jsxs(e.strong,{children:["React 19 之后，我们可能不再那么需要 ",i.jsx(e.code,{children:"useEffect"})]})," 了。"]}),`
`,i.jsx(e.p,{children:"useEffect 是一个功能强大的 hook，但他又是最难驾驭的一个 hook，理解不够的开发者可能会由于滥用它而导致项目失控。包括被讨论最多的闭包问题，也往往跟它有关。其中最考验开发者水平的，是对于 useEffect 依赖项的正确处理。"}),`
`,i.jsxs(e.p,{children:["React19 的 大部分更新，几乎都是围绕如何在开发中尽量不用或者少用 useEffect 来展开。在之前的项目开发中，",i.jsx(e.code,{children:"useEffect"})," 是我们处理异步问题必须使用的重要 hook 之一，他几乎存在于每一个页面组件之中。"]}),`
`,i.jsxs(e.p,{children:["React 19 则引入了新的 hook，让我们",i.jsx(e.strong,{children:"处理异步开发时，不再需要"})," ",i.jsx(e.code,{children:"useEffect"}),"，从而极大的改变我们的开发方式。我会在后续的章节中，结合",i.jsx(e.strong,{children:"大量实践案例"}),"，一一介绍这些 API 的详细使用方法，确保每个读者都能彻底掌握他。"]}),`
`,i.jsxs(e.p,{children:["除此之外，React19 想要彻底改变我们在项目开发中的 UI 交互方式。因此对于 React19 而言，",i.jsx(e.code,{children:"Suspense、Action"})," 的重要性将会变得越来越高。"]}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"Suspense"})," 虽然早在 React18 中都能够被正常使用，但是由于异步请求方案的不成熟，它们并没有被普及开，包括 React 官方文档也并没有进一步说明如何触发 ",i.jsx(e.code,{children:"Suspense"})," 的回调机制。因此它们只是小范围的被一些顶尖的前端开发所使用。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<Suspense fallback={<div>loading...</div>}>
  <List api={__api} />
</Suspense>
`})}),`
`,i.jsxs(e.p,{children:["React19 之后，",i.jsx(e.strong,{children:"它们将会得到普及"}),"。这将会进一步深化组件解释一切的开发思想。"]}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"3"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"新的架构思维"})}),`
`,i.jsx(e.p,{children:"React 19 之前，React 高手与普通开发者之间，开发的项目无论是从性能上、还是从代码优雅上差距都非常大。因此不同的人对于 React 的感受完全不一样。"}),`
`,i.jsxs(e.p,{children:["而 React 19 则借由推出一些新的 hook，暗中传递一种",i.jsx(e.strong,{children:"框架思维"}),"「最佳实践」，这将会极大的拉进普通开发者与顶尖高手之间的差距。对于大多数 React 开发者而言，这会是一个极大的提升。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"这一意图在 React 新的官方文档与 Next.js 中体现得非常明显"}),`
`]}),`
`,i.jsxs(e.p,{children:["这一最佳实践主要围绕如何改进异步编程的开发体验而展开。在后续的章节中大家可以自行感受。我也会在后续的实践案例中弱化对 ",i.jsx(e.code,{children:"useEffect"})," 的使用。"]}),`
`,i.jsx(e.p,{children:"例如，当我想要实现如下效果时。"}),`
`,i.jsx(e.p,{children:"在项目开发中，新页面渲染时请求一个接口的场景非常常见。新的架构思维的开发代码如下所示。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"该案例没有引入任何三方库"}),`
`]}),`
`,i.jsx(e.p,{children:"首先我们需要定义一个 API 用于请求数据。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-ts",children:`export const getApi = async () => {
  await fetch(url, requestOptions)
  const i = Math.floor(Math.random() * 10) % 5
  return {
    value: random[i]
  }
}
`})}),`
`,i.jsx(e.p,{children:"需要注意的是，本案例中的 api 都使用的是模拟接口，许多数据无任何业务描述，仅用于呈现 UI 的显示和变化。因此写法会与实际开发过程中稍有差异。"}),`
`,i.jsx(e.p,{children:"然后创建一个函数组件，并执行该 api"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`export default function App() {
  const promise = getApi()

  return (
    <Suspense fallback={<Skeleton />}>
      <Message response={promise} />
    </Suspense>
  )
}
`})}),`
`,i.jsx(e.p,{children:"最后在子组件中，获取 api 执行之后得到的数据"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`const Message = (props) => {
  const {response} = props
  const content = use(response)
  return (
    <div className='text-sm leading-6 transition border border-blue-100 shadow rounded-md p-4 w-full mt-4'>
      {content.value}
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"演示效果如下"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(A9,{})}),`
`,i.jsxs(e.p,{children:["大家可以自行感受一下新的开发方式与以前基于 ",i.jsx(e.code,{children:"useEffect"})," 请求数据有什么不同之处。我在右侧案例演示中，还提供了更完整更具代表性的案例。大家可以先瞄一眼体会一下。案例代码有对应的完整演示效果，你可以通过修改代码观察案例的变化。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"注意：一套成熟架构思维，不是使用一个简单的方案解决某一个问题，而是要基于这套思维去解决项目中的绝大多数场景。因此我们一定要结合大量的场景去理解一套项目架构思维。"}),`
`]}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"5"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"合集介绍"})}),`
`,i.jsxs(e.p,{children:["本合集名为：",i.jsx(e.strong,{children:"「React19 全解」"})," ，是 ",i.jsx(e.strong,{children:"「React 知命境」"})," 的续集。首发与公众号",i.jsx(e.a,{href:"",children:"这波能反杀"}),"。后为了提高大家的学习体验，迁移至此处。在这里我基于",i.jsx(e.strong,{children:"沉浸式"}),"的学习体验，内置了大量可操作可交互的真实案例。摒弃了使用截图演示案例的方式。除此之外，为了让大家能够获得更好的学习效果，每一个案例都精心设计了 UI。在细节上精心打磨，争取让大家能够所学即所得。快速掌握 React19."]}),`
`,i.jsx(e.p,{children:"希望大家能够在这里获得全网最好的学习体验！Let's go."})]})}function P9(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(zx,{...t})}):zx(t)}var Ne="colors",zt="sizes",V="space",_9={gap:V,gridGap:V,columnGap:V,gridColumnGap:V,rowGap:V,gridRowGap:V,inset:V,insetBlock:V,insetBlockEnd:V,insetBlockStart:V,insetInline:V,insetInlineEnd:V,insetInlineStart:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,marginBlock:V,marginBlockEnd:V,marginBlockStart:V,marginInline:V,marginInlineEnd:V,marginInlineStart:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,paddingBlock:V,paddingBlockEnd:V,paddingBlockStart:V,paddingInline:V,paddingInlineEnd:V,paddingInlineStart:V,top:V,right:V,bottom:V,left:V,scrollMargin:V,scrollMarginTop:V,scrollMarginRight:V,scrollMarginBottom:V,scrollMarginLeft:V,scrollMarginX:V,scrollMarginY:V,scrollMarginBlock:V,scrollMarginBlockEnd:V,scrollMarginBlockStart:V,scrollMarginInline:V,scrollMarginInlineEnd:V,scrollMarginInlineStart:V,scrollPadding:V,scrollPaddingTop:V,scrollPaddingRight:V,scrollPaddingBottom:V,scrollPaddingLeft:V,scrollPaddingX:V,scrollPaddingY:V,scrollPaddingBlock:V,scrollPaddingBlockEnd:V,scrollPaddingBlockStart:V,scrollPaddingInline:V,scrollPaddingInlineEnd:V,scrollPaddingInlineStart:V,fontSize:"fontSizes",background:Ne,backgroundColor:Ne,backgroundImage:Ne,borderImage:Ne,border:Ne,borderBlock:Ne,borderBlockEnd:Ne,borderBlockStart:Ne,borderBottom:Ne,borderBottomColor:Ne,borderColor:Ne,borderInline:Ne,borderInlineEnd:Ne,borderInlineStart:Ne,borderLeft:Ne,borderLeftColor:Ne,borderRight:Ne,borderRightColor:Ne,borderTop:Ne,borderTopColor:Ne,caretColor:Ne,color:Ne,columnRuleColor:Ne,fill:Ne,outline:Ne,outlineColor:Ne,stroke:Ne,textDecorationColor:Ne,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:zt,minBlockSize:zt,maxBlockSize:zt,inlineSize:zt,minInlineSize:zt,maxInlineSize:zt,width:zt,minWidth:zt,maxWidth:zt,height:zt,minHeight:zt,maxHeight:zt,flexBasis:zt,gridTemplateColumns:zt,gridTemplateRows:zt,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},E9=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Yo=()=>{const t=Object.create(null);return(e,n,...r)=>{const s=(a=>JSON.stringify(a,E9))(e);return s in t?t[s]:t[s]=n(e,...r)}},ru=Symbol.for("sxs.internal"),t0=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),Lx=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:M9}=Object.prototype,Zp=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),D9=/\s+(?![^()]*\))/,Qi=t=>e=>t(...typeof e=="string"?String(e).split(D9):[e]),Bx={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Qi((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Qi((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Qi((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Qi((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Qi((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Qi((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},Gh=/([\d.]+)([^]*)/,Z9=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(s=>s.includes("&")?s.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(s)?`:is(${r})`:r):r+" "+s)),n),[]):e,z9=(t,e)=>t in L9&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,s,a)=>r+(s==="stretch"?`-moz-available${a};${Zp(t)}:${r}-webkit-fill-available`:`-moz-fit-content${a};${Zp(t)}:${r}fit-content`)+a):String(e),L9={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Ur=t=>t?t+"-":"",M5=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,s,a,l,o)=>l=="$"==!!a?r:(s||l=="--"?"calc(":"")+"var(--"+(l==="$"?Ur(e)+(o.includes("$")?"":Ur(n))+o.replace(/\$/g,"-"):o)+")"+(s||l=="--"?"*"+(s||"")+(a||"1")+")":"")),B9=/\s*,\s*(?![^()]*\))/,X9=Object.prototype.toString,Hi=(t,e,n,r,s)=>{let a,l,o;const c=(u,d,h)=>{let f,p;const x=v=>{for(f in v){const m=f.charCodeAt(0)===64,O=m&&Array.isArray(v[f])?v[f]:[v[f]];for(p of O){const b=/[A-Z]/.test(g=f)?g:g.replace(/-[^]/g,S=>S[1].toUpperCase()),w=typeof p=="object"&&p&&p.toString===X9&&(!r.utils[b]||!d.length);if(b in r.utils&&!w){const S=r.utils[b];if(S!==l){l=S,x(S(p)),l=null;continue}}else if(b in Bx){const S=Bx[b];if(S!==o){o=S,x(S(p)),o=null;continue}}if(m&&(y=f.slice(1)in r.media?"@media "+r.media[f.slice(1)]:f,f=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(S,k,$,_,R,z)=>{const E=Gh.test(k),H=.0625*(E?-1:1),[B,G]=E?[_,k]:[k,_];return"("+($[0]==="="?"":$[0]===">"===E?"max-":"min-")+B+":"+($[0]!=="="&&$.length===1?G.replace(Gh,(Q,L,q)=>Number(L)+H*($===">"?1:-1)+q):G)+(R?") and ("+(R[0]===">"?"min-":"max-")+B+":"+(R.length===1?z.replace(Gh,(Q,L,q)=>Number(L)+H*(R===">"?-1:1)+q):z):"")+")"})),w){const S=m?h.concat(f):[...h],k=m?[...d]:Z9(d,f.split(B9));a!==void 0&&s(Xx(...a)),a=void 0,c(p,k,S)}else a===void 0&&(a=[[],d,h]),f=m||f.charCodeAt(0)!==36?f:`--${Ur(r.prefix)}${f.slice(1).replace(/\$/g,"-")}`,p=w?p:typeof p=="number"?p&&b in U9?String(p)+"px":String(p):M5(z9(b,p??""),r.prefix,r.themeMap[b]),a[0].push(`${m?`${f} `:`${Zp(f)}:`}${p}`)}}var y,g};x(u),a!==void 0&&s(Xx(...a)),a=void 0};c(t,e,n)},Xx=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,U9={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Ux=t=>String.fromCharCode(t+(t>25?39:97)),ri=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=Ux(n%52)+r;return Ux(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),jl=["themed","global","styled","onevar","resonevar","allvar","inline"],q9=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},Y9=t=>{let e;const n=()=>{const{cssRules:s}=e.sheet;return[].map.call(s,(a,l)=>{const{cssText:o}=a;let c="";if(o.startsWith("--sxs"))return"";if(s[l-1]&&(c=s[l-1].cssText).startsWith("--sxs")){if(!a.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===a)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${o}`;return a.cssRules.length?`${c}${o}`:""}return o}).join("")},r=()=>{if(e){const{rules:o,sheet:c}=e;if(!c.deleteRule){for(;Object(Object(c.cssRules)[0]).type===3;)c.cssRules.splice(0,1);c.cssRules=[]}for(const u in o)delete o[u]}const s=Object(t).styleSheets||[];for(const o of s)if(q9(o)){for(let c=0,u=o.cssRules;u[c];++c){const d=Object(u[c]);if(d.type!==1)continue;const h=Object(u[c+1]);if(h.type!==4)continue;++c;const{cssText:f}=d;if(!f.startsWith("--sxs"))continue;const p=f.slice(14,-3).trim().split(/\s+/),x=jl[p[0]];x&&(e||(e={sheet:o,reset:r,rules:{},toString:n}),e.rules[x]={group:h,index:c,cache:new Set(p)})}if(e)break}if(!e){const o=(c,u)=>({type:u,cssRules:[],insertRule(d,h){this.cssRules.splice(h,0,o(d,{import:3,undefined:1}[(d.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return c==="@media{}"?`@media{${[].map.call(this.cssRules,d=>d.cssText).join("")}}`:c}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:o("","text/css"),rules:{},reset:r,toString:n}}const{sheet:a,rules:l}=e;for(let o=jl.length-1;o>=0;--o){const c=jl[o];if(!l[c]){const u=jl[o+1],d=l[u]?l[u].index:a.cssRules.length;a.insertRule("@media{}",d),a.insertRule(`--sxs{--sxs:${o}}`,d),l[c]={group:a.cssRules[d+1],index:d,cache:new Set([o])}}V9(l[c])}};return r(),e},V9=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},al=Symbol(),W9=Yo(),H9=(t,e)=>W9(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const s of n)if(s!=null)if(s[ru]){r.type==null&&(r.type=s[ru].type);for(const a of s[ru].composers)r.composers.add(a)}else s.constructor!==Object||s.$$typeof?r.type==null&&(r.type=s):r.composers.add(I9(s,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),G9(t,r,e)}),I9=({variants:t,compoundVariants:e,defaultVariants:n,...r},s)=>{const a=`${Ur(s.prefix)}c-${ri(r)}`,l=[],o=[],c=Object.create(null),u=[];for(const f in n)c[f]=String(n[f]);if(typeof t=="object"&&t)for(const f in t){d=c,h=f,M9.call(d,h)||(c[f]="undefined");const p=t[f];for(const x in p){const v={[f]:String(x)};String(x)==="undefined"&&u.push(f);const y=p[x],g=[v,y,!Lx(y)];l.push(g)}}var d,h;if(typeof e=="object"&&e)for(const f of e){let{css:p,...x}=f;p=typeof p=="object"&&p||{};for(const y in x)x[y]=String(x[y]);const v=[x,p,!Lx(p)];o.push(v)}return[a,r,l,o,c,u]},G9=(t,e,n)=>{const[r,s,a,l]=F9(e.composers),o=typeof e.type=="function"||e.type.$$typeof?(h=>{function f(){for(let p=0;p<f[al].length;p++){const[x,v]=f[al][p];h.rules[x].apply(v)}return f[al]=[],null}return f[al]=[],f.rules={},jl.forEach(p=>f.rules[p]={apply:x=>f[al].push([p,x])}),f})(n):null,c=(o||n).rules,u=`.${r}${s.length>1?`:where(.${s.slice(1).join(".")})`:""}`,d=h=>{h=typeof h=="object"&&h||J9;const{css:f,...p}=h,x={};for(const g in a)if(delete p[g],g in h){let m=h[g];typeof m=="object"&&m?x[g]={"@initial":a[g],...m}:(m=String(m),x[g]=m!=="undefined"||l.has(g)?m:a[g])}else x[g]=a[g];const v=new Set([...s]);for(const[g,m,O,b]of e.composers){n.rules.styled.cache.has(g)||(n.rules.styled.cache.add(g),Hi(m,[`.${g}`],[],t,k=>{c.styled.apply(k)}));const w=qx(O,x,t.media),S=qx(b,x,t.media,!0);for(const k of w)if(k!==void 0)for(const[$,_,R]of k){const z=`${g}-${ri(_)}-${$}`;v.add(z);const E=(R?n.rules.resonevar:n.rules.onevar).cache,H=R?c.resonevar:c.onevar;E.has(z)||(E.add(z),Hi(_,[`.${z}`],[],t,B=>{H.apply(B)}))}for(const k of S)if(k!==void 0)for(const[$,_]of k){const R=`${g}-${ri(_)}-${$}`;v.add(R),n.rules.allvar.cache.has(R)||(n.rules.allvar.cache.add(R),Hi(_,[`.${R}`],[],t,z=>{c.allvar.apply(z)}))}}if(typeof f=="object"&&f){const g=`${r}-i${ri(f)}-css`;v.add(g),n.rules.inline.cache.has(g)||(n.rules.inline.cache.add(g),Hi(f,[`.${g}`],[],t,m=>{c.inline.apply(m)}))}for(const g of String(h.className||"").trim().split(/\s+/))g&&v.add(g);const y=p.className=[...v].join(" ");return{type:e.type,className:y,selector:u,props:p,toString:()=>y,deferredInjector:o}};return t0(d,{className:r,selector:u,[ru]:e,toString:()=>(n.rules.styled.cache.has(r)||d(),r)})},F9=t=>{let e="";const n=[],r={},s=[];for(const[a,,,,l,o]of t){e===""&&(e=a),n.push(a),s.push(...o);for(const c in l){const u=l[c];(r[c]===void 0||u!=="undefined"||o.includes(u))&&(r[c]=u)}}return[e,n,r,new Set(s)]},qx=(t,e,n,r)=>{const s=[];e:for(let[a,l,o]of t){if(o)continue;let c,u=0,d=!1;for(c in a){const h=a[c];let f=e[c];if(f!==h){if(typeof f!="object"||!f)continue e;{let p,x,v=0;for(const y in f){if(h===String(f[y])){if(y!=="@initial"){const g=y.slice(1);(x=x||[]).push(g in n?n[g]:y.replace(/^@media ?/,"")),d=!0}u+=v,p=!0}++v}if(x&&x.length&&(l={["@media "+x.join(", ")]:l}),!p)continue e}}}(s[u]=s[u]||[]).push([r?"cv":`${c}-${a[c]}`,l,d])}return s},J9={},K9=Yo(),eC=(t,e)=>K9(t,()=>(...n)=>{const r=()=>{for(let s of n){s=typeof s=="object"&&s||{};let a=ri(s);if(!e.rules.global.cache.has(a)){if(e.rules.global.cache.add(a),"@import"in s){let l=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let o of[].concat(s["@import"]))o=o.includes('"')||o.includes("'")?o:`"${o}"`,e.sheet.insertRule(`@import ${o};`,l++);delete s["@import"]}Hi(s,[],[],t,l=>{e.rules.global.apply(l)})}}return""};return t0(r,{toString:r})}),tC=Yo(),nC=(t,e)=>tC(t,()=>n=>{const r=`${Ur(t.prefix)}k-${ri(n)}`,s=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const a=[];Hi(n,[],[],t,o=>a.push(o));const l=`@keyframes ${r}{${a.join("")}}`;e.rules.global.apply(l)}return r};return t0(s,{get name(){return s()},toString:s})}),rC=class{constructor(t,e,n,r){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Ur(this.prefix)+Ur(this.scale)+this.token}toString(){return this.computedValue}},sC=Yo(),iC=(t,e)=>sC(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const s=`.${n=(n=typeof n=="string"?n:"")||`${Ur(t.prefix)}t-${ri(r)}`}`,a={},l=[];for(const c in r){a[c]={};for(const u in r[c]){const d=`--${Ur(t.prefix)}${c}-${u}`,h=M5(String(r[c][u]),t.prefix,c);a[c][u]=new rC(u,h,c,t.prefix),l.push(`${d}:${h}`)}}const o=()=>{if(l.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const c=`${r===t.theme?":root,":""}.${n}{${l.join(";")}}`;e.rules.themed.apply(c)}return n};return{...a,get className(){return o()},selector:s,toString:o}}),aC=Yo(),lC=t=>{let e=!1;const n=aC(t,r=>{e=!0;const s="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",a=typeof r.media=="object"&&r.media||{},l=typeof r.root=="object"?r.root||null:globalThis.document||null,o=typeof r.theme=="object"&&r.theme||{},c={prefix:s,media:a,theme:o,themeMap:typeof r.themeMap=="object"&&r.themeMap||{..._9},utils:typeof r.utils=="object"&&r.utils||{}},u=Y9(l),d={css:H9(c,u),globalCss:eC(c,u),keyframes:nC(c,u),createTheme:iC(c,u),reset(){u.reset(),d.theme.toString()},theme:{},sheet:u,config:c,prefix:s,getCssText:u.toString,toString:u.toString};return String(d.theme=d.createTheme(o)),d});return e||n.reset(),n},Yx=Object.prototype.hasOwnProperty;function Vx(t,e,n){for(n of t.keys())if(Wl(n,e))return n}function Wl(t,e){var n,r,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Wl(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(s=r,s&&typeof s=="object"&&(s=Vx(e,s),!s)||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(s=r[0],s&&typeof s=="object"&&(s=Vx(e,s),!s)||!Wl(r[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Yx.call(t,n)&&++r&&!Yx.call(e,n)||!(n in e)||!Wl(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var oC=/(%?)(%([sdjo]))/g;function cC(t,e){switch(e){case"s":return t;case"d":case"i":return Number(t);case"j":return JSON.stringify(t);case"o":{if(typeof t=="string")return t;const n=JSON.stringify(t);return n==="{}"||n==="[]"||/^\[object .+?\]$/.test(n)?t:n}}}function zp(t,...e){if(e.length===0)return t;let n=0,r=t.replace(oC,(s,a,l,o)=>{const c=e[n],u=cC(c,o);return a?s:(n++,u)});return n<e.length&&(r+=` ${e.slice(n).join(" ")}`),r=r.replace(/%{2,2}/g,"%"),r}var uC=2;function dC(t){if(!t.stack)return;const e=t.stack.split(`
`);e.splice(1,uC),t.stack=e.join(`
`)}var hC=class extends Error{constructor(t,...e){super(t),this.message=t,this.name="Invariant Violation",this.message=zp(t,...e),dC(this)}},D5=(t,e,...n)=>{if(!t)throw new hC(e,...n)};D5.as=(t,e,n,...r)=>{if(!e)throw t.prototype.name!=null?new t(zp(n,r)):t(zp(n,r))};var Lp=function(t,e){return Lp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Lp(t,e)};function Xq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ii=function(){return Ii=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ii.apply(this,arguments)};function fC(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((r=r.apply(t,[])).next())})}function pC(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Uq(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Wx;(function(t){t[t.None=0]="None",t[t.Error=10]="Error",t[t.Warning=20]="Warning",t[t.Info=30]="Info",t[t.Debug=40]="Debug"})(Wx||(Wx={}));var mC=function(t){return"[sandpack-client]: ".concat(t)};function Fh(t,e){return e===void 0&&(e="Value is nullish"),D5(t!=null,mC(e)),t}var gC='"dependencies" was not specified - provide either a package.json or a "dependencies" value',Hx='"entry" was not specified - provide either a package.json with the "main" field or an "entry" value';function xC(t,e,n){return t===void 0&&(t={}),e===void 0&&(e={}),n===void 0&&(n="/index.js"),JSON.stringify({name:"sandpack-project",main:n,dependencies:t,devDependencies:e},null,2)}function OC(t,e,n,r){var s,a,l=ci(t),o=l["/package.json"];if(!o)return Fh(e,gC),Fh(r,Hx),l["/package.json"]={code:xC(e,n,r)},l;if(o){var c=JSON.parse(o.code);Fh(!(!e&&!c.dependencies),Hx),e&&(c.dependencies=Ii(Ii({},(s=c.dependencies)!==null&&s!==void 0?s:{}),e??{})),n&&(c.devDependencies=Ii(Ii({},(a=c.devDependencies)!==null&&a!==void 0?a:{}),n??{})),r&&(c.main=r),l["/package.json"]={code:JSON.stringify(c,null,2)}}return l}function vC(t){var e;if(t.title==="SyntaxError"){var n=t.title,r=t.path,s=t.message,a=t.line,l=t.column;return{title:n,path:r,message:s,line:a,column:l}}var o=bC((e=t.payload)===null||e===void 0?void 0:e.frames);if(!o)return{message:t.message};var c=jC(o),u=yC(o),d=SC(o._originalFileName,t.message,u,c);return{message:d,title:t.title,path:o._originalFileName,line:o._originalLineNumber,column:o._originalColumnNumber}}function bC(t){if(t)return t.find(function(e){return!!e._originalFileName})}function yC(t){return t?" (".concat(t._originalLineNumber,":").concat(t._originalColumnNumber,")"):""}function jC(t){var e=t._originalScriptCode[t._originalScriptCode.length-1],n=e.lineNumber.toString().length,r=2,s=3,a=r+n+s+t._originalColumnNumber;return t._originalScriptCode.reduce(function(l,o){var c=o.highlight?">":" ",u=o.lineNumber.toString().length===n?"".concat(o.lineNumber):" ".concat(o.lineNumber),d=o.highlight?`
`+" ".repeat(a)+"^":"";return l+`
`+c+" "+u+" | "+o.content+d},"")}function SC(t,e,n,r){return"".concat(t,": ").concat(e).concat(n,`
`).concat(r)}var ci=function(t){return typeof t=="string"?t.startsWith("/")?t:"/".concat(t):Array.isArray(t)?t.map(function(e){return e.startsWith("/")?e:"/".concat(e)}):typeof t=="object"&&t!==null?Object.entries(t).reduce(function(e,n){var r=n[0],s=n[1],a=r.startsWith("/")?r:"/".concat(r);return e[a]=s,e},{}):null};function wC(t,e,n){var r;return n===void 0&&(n={}),fC(this,void 0,void 0,function(){var s,a,l;return pC(this,function(o){switch(o.label){case 0:switch(s=(r=e.template)!==null&&r!==void 0?r:"parcel",l=s,l){case"node":return[3,1];case"static":return[3,3]}return[3,5];case 1:return[4,nu(()=>import("./index-Z9qkGGmU.js"),__vite__mapDeps([0,1,2])).then(function(c){return c.SandpackNode})];case 2:return a=o.sent(),[3,7];case 3:return[4,nu(()=>import("./index-585bceb7-C3WRoDI3.js"),__vite__mapDeps([3,2,1])).then(function(c){return c.SandpackStatic})];case 4:return a=o.sent(),[3,7];case 5:return[4,nu(()=>import("./index-DE0iGQ5T.js"),__vite__mapDeps([4,1])).then(function(c){return c.SandpackRuntime})];case 6:a=o.sent(),o.label=7;case 7:return[2,new a(t,e,n)]}})})}class me{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Sa(this,e,n);let s=[];return this.decompose(0,e,s,2),r.length&&r.decompose(0,r.length,s,3),this.decompose(n,this.length,s,1),sr.from(s,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Sa(this,e,n);let r=[];return this.decompose(e,n,r,0),sr.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),s=new Hl(this),a=new Hl(e);for(let l=n,o=n;;){if(s.next(l),a.next(l),l=0,s.lineBreak!=a.lineBreak||s.done!=a.done||s.value!=a.value)return!1;if(o+=s.value.length,s.done||o>=r)return!0}}iter(e=1){return new Hl(this,e)}iterRange(e,n=this.length){return new Z5(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let s=this.line(e).from;r=this.iterRange(s,Math.max(s,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new z5(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?me.empty:e.length<=32?new et(e):sr.from(et.split(e,[]))}}class et extends me{constructor(e,n=kC(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,s){for(let a=0;;a++){let l=this.text[a],o=s+l.length;if((n?r:o)>=e)return new $C(s,o,r,l);s=o+1,r++}}decompose(e,n,r,s){let a=e<=0&&n>=this.length?this:new et(Ix(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(s&1){let l=r.pop(),o=su(a.text,l.text.slice(),0,a.length);if(o.length<=32)r.push(new et(o,l.length+a.length));else{let c=o.length>>1;r.push(new et(o.slice(0,c)),new et(o.slice(c)))}}else r.push(a)}replace(e,n,r){if(!(r instanceof et))return super.replace(e,n,r);[e,n]=Sa(this,e,n);let s=su(this.text,su(r.text,Ix(this.text,0,e)),n),a=this.length+r.length-(n-e);return s.length<=32?new et(s,a):sr.from(et.split(s,[]),a)}sliceString(e,n=this.length,r=`
`){[e,n]=Sa(this,e,n);let s="";for(let a=0,l=0;a<=n&&l<this.text.length;l++){let o=this.text[l],c=a+o.length;a>e&&l&&(s+=r),e<c&&n>a&&(s+=o.slice(Math.max(0,e-a),n-a)),a=c+1}return s}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],s=-1;for(let a of e)r.push(a),s+=a.length+1,r.length==32&&(n.push(new et(r,s)),r=[],s=-1);return s>-1&&n.push(new et(r,s)),n}}class sr extends me{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,s){for(let a=0;;a++){let l=this.children[a],o=s+l.length,c=r+l.lines-1;if((n?c:o)>=e)return l.lineInner(e,n,r,s);s=o+1,r=c+1}}decompose(e,n,r,s){for(let a=0,l=0;l<=n&&a<this.children.length;a++){let o=this.children[a],c=l+o.length;if(e<=c&&n>=l){let u=s&((l<=e?1:0)|(c>=n?2:0));l>=e&&c<=n&&!u?r.push(o):o.decompose(e-l,n-l,r,u)}l=c+1}}replace(e,n,r){if([e,n]=Sa(this,e,n),r.lines<this.lines)for(let s=0,a=0;s<this.children.length;s++){let l=this.children[s],o=a+l.length;if(e>=a&&n<=o){let c=l.replace(e-a,n-a,r),u=this.lines-l.lines+c.lines;if(c.lines<u>>4&&c.lines>u>>6){let d=this.children.slice();return d[s]=c,new sr(d,this.length-(n-e)+r.length)}return super.replace(a,o,c)}a=o+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Sa(this,e,n);let s="";for(let a=0,l=0;a<this.children.length&&l<=n;a++){let o=this.children[a],c=l+o.length;l>e&&a&&(s+=r),e<c&&n>l&&(s+=o.sliceString(e-l,n-l,r)),l=c+1}return s}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof sr))return 0;let r=0,[s,a,l,o]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=n,a+=n){if(s==l||a==o)return r;let c=this.children[s],u=e.children[a];if(c!=u)return r+c.scanIdentical(u,n);r+=c.length+1}}static from(e,n=e.reduce((r,s)=>r+s.length+1,-1)){let r=0;for(let p of e)r+=p.lines;if(r<32){let p=[];for(let x of e)x.flatten(p);return new et(p,n)}let s=Math.max(32,r>>5),a=s<<1,l=s>>1,o=[],c=0,u=-1,d=[];function h(p){let x;if(p.lines>a&&p instanceof sr)for(let v of p.children)h(v);else p.lines>l&&(c>l||!c)?(f(),o.push(p)):p instanceof et&&c&&(x=d[d.length-1])instanceof et&&p.lines+x.lines<=32?(c+=p.lines,u+=p.length+1,d[d.length-1]=new et(x.text.concat(p.text),x.length+1+p.length)):(c+p.lines>s&&f(),c+=p.lines,u+=p.length+1,d.push(p))}function f(){c!=0&&(o.push(d.length==1?d[0]:sr.from(d,u)),u=-1,c=d.length=0)}for(let p of e)h(p);return f(),o.length==1?o[0]:new sr(o,n)}}me.empty=new et([""],0);function kC(t){let e=-1;for(let n of t)e+=n.length+1;return e}function su(t,e,n=0,r=1e9){for(let s=0,a=0,l=!0;a<t.length&&s<=r;a++){let o=t[a],c=s+o.length;c>=n&&(c>r&&(o=o.slice(0,r-s)),s<n&&(o=o.slice(n-s)),l?(e[e.length-1]+=o,l=!1):e.push(o)),s=c+1}return e}function Ix(t,e,n){return su(t,[""],e,n)}class Hl{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof et?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,s=this.nodes[r],a=this.offsets[r],l=a>>1,o=s instanceof et?s.text.length:s.children.length;if(l==(n>0?o:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof et){let c=s.text[l+(n<0?-1:0)];if(this.offsets[r]+=n,c.length>Math.max(0,e))return this.value=e==0?c:n>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=s.children[l+(n<0?-1:0)];e>c.length?(e-=c.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(c),this.offsets.push(n>0?1:(c instanceof et?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Z5{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Hl(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*n,this.value=s.length<=r?s:n<0?s.slice(s.length-r):s.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class z5{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:s}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(me.prototype[Symbol.iterator]=function(){return this.iter()},Hl.prototype[Symbol.iterator]=Z5.prototype[Symbol.iterator]=z5.prototype[Symbol.iterator]=function(){return this});class $C{constructor(e,n,r,s){this.from=e,this.to=n,this.number=r,this.text=s}get length(){return this.to-this.from}}function Sa(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let oa="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<oa.length;t++)oa[t]+=oa[t-1];function NC(t){for(let e=1;e<oa.length;e+=2)if(oa[e]>t)return oa[e-1]<=t;return!1}function Gx(t){return t>=127462&&t<=127487}const Fx=8205;function Xt(t,e,n=!0,r=!0){return(n?L5:CC)(t,e,r)}function L5(t,e,n){if(e==t.length)return e;e&&B5(t.charCodeAt(e))&&X5(t.charCodeAt(e-1))&&e--;let r=pr(t,e);for(e+=wa(r);e<t.length;){let s=pr(t,e);if(r==Fx||s==Fx||n&&NC(s))e+=wa(s),r=s;else if(Gx(s)){let a=0,l=e-2;for(;l>=0&&Gx(pr(t,l));)a++,l-=2;if(a%2==0)break;e+=2}else break}return e}function CC(t,e,n){for(;e>0;){let r=L5(t,e-2,n);if(r<e)return r;e--}return 0}function B5(t){return t>=56320&&t<57344}function X5(t){return t>=55296&&t<56320}function pr(t,e){let n=t.charCodeAt(e);if(!X5(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return B5(r)?(n-55296<<10)+(r-56320)+65536:n}function TC(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function wa(t){return t<65536?1:2}const Bp=/\r\n?|\n/;var At=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(At||(At={}));class mr{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,s=0;n<this.sections.length;){let a=this.sections[n++],l=this.sections[n++];l<0?(e(r,s,a),s+=a):s+=l,r+=a}}iterChangedRanges(e,n=!1){Xp(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],s=this.sections[n++];s<0?e.push(r,s):e.push(s,r)}return new mr(e)}composeDesc(e){return this.empty?e:e.empty?this:U5(this,e)}mapDesc(e,n=!1){return e.empty?this:Up(this,e,n)}mapPos(e,n=-1,r=At.Simple){let s=0,a=0;for(let l=0;l<this.sections.length;){let o=this.sections[l++],c=this.sections[l++],u=s+o;if(c<0){if(u>e)return a+(e-s);a+=o}else{if(r!=At.Simple&&u>=e&&(r==At.TrackDel&&s<e&&u>e||r==At.TrackBefore&&s<e||r==At.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!o)return e==s||n<0?a:a+c;a+=c}s=u}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return a}touchesRange(e,n=e){for(let r=0,s=0;r<this.sections.length&&s<=n;){let a=this.sections[r++],l=this.sections[r++],o=s+a;if(l>=0&&s<=n&&o>=e)return s<e&&o>n?"cover":!0;s=o}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],s=this.sections[n++];e+=(e?" ":"")+r+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new mr(e)}static create(e){return new mr(e)}}class ft extends mr{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Xp(this,(n,r,s,a,l)=>e=e.replace(s,s+(r-n),l),!1),e}mapDesc(e,n=!1){return Up(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let s=0,a=0;s<n.length;s+=2){let l=n[s],o=n[s+1];if(o>=0){n[s]=o,n[s+1]=l;let c=s>>1;for(;r.length<c;)r.push(me.empty);r.push(l?e.slice(a,a+l):me.empty)}a+=l}return new ft(n,r)}compose(e){return this.empty?e:e.empty?this:U5(this,e,!0)}map(e,n=!1){return e.empty?this:Up(this,e,n,!0)}iterChanges(e,n=!1){Xp(this,e,n)}get desc(){return mr.create(this.sections)}filter(e){let n=[],r=[],s=[],a=new yo(this);e:for(let l=0,o=0;;){let c=l==e.length?1e9:e[l++];for(;o<c||o==c&&a.len==0;){if(a.done)break e;let d=Math.min(a.len,c-o);Qt(s,d,-1);let h=a.ins==-1?-1:a.off==0?a.ins:0;Qt(n,d,h),h>0&&gs(r,n,a.text),a.forward(d),o+=d}let u=e[l++];for(;o<u;){if(a.done)break e;let d=Math.min(a.len,u-o);Qt(n,d,-1),Qt(s,d,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(d),o+=d}}return{changes:new ft(n,r),filtered:mr.create(s)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],s=this.sections[n+1];s<0?e.push(r):s==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let s=[],a=[],l=0,o=null;function c(d=!1){if(!d&&!s.length)return;l<n&&Qt(s,n-l,-1);let h=new ft(s,a);o=o?o.compose(h.map(o)):h,s=[],a=[],l=0}function u(d){if(Array.isArray(d))for(let h of d)u(h);else if(d instanceof ft){if(d.length!=n)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${n})`);c(),o=o?o.compose(d.map(o)):d}else{let{from:h,to:f=h,insert:p}=d;if(h>f||h<0||f>n)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${n})`);let x=p?typeof p=="string"?me.of(p.split(r||Bp)):p:me.empty,v=x.length;if(h==f&&v==0)return;h<l&&c(),h>l&&Qt(s,h-l,-1),Qt(s,f-h,v),gs(a,s,x),l=f}}return u(e),c(!o),o}static empty(e){return new ft(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")n.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((l,o)=>o&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)n.push(a[0],0);else{for(;r.length<s;)r.push(me.empty);r[s]=me.of(a.slice(1)),n.push(a[0],r[s].length)}}}return new ft(n,r)}static createSet(e,n){return new ft(e,n)}}function Qt(t,e,n,r=!1){if(e==0&&n<=0)return;let s=t.length-2;s>=0&&n<=0&&n==t[s+1]?t[s]+=e:e==0&&t[s]==0?t[s+1]+=n:r?(t[s]+=e,t[s+1]+=n):t.push(e,n)}function gs(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(me.empty);t.push(n)}}function Xp(t,e,n){let r=t.inserted;for(let s=0,a=0,l=0;l<t.sections.length;){let o=t.sections[l++],c=t.sections[l++];if(c<0)s+=o,a+=o;else{let u=s,d=a,h=me.empty;for(;u+=o,d+=c,c&&r&&(h=h.append(r[l-2>>1])),!(n||l==t.sections.length||t.sections[l+1]<0);)o=t.sections[l++],c=t.sections[l++];e(s,u,a,d,h),s=u,a=d}}}function Up(t,e,n,r=!1){let s=[],a=r?[]:null,l=new yo(t),o=new yo(e);for(let c=-1;;)if(l.ins==-1&&o.ins==-1){let u=Math.min(l.len,o.len);Qt(s,u,-1),l.forward(u),o.forward(u)}else if(o.ins>=0&&(l.ins<0||c==l.i||l.off==0&&(o.len<l.len||o.len==l.len&&!n))){let u=o.len;for(Qt(s,o.ins,-1);u;){let d=Math.min(l.len,u);l.ins>=0&&c<l.i&&l.len<=d&&(Qt(s,0,l.ins),a&&gs(a,s,l.text),c=l.i),l.forward(d),u-=d}o.next()}else if(l.ins>=0){let u=0,d=l.len;for(;d;)if(o.ins==-1){let h=Math.min(d,o.len);u+=h,d-=h,o.forward(h)}else if(o.ins==0&&o.len<d)d-=o.len,o.next();else break;Qt(s,u,c<l.i?l.ins:0),a&&c<l.i&&gs(a,s,l.text),c=l.i,l.forward(l.len-d)}else{if(l.done&&o.done)return a?ft.createSet(s,a):mr.create(s);throw new Error("Mismatched change set lengths")}}function U5(t,e,n=!1){let r=[],s=n?[]:null,a=new yo(t),l=new yo(e);for(let o=!1;;){if(a.done&&l.done)return s?ft.createSet(r,s):mr.create(r);if(a.ins==0)Qt(r,a.len,0,o),a.next();else if(l.len==0&&!l.done)Qt(r,0,l.ins,o),s&&gs(s,r,l.text),l.next();else{if(a.done||l.done)throw new Error("Mismatched change set lengths");{let c=Math.min(a.len2,l.len),u=r.length;if(a.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;Qt(r,c,d,o),s&&d&&gs(s,r,l.text)}else l.ins==-1?(Qt(r,a.off?0:a.len,c,o),s&&gs(s,r,a.textBit(c))):(Qt(r,a.off?0:a.len,l.off?0:l.ins,o),s&&!l.off&&gs(s,r,l.text));o=(a.ins>c||l.ins>=0&&l.len>c)&&(o||r.length>u),a.forward2(c),l.forward(c)}}}}class yo{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?me.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?me.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Gs{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,s;return this.empty?r=s=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),r==this.from&&s==this.to?this:new Gs(r,s,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Z.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Z.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Z.range(e.anchor,e.head)}static create(e,n,r){return new Gs(e,n,r)}}class Z{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Z.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Z([this.main],0)}addRange(e,n=!0){return Z.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Z.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Z(e.ranges.map(n=>Gs.fromJSON(n)),e.main)}static single(e,n=e){return new Z([Z.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,s=0;s<e.length;s++){let a=e[s];if(a.empty?a.from<=r:a.from<r)return Z.normalized(e.slice(),n);r=a.to}return new Z(e,n)}static cursor(e,n=0,r,s){return Gs.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(s??16777215)<<6)}static range(e,n,r,s){let a=(r??16777215)<<6|(s==null?7:Math.min(6,s));return n<e?Gs.create(n,e,48|a):Gs.create(e,n,(n>e?8:0)|a)}static normalized(e,n=0){let r=e[n];e.sort((s,a)=>s.from-a.from),n=e.indexOf(r);for(let s=1;s<e.length;s++){let a=e[s],l=e[s-1];if(a.empty?a.from<=l.to:a.from<l.to){let o=l.from,c=Math.max(a.to,l.to);s<=n&&n--,e.splice(--s,2,a.anchor>a.head?Z.range(c,o):Z.range(o,c))}}return new Z(e,n)}}function q5(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let n0=0;class te{constructor(e,n,r,s,a){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=s,this.id=n0++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new te(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:r0),!!e.static,e.enables)}of(e){return new iu([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new iu(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new iu(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function r0(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class iu{constructor(e,n,r,s){this.dependencies=e,this.facet=n,this.type=r,this.value=s,this.id=n0++}dynamicSlot(e){var n;let r=this.value,s=this.facet.compareInput,a=this.id,l=e[a]>>1,o=this.type==2,c=!1,u=!1,d=[];for(let h of this.dependencies)h=="doc"?c=!0:h=="selection"?u=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||d.push(e[h.id]);return{create(h){return h.values[l]=r(h),1},update(h,f){if(c&&f.docChanged||u&&(f.docChanged||f.selection)||qp(h,d)){let p=r(h);if(o?!Jx(p,h.values[l],s):!s(p,h.values[l]))return h.values[l]=p,1}return 0},reconfigure:(h,f)=>{let p,x=f.config.address[a];if(x!=null){let v=Iu(f,x);if(this.dependencies.every(y=>y instanceof te?f.facet(y)===h.facet(y):y instanceof Un?f.field(y,!1)==h.field(y,!1):!0)||(o?Jx(p=r(h),v,s):s(p=r(h),v)))return h.values[l]=v,0}else p=r(h);return h.values[l]=p,1}}}}function Jx(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function qp(t,e){let n=!1;for(let r of e)Il(t,r)&1&&(n=!0);return n}function RC(t,e,n){let r=n.map(c=>t[c.id]),s=n.map(c=>c.type),a=r.filter(c=>!(c&1)),l=t[e.id]>>1;function o(c){let u=[];for(let d=0;d<r.length;d++){let h=Iu(c,r[d]);if(s[d]==2)for(let f of h)u.push(f);else u.push(h)}return e.combine(u)}return{create(c){for(let u of r)Il(c,u);return c.values[l]=o(c),1},update(c,u){if(!qp(c,a))return 0;let d=o(c);return e.compare(d,c.values[l])?0:(c.values[l]=d,1)},reconfigure(c,u){let d=qp(c,r),h=u.config.facets[e.id],f=u.facet(e);if(h&&!d&&r0(n,h))return c.values[l]=f,0;let p=o(c);return e.compare(p,f)?(c.values[l]=f,0):(c.values[l]=p,1)}}}const Kx=te.define({static:!0});class Un{constructor(e,n,r,s,a){this.id=e,this.createF=n,this.updateF=r,this.compareF=s,this.spec=a,this.provides=void 0}static define(e){let n=new Un(n0++,e.create,e.update,e.compare||((r,s)=>r===s),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Kx).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,s)=>{let a=r.values[n],l=this.updateF(a,s);return this.compareF(a,l)?0:(r.values[n]=l,1)},reconfigure:(r,s)=>s.config.address[this.id]!=null?(r.values[n]=s.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,Kx.of({field:this,create:e})]}get extension(){return this}}const Vs={lowest:4,low:3,default:2,high:1,highest:0};function ll(t){return e=>new Y5(e,t)}const Bd={highest:ll(Vs.highest),high:ll(Vs.high),default:ll(Vs.default),low:ll(Vs.low),lowest:ll(Vs.lowest)};class Y5{constructor(e,n){this.inner=e,this.prec=n}}class Xd{of(e){return new Yp(this,e)}reconfigure(e){return Xd.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Yp{constructor(e,n){this.compartment=e,this.inner=n}}class Hu{constructor(e,n,r,s,a,l){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=s,this.staticValues=a,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let s=[],a=Object.create(null),l=new Map;for(let f of QC(e,n,l))f instanceof Un?s.push(f):(a[f.facet.id]||(a[f.facet.id]=[])).push(f);let o=Object.create(null),c=[],u=[];for(let f of s)o[f.id]=u.length<<1,u.push(p=>f.slot(p));let d=r==null?void 0:r.config.facets;for(let f in a){let p=a[f],x=p[0].facet,v=d&&d[f]||[];if(p.every(y=>y.type==0))if(o[x.id]=c.length<<1|1,r0(v,p))c.push(r.facet(x));else{let y=x.combine(p.map(g=>g.value));c.push(r&&x.compare(y,r.facet(x))?r.facet(x):y)}else{for(let y of p)y.type==0?(o[y.id]=c.length<<1|1,c.push(y.value)):(o[y.id]=u.length<<1,u.push(g=>y.dynamicSlot(g)));o[x.id]=u.length<<1,u.push(y=>RC(y,x,p))}}let h=u.map(f=>f(o));return new Hu(e,l,h,o,c,a)}}function QC(t,e,n){let r=[[],[],[],[],[]],s=new Map;function a(l,o){let c=s.get(l);if(c!=null){if(c<=o)return;let u=r[c].indexOf(l);u>-1&&r[c].splice(u,1),l instanceof Yp&&n.delete(l.compartment)}if(s.set(l,o),Array.isArray(l))for(let u of l)a(u,o);else if(l instanceof Yp){if(n.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(l.compartment)||l.inner;n.set(l.compartment,u),a(u,o)}else if(l instanceof Y5)a(l.inner,l.prec);else if(l instanceof Un)r[o].push(l),l.provides&&a(l.provides,o);else if(l instanceof iu)r[o].push(l),l.facet.extensions&&a(l.facet.extensions,Vs.default);else{let u=l.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(u,o)}}return a(t,Vs.default),r.reduce((l,o)=>l.concat(o))}function Il(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let s=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|s}function Iu(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const V5=te.define(),Vp=te.define({combine:t=>t.some(e=>e),static:!0}),W5=te.define({combine:t=>t.length?t[0]:void 0,static:!0}),H5=te.define(),I5=te.define(),G5=te.define(),F5=te.define({combine:t=>t.length?t[0]:!1});class zn{constructor(e,n){this.type=e,this.value=n}static define(){return new AC}}class AC{of(e){return new zn(this,e)}}class PC{constructor(e){this.map=e}of(e){return new _e(this,e)}}class _e{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new _e(this.type,n)}is(e){return this.type==e}static define(e={}){return new PC(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let s of e){let a=s.map(n);a&&r.push(a)}return r}}_e.reconfigure=_e.define();_e.appendConfig=_e.define();class at{constructor(e,n,r,s,a,l){this.startState=e,this.changes=n,this.selection=r,this.effects=s,this.annotations=a,this.scrollIntoView=l,this._doc=null,this._state=null,r&&q5(r,n.newLength),a.some(o=>o.type==at.time)||(this.annotations=a.concat(at.time.of(Date.now())))}static create(e,n,r,s,a,l){return new at(e,n,r,s,a,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(at.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}at.time=zn.define();at.userEvent=zn.define();at.addToHistory=zn.define();at.remote=zn.define();function _C(t,e){let n=[];for(let r=0,s=0;;){let a,l;if(r<t.length&&(s==e.length||e[s]>=t[r]))a=t[r++],l=t[r++];else if(s<e.length)a=e[s++],l=e[s++];else return n;!n.length||n[n.length-1]<a?n.push(a,l):n[n.length-1]<l&&(n[n.length-1]=l)}}function J5(t,e,n){var r;let s,a,l;return n?(s=e.changes,a=ft.empty(e.changes.length),l=t.changes.compose(e.changes)):(s=e.changes.map(t.changes),a=t.changes.mapDesc(e.changes,!0),l=t.changes.compose(s)),{changes:l,selection:e.selection?e.selection.map(a):(r=t.selection)===null||r===void 0?void 0:r.map(s),effects:_e.mapEffects(t.effects,s).concat(_e.mapEffects(e.effects,a)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Wp(t,e,n){let r=e.selection,s=ca(e.annotations);return e.userEvent&&(s=s.concat(at.userEvent.of(e.userEvent))),{changes:e.changes instanceof ft?e.changes:ft.of(e.changes||[],n,t.facet(W5)),selection:r&&(r instanceof Z?r:Z.single(r.anchor,r.head)),effects:ca(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function K5(t,e,n){let r=Wp(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(n=!1);let l=!!e[a].sequential;r=J5(r,Wp(t,e[a],l?r.changes.newLength:t.doc.length),l)}let s=at.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return MC(n?EC(s):s)}function EC(t){let e=t.startState,n=!0;for(let s of e.facet(H5)){let a=s(t);if(a===!1){n=!1;break}Array.isArray(a)&&(n=n===!0?a:_C(n,a))}if(n!==!0){let s,a;if(n===!1)a=t.changes.invertedDesc,s=ft.empty(e.doc.length);else{let l=t.changes.filter(n);s=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}t=at.create(e,s,t.selection&&t.selection.map(a),_e.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}let r=e.facet(I5);for(let s=r.length-1;s>=0;s--){let a=r[s](t);a instanceof at?t=a:Array.isArray(a)&&a.length==1&&a[0]instanceof at?t=a[0]:t=K5(e,ca(a),!1)}return t}function MC(t){let e=t.startState,n=e.facet(G5),r=t;for(let s=n.length-1;s>=0;s--){let a=n[s](t);a&&Object.keys(a).length&&(r=J5(r,Wp(e,a,t.changes.newLength),!0))}return r==t?t:at.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const DC=[];function ca(t){return t==null?DC:Array.isArray(t)?t:[t]}var vn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(vn||(vn={}));const ZC=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Hp;try{Hp=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function zC(t){if(Hp)return Hp.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||ZC.test(n)))return!0}return!1}function LC(t){return e=>{if(!/\S/.test(e))return vn.Space;if(zC(e))return vn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return vn.Word;return vn.Other}}class be{constructor(e,n,r,s,a,l){this.config=e,this.doc=n,this.selection=r,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=a,l&&(l._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Il(this,o<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Il(this,r),Iu(this,r)}update(...e){return K5(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:s}=n;for(let o of e.effects)o.is(Xd.reconfigure)?(n&&(s=new Map,n.compartments.forEach((c,u)=>s.set(u,c)),n=null),s.set(o.value.compartment,o.value.extension)):o.is(_e.reconfigure)?(n=null,r=o.value):o.is(_e.appendConfig)&&(n=null,r=ca(r).concat(o.value));let a;n?a=e.startState.values.slice():(n=Hu.resolve(r,s,this),a=new be(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(c,u)=>u.reconfigure(c,this),null).values);let l=e.startState.facet(Vp)?e.newSelection:e.newSelection.asSingle();new be(n,e.newDoc,l,a,(o,c)=>c.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Z.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),s=this.changes(r.changes),a=[r.range],l=ca(r.effects);for(let o=1;o<n.ranges.length;o++){let c=e(n.ranges[o]),u=this.changes(c.changes),d=u.map(s);for(let f=0;f<o;f++)a[f]=a[f].map(d);let h=s.mapDesc(u,!0);a.push(c.range.map(h)),s=s.compose(d),l=_e.mapEffects(l,d).concat(_e.mapEffects(ca(c.effects),h))}return{changes:s,selection:Z.create(a,n.mainIndex),effects:l}}changes(e=[]){return e instanceof ft?e:ft.of(e,this.doc.length,this.facet(be.lineSeparator))}toText(e){return me.of(e.split(this.facet(be.lineSeparator)||Bp))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Il(this,n),Iu(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let s=e[r];s instanceof Un&&this.config.address[s.id]!=null&&(n[r]=s.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(r){for(let a in r)if(Object.prototype.hasOwnProperty.call(e,a)){let l=r[a],o=e[a];s.push(l.init(c=>l.spec.fromJSON(o,c)))}}return be.create({doc:e.doc,selection:Z.fromJSON(e.selection),extensions:n.extensions?s.concat([n.extensions]):s})}static create(e={}){let n=Hu.resolve(e.extensions||[],new Map),r=e.doc instanceof me?e.doc:me.of((e.doc||"").split(n.staticFacet(be.lineSeparator)||Bp)),s=e.selection?e.selection instanceof Z?e.selection:Z.single(e.selection.anchor,e.selection.head):Z.single(0);return q5(s,r.length),n.staticFacet(Vp)||(s=s.asSingle()),new be(n,r,s,n.dynamicSlots.map(()=>null),(a,l)=>l.create(a),null)}get tabSize(){return this.facet(be.tabSize)}get lineBreak(){return this.facet(be.lineSeparator)||`
`}get readOnly(){return this.facet(F5)}phrase(e,...n){for(let r of this.facet(be.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,s)=>{if(s=="$")return"$";let a=+(s||1);return!a||a>n.length?r:n[a-1]})),e}languageDataAt(e,n,r=-1){let s=[];for(let a of this.facet(V5))for(let l of a(this,n,r))Object.prototype.hasOwnProperty.call(l,e)&&s.push(l[e]);return s}charCategorizer(e){return LC(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:s}=this.doc.lineAt(e),a=this.charCategorizer(e),l=e-r,o=e-r;for(;l>0;){let c=Xt(n,l,!1);if(a(n.slice(c,l))!=vn.Word)break;l=c}for(;o<s;){let c=Xt(n,o);if(a(n.slice(o,c))!=vn.Word)break;o=c}return l==o?null:Z.range(l+r,o+r)}}be.allowMultipleSelections=Vp;be.tabSize=te.define({combine:t=>t.length?t[0]:4});be.lineSeparator=W5;be.readOnly=F5;be.phrases=te.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(s=>t[s]==e[s])}});be.languageData=V5;be.changeFilter=H5;be.transactionFilter=I5;be.transactionExtender=G5;Xd.reconfigure=_e.define();function Ud(t,e,n={}){let r={};for(let s of t)for(let a of Object.keys(s)){let l=s[a],o=r[a];if(o===void 0)r[a]=l;else if(!(o===l||l===void 0))if(Object.hasOwnProperty.call(n,a))r[a]=n[a](o,l);else throw new Error("Config merge conflict for field "+a)}for(let s in e)r[s]===void 0&&(r[s]=e[s]);return r}class ui{eq(e){return this==e}range(e,n=e){return Ip.create(e,n,this)}}ui.prototype.startSide=ui.prototype.endSide=0;ui.prototype.point=!1;ui.prototype.mapMode=At.TrackDel;let Ip=class eS{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new eS(e,n,r)}};function Gp(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class s0{constructor(e,n,r,s){this.from=e,this.to=n,this.value=r,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,s=0){let a=r?this.to:this.from;for(let l=s,o=a.length;;){if(l==o)return l;let c=l+o>>1,u=a[c]-e||(r?this.value[c].endSide:this.value[c].startSide)-n;if(c==l)return u>=0?l:o;u>=0?o=c:l=c+1}}between(e,n,r,s){for(let a=this.findIndex(n,-1e9,!0),l=this.findIndex(r,1e9,!1,a);a<l;a++)if(s(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,n){let r=[],s=[],a=[],l=-1,o=-1;for(let c=0;c<this.value.length;c++){let u=this.value[c],d=this.from[c]+e,h=this.to[c]+e,f,p;if(d==h){let x=n.mapPos(d,u.startSide,u.mapMode);if(x==null||(f=p=x,u.startSide!=u.endSide&&(p=n.mapPos(d,u.endSide),p<f)))continue}else if(f=n.mapPos(d,u.startSide),p=n.mapPos(h,u.endSide),f>p||f==p&&u.startSide>0&&u.endSide<=0)continue;(p-f||u.endSide-u.startSide)<0||(l<0&&(l=f),u.point&&(o=Math.max(o,p-f)),r.push(u),s.push(f-l),a.push(p-l))}return{mapped:r.length?new s0(s,a,r,o):null,pos:l}}}class ye{constructor(e,n,r,s){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=s}static create(e,n,r,s){return new ye(e,n,r,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:s=0,filterTo:a=this.length}=e,l=e.filter;if(n.length==0&&!l)return this;if(r&&(n=n.slice().sort(Gp)),this.isEmpty)return n.length?ye.of(n):this;let o=new tS(this,null,-1).goto(0),c=0,u=[],d=new ka;for(;o.value||c<n.length;)if(c<n.length&&(o.from-n[c].from||o.startSide-n[c].value.startSide)>=0){let h=n[c++];d.addInner(h.from,h.to,h.value)||u.push(h)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(c==n.length||this.chunkEnd(o.chunkIndex)<n[c].from)&&(!l||s>this.chunkEnd(o.chunkIndex)||a<this.chunkPos[o.chunkIndex])&&d.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!l||s>o.to||a<o.from||l(o.from,o.to,o.value))&&(d.addInner(o.from,o.to,o.value)||u.push(Ip.create(o.from,o.to,o.value))),o.next());return d.finishInner(this.nextLayer.isEmpty&&!u.length?ye.empty:this.nextLayer.update({add:u,filter:l,filterFrom:s,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],s=-1;for(let l=0;l<this.chunk.length;l++){let o=this.chunkPos[l],c=this.chunk[l],u=e.touchesRange(o,o+c.length);if(u===!1)s=Math.max(s,c.maxPoint),n.push(c),r.push(e.mapPos(o));else if(u===!0){let{mapped:d,pos:h}=c.map(o,e);d&&(s=Math.max(s,d.maxPoint),n.push(d),r.push(h))}}let a=this.nextLayer.map(e);return n.length==0?a:new ye(r,n,a||ye.empty,s)}between(e,n,r){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s];if(n>=a&&e<=a+l.length&&l.between(a,e-a,n-a,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return jo.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return jo.from(e).goto(n)}static compare(e,n,r,s,a=-1){let l=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=a),o=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=a),c=eO(l,o,r),u=new ol(l,c,a),d=new ol(o,c,a);r.iterGaps((h,f,p)=>tO(u,h,d,f,p,s)),r.empty&&r.length==0&&tO(u,0,d,0,0,s)}static eq(e,n,r=0,s){s==null&&(s=999999999);let a=e.filter(d=>!d.isEmpty&&n.indexOf(d)<0),l=n.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(a.length!=l.length)return!1;if(!a.length)return!0;let o=eO(a,l),c=new ol(a,o,0).goto(r),u=new ol(l,o,0).goto(r);for(;;){if(c.to!=u.to||!Fp(c.active,u.active)||c.point&&(!u.point||!c.point.eq(u.point)))return!1;if(c.to>s)return!0;c.next(),u.next()}}static spans(e,n,r,s,a=-1){let l=new ol(e,null,a).goto(n),o=n,c=l.openStart;for(;;){let u=Math.min(l.to,r);if(l.point){let d=l.activeForPoint(l.to),h=l.pointFrom<n?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,c);s.point(o,u,l.point,d,h,l.pointRank),c=Math.min(l.openEnd(u),d.length)}else u>o&&(s.span(o,u,l.active,c),c=l.openEnd(u));if(l.to>r)return c+(l.point&&l.to>r?1:0);o=l.to,l.next()}}static of(e,n=!1){let r=new ka;for(let s of e instanceof Ip?[e]:n?BC(e):e)r.add(s.from,s.to,s.value);return r.finish()}static join(e){if(!e.length)return ye.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let s=e[r];s!=ye.empty;s=s.nextLayer)n=new ye(s.chunkPos,s.chunk,n,Math.max(s.maxPoint,n.maxPoint));return n}}ye.empty=new ye([],[],null,-1);function BC(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Gp(e,r)>0)return t.slice().sort(Gp);e=r}return t}ye.empty.nextLayer=ye.empty;class ka{finishChunk(e){this.chunks.push(new s0(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new ka)).add(e,n,r)}addInner(e,n,r){let s=e-this.lastTo||r.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(ye.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=ye.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function eO(t,e,n){let r=new Map;for(let a of t)for(let l=0;l<a.chunk.length;l++)a.chunk[l].maxPoint<=0&&r.set(a.chunk[l],a.chunkPos[l]);let s=new Set;for(let a of e)for(let l=0;l<a.chunk.length;l++){let o=r.get(a.chunk[l]);o!=null&&(n?n.mapPos(o):o)==a.chunkPos[l]&&!(n!=null&&n.touchesRange(o,o+a.chunk[l].length))&&s.add(a.chunk[l])}return s}class tS{constructor(e,n,r,s=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class jo{constructor(e){this.heap=e}static from(e,n=null,r=-1){let s=[];for(let a=0;a<e.length;a++)for(let l=e[a];!l.isEmpty;l=l.nextLayer)l.maxPoint>=r&&s.push(new tS(l,n,r,a));return s.length==1?s[0]:new jo(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)Jh(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)Jh(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Jh(this.heap,0)}}}function Jh(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let s=t[r];if(r+1<t.length&&s.compare(t[r+1])>=0&&(s=t[r+1],r++),n.compare(s)<0)break;t[r]=n,t[e]=s,e=r}}class ol{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=jo.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){bc(this.active,e),bc(this.activeTo,e),bc(this.activeRank,e),this.minActive=nO(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:s,rank:a}=this.cursor;for(;n<this.activeRank.length&&(a-this.activeRank[n]||s-this.activeTo[n])>0;)n++;yc(this.active,n,r),yc(this.activeTo,n,s),yc(this.activeRank,n,a),e&&yc(e,n,this.cursor.from),this.minActive=nO(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),r&&bc(r,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let s=r.length-1;s>=0&&r[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function tO(t,e,n,r,s,a){t.goto(e),n.goto(r);let l=r+s,o=r,c=r-e;for(;;){let u=t.to+c-n.to||t.endSide-n.endSide,d=u<0?t.to+c:n.to,h=Math.min(d,l);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Fp(t.activeForPoint(t.to),n.activeForPoint(n.to))||a.comparePoint(o,h,t.point,n.point):h>o&&!Fp(t.active,n.active)&&a.compareRange(o,h,t.active,n.active),d>l)break;o=d,u<=0&&t.next(),u>=0&&n.next()}}function Fp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function bc(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function yc(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function nO(t,e){let n=-1,r=1e9;for(let s=0;s<e.length;s++)(e[s]-r||t[s].endSide-t[n].endSide)<0&&(n=s,r=e[s]);return n}function Vo(t,e,n=t.length){let r=0;for(let s=0;s<n;)t.charCodeAt(s)==9?(r+=e-r%e,s++):(r++,s=Xt(t,s));return r}function XC(t,e,n,r){for(let s=0,a=0;;){if(a>=e)return s;if(s==t.length)break;a+=t.charCodeAt(s)==9?n-a%n:1,s=Xt(t,s)}return r===!0?-1:t.length}const Jp="ͼ",rO=typeof Symbol>"u"?"__"+Jp:Symbol.for(Jp),Kp=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),sO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Cs{constructor(e,n){this.rules=[];let{finish:r}=n||{};function s(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function a(l,o,c,u){let d=[],h=/^@(\w+)\b/.exec(l[0]),f=h&&h[1]=="keyframes";if(h&&o==null)return c.push(l[0]+";");for(let p in o){let x=o[p];if(/&/.test(p))a(p.split(/,\s*/).map(v=>l.map(y=>v.replace(/&/,y))).reduce((v,y)=>v.concat(y)),x,c);else if(x&&typeof x=="object"){if(!h)throw new RangeError("The value of a property ("+p+") should be a primitive value.");a(s(p),x,d,f)}else x!=null&&d.push(p.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+x+";")}(d.length||f)&&c.push((r&&!h&&!u?l.map(r):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)a(s(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=sO[rO]||1;return sO[rO]=e+1,Jp+e.toString(36)}static mount(e,n,r){let s=e[Kp],a=r&&r.nonce;s?a&&s.setNonce(a):s=new UC(e,a),s.mount(Array.isArray(n)?n:[n],e)}}let iO=new Map;class UC{constructor(e,n){let r=e.ownerDocument||e,s=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let a=iO.get(r);if(a)return e[Kp]=a;this.sheet=new s.CSSStyleSheet,iO.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Kp]=this}mount(e,n){let r=this.sheet,s=0,a=0;for(let l=0;l<e.length;l++){let o=e[l],c=this.modules.indexOf(o);if(c<a&&c>-1&&(this.modules.splice(c,1),a--,c=-1),c==-1){if(this.modules.splice(a++,0,o),r)for(let u=0;u<o.rules.length;u++)r.insertRule(o.rules[u],s++)}else{for(;a<c;)s+=this.modules[a++].rules.length;s+=o.rules.length,a++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let l="";for(let c=0;c<this.modules.length;c++)l+=this.modules[c].getRules()+`
`;this.styleTag.textContent=l;let o=n.head||n;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ts={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},So={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},qC=typeof navigator<"u"&&/Mac/.test(navigator.platform),YC=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var kt=0;kt<10;kt++)Ts[48+kt]=Ts[96+kt]=String(kt);for(var kt=1;kt<=24;kt++)Ts[kt+111]="F"+kt;for(var kt=65;kt<=90;kt++)Ts[kt]=String.fromCharCode(kt+32),So[kt]=String.fromCharCode(kt);for(var Kh in Ts)So.hasOwnProperty(Kh)||(So[Kh]=Ts[Kh]);function VC(t){var e=qC&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||YC&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?So:Ts)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function wo(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function em(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function WC(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function au(t,e){if(!e.anchorNode)return!1;try{return em(t,e.anchorNode)}catch{return!1}}function ko(t){return t.nodeType==3?hi(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Gl(t,e,n,r){return n?aO(t,e,n,r,-1)||aO(t,e,n,r,1):!1}function di(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Gu(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function aO(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:qr(t))){if(t.nodeName=="DIV")return!1;let a=t.parentNode;if(!a||a.nodeType!=1)return!1;e=di(t)+(s<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=s<0?qr(t):0}else return!1}}function qr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function i0(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function HC(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function nS(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function IC(t,e,n,r,s,a,l,o){let c=t.ownerDocument,u=c.defaultView||window;for(let d=t,h=!1;d&&!h;)if(d.nodeType==1){let f,p=d==c.body,x=1,v=1;if(p)f=HC(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(h=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let m=d.getBoundingClientRect();({scaleX:x,scaleY:v}=nS(d,m)),f={left:m.left,right:m.left+d.clientWidth*x,top:m.top,bottom:m.top+d.clientHeight*v}}let y=0,g=0;if(s=="nearest")e.top<f.top?(g=-(f.top-e.top+l),n>0&&e.bottom>f.bottom+g&&(g=e.bottom-f.bottom+g+l)):e.bottom>f.bottom&&(g=e.bottom-f.bottom+l,n<0&&e.top-g<f.top&&(g=-(f.top+g-e.top+l)));else{let m=e.bottom-e.top,O=f.bottom-f.top;g=(s=="center"&&m<=O?e.top+m/2-O/2:s=="start"||s=="center"&&n<0?e.top-l:e.bottom-O+l)-f.top}if(r=="nearest"?e.left<f.left?(y=-(f.left-e.left+a),n>0&&e.right>f.right+y&&(y=e.right-f.right+y+a)):e.right>f.right&&(y=e.right-f.right+a,n<0&&e.left<f.left+y&&(y=-(f.left+y-e.left+a))):y=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==o?e.left-a:e.right-(f.right-f.left)+a)-f.left,y||g)if(p)u.scrollBy(y,g);else{let m=0,O=0;if(g){let b=d.scrollTop;d.scrollTop+=g/v,O=(d.scrollTop-b)*v}if(y){let b=d.scrollLeft;d.scrollLeft+=y/x,m=(d.scrollLeft-b)*x}e={left:e.left-m,top:e.top-O,right:e.right-m,bottom:e.bottom-O},m&&Math.abs(m-y)<1&&(r="nearest"),O&&Math.abs(O-g)<1&&(s="nearest")}if(p)break;d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function GC(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class FC{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?qr(n):0),r,Math.min(e.focusOffset,r?qr(r):0))}set(e,n,r,s){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=s}}let Ai=null;function rS(t){if(t.setActive)return t.setActive();if(Ai)return t.focus(Ai);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Ai==null?{get preventScroll(){return Ai={preventScroll:!0},!0}}:void 0),!Ai){Ai=!1;for(let n=0;n<e.length;){let r=e[n++],s=e[n++],a=e[n++];r.scrollTop!=s&&(r.scrollTop=s),r.scrollLeft!=a&&(r.scrollLeft=a)}}}let lO;function hi(t,e,n=e){let r=lO||(lO=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function ua(t,e,n,r){let s={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=r);let a=new KeyboardEvent("keydown",s);a.synthetic=!0,t.dispatchEvent(a);let l=new KeyboardEvent("keyup",s);return l.synthetic=!0,t.dispatchEvent(l),a.defaultPrevented||l.defaultPrevented}function JC(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function sS(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function KC(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,qr(n));;)if(r){if(n.nodeType!=1)return!1;let s=n.childNodes[r-1];s.contentEditable=="false"?r--:(n=s,r=qr(n))}else{if(n==t)return!0;r=di(n),n=n.parentNode}}function iS(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function aS(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=qr(n)}else if(n.parentNode&&!Gu(n))r=di(n),n=n.parentNode;else return null}}function lS(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Gu(n))r=di(n)+1,n=n.parentNode;else return null}}class Pt{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Pt(e.parentNode,di(e),n)}static after(e,n){return new Pt(e.parentNode,di(e)+1,n)}}const a0=[];class Pe{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,s=null,a;for(let l of this.children){if(l.flags&7){if(!l.dom&&(a=s?s.nextSibling:r.firstChild)){let o=Pe.get(a);(!o||!o.parent&&o.canReuseDOM(l))&&l.reuseDOM(a)}l.sync(e,n),l.flags&=-8}if(a=s?s.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&a!=l.dom&&(n.written=!0),l.dom.parentNode==r)for(;a&&a!=l.dom;)a=oO(a);else r.insertBefore(l.dom,a);s=l.dom}for(a=s?s.nextSibling:r.firstChild,a&&n&&n.node==r&&(n.written=!0);a;)a=oO(a)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let s=qr(e)==0?0:n==0?-1:1;for(;;){let a=e.parentNode;if(a==this.dom)break;s==0&&a.firstChild!=a.lastChild&&(e==a.firstChild?s=-1:s=1),e=a}s<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Pe.get(r);)r=r.nextSibling;if(!r)return this.length;for(let s=0,a=0;;s++){let l=this.children[s];if(l.dom==r)return a;a+=l.length+l.breakAfter}}domBoundsAround(e,n,r=0){let s=-1,a=-1,l=-1,o=-1;for(let c=0,u=r,d=r;c<this.children.length;c++){let h=this.children[c],f=u+h.length;if(u<e&&f>n)return h.domBoundsAround(e,n,u);if(f>=e&&s==-1&&(s=c,a=u),u>n&&h.dom.parentNode==this.dom){l=c,o=d;break}d=f,u=f+h.breakAfter}return{from:a,to:o<0?r+this.length:o,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=a0){this.markDirty();for(let s=e;s<n;s++){let a=this.children[s];a.parent==this&&r.indexOf(a)<0&&a.destroy()}this.children.splice(e,n-e,...r);for(let s=0;s<r.length;s++)r[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new oS(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,s,a,l){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Pe.prototype.breakAfter=0;function oO(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class oS{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function cS(t,e,n,r,s,a,l,o,c){let{children:u}=t,d=u.length?u[e]:null,h=a.length?a[a.length-1]:null,f=h?h.breakAfter:l;if(!(e==r&&d&&!l&&!f&&a.length<2&&d.merge(n,s,a.length?h:null,n==0,o,c))){if(r<u.length){let p=u[r];p&&(s<p.length||p.breakAfter&&(h!=null&&h.breakAfter))?(e==r&&(p=p.split(s),s=0),!f&&h&&p.merge(0,s,h,!0,0,c)?a[a.length-1]=p:((s||p.children.length&&!p.children[0].length)&&p.merge(0,s,null,!1,0,c),a.push(p))):p!=null&&p.breakAfter&&(h?h.breakAfter=1:l=1),r++}for(d&&(d.breakAfter=l,n>0&&(!l&&a.length&&d.merge(n,d.length,a[0],!1,o,0)?d.breakAfter=a.shift().breakAfter:(n<d.length||d.children.length&&d.children[d.children.length-1].length==0)&&d.merge(n,d.length,null,!1,o,0),e++));e<r&&a.length;)if(u[r-1].become(a[a.length-1]))r--,a.pop(),c=a.length?0:o;else if(u[e].become(a[0]))e++,a.shift(),o=a.length?0:c;else break;!a.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,o,c)&&e--,(e<r||a.length)&&t.replaceChildren(e,r,a)}}function uS(t,e,n,r,s,a){let l=t.childCursor(),{i:o,off:c}=l.findPos(n,1),{i:u,off:d}=l.findPos(e,-1),h=e-n;for(let f of r)h+=f.length;t.length+=h,cS(t,u,d,o,c,r,0,s,a)}let Kt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},tm=typeof document<"u"?document:{documentElement:{style:{}}};const nm=/Edge\/(\d+)/.exec(Kt.userAgent),dS=/MSIE \d/.test(Kt.userAgent),rm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Kt.userAgent),qd=!!(dS||rm||nm),cO=!qd&&/gecko\/(\d+)/i.test(Kt.userAgent),ef=!qd&&/Chrome\/(\d+)/.exec(Kt.userAgent),uO="webkitFontSmoothing"in tm.documentElement.style,hS=!qd&&/Apple Computer/.test(Kt.vendor),dO=hS&&(/Mobile\/\w+/.test(Kt.userAgent)||Kt.maxTouchPoints>2);var W={mac:dO||/Mac/.test(Kt.platform),windows:/Win/.test(Kt.platform),linux:/Linux|X11/.test(Kt.platform),ie:qd,ie_version:dS?tm.documentMode||6:rm?+rm[1]:nm?+nm[1]:0,gecko:cO,gecko_version:cO?+(/Firefox\/(\d+)/.exec(Kt.userAgent)||[0,0])[1]:0,chrome:!!ef,chrome_version:ef?+ef[1]:0,ios:dO,android:/Android\b/.test(Kt.userAgent),webkit:uO,safari:hS,webkit_version:uO?+(/\bAppleWebKit\/(\d+)/.exec(Kt.userAgent)||[0,0])[1]:0,tabSize:tm.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const eT=256;class Ln extends Pe{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof Ln)||this.length-(n-e)+r.length>eT||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Ln(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Pt(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return tT(this.dom,e,n)}}class Yr extends Pe{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let s of n)s.setParent(this)}setAttrs(e){if(sS(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,s,a,l){return r&&(!(r instanceof Yr&&r.mark.eq(this.mark))||e&&a<=0||n<this.length&&l<=0)?!1:(uS(this,e,n,r?r.children.slice():[],a-1,l-1),this.markDirty(),!0)}split(e){let n=[],r=0,s=-1,a=0;for(let o of this.children){let c=r+o.length;c>e&&n.push(r<e?o.split(e-r):o),s<0&&r>=e&&(s=a),r=c,a++}let l=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new Yr(this.mark,n,l)}domAtPos(e){return fS(this,e)}coordsAt(e,n){return mS(this,e,n)}}function tT(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let s=e,a=e,l=0;e==0&&n<0||e==r&&n>=0?W.chrome||W.gecko||(e?(s--,l=1):a<r&&(a++,l=-1)):n<0?s--:a<r&&a++;let o=hi(t,s,a).getClientRects();if(!o.length)return null;let c=o[(l?l<0:n>=0)?0:o.length-1];return W.safari&&!l&&c.width==0&&(c=Array.prototype.find.call(o,u=>u.width)||c),l?i0(c,l<0):c||null}class Fs extends Pe{static create(e,n,r){return new Fs(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Fs.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,s,a,l){return r&&(!(r instanceof Fs)||!this.widget.compare(r.widget)||e>0&&a<=0||n<this.length&&l<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Fs&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return me.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,s=this.posAtStart;return r?r.slice(s,s+this.length):me.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Pt.before(this.dom):Pt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let s=this.dom.getClientRects(),a=null;if(!s.length)return null;let l=this.side?this.side<0:e>0;for(let o=l?s.length-1:0;a=s[o],!(e>0?o==0:o==s.length-1||a.top<a.bottom);o+=l?-1:1);return i0(a,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class $a extends Pe{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof $a&&e.side==this.side}split(){return new $a(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Pt.before(this.dom):Pt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return me.empty}get isHidden(){return!0}}Ln.prototype.children=Fs.prototype.children=$a.prototype.children=a0;function fS(t,e){let n=t.dom,{children:r}=t,s=0;for(let a=0;s<r.length;s++){let l=r[s],o=a+l.length;if(!(o==a&&l.getSide()<=0)){if(e>a&&e<o&&l.dom.parentNode==n)return l.domAtPos(e-a);if(e<=a)break;a=o}}for(let a=s;a>0;a--){let l=r[a-1];if(l.dom.parentNode==n)return l.domAtPos(l.length)}for(let a=s;a<r.length;a++){let l=r[a];if(l.dom.parentNode==n)return l.domAtPos(0)}return new Pt(n,0)}function pS(t,e,n){let r,{children:s}=t;n>0&&e instanceof Yr&&s.length&&(r=s[s.length-1])instanceof Yr&&r.mark.eq(e.mark)?pS(r,e.children[0],n-1):(s.push(e),e.setParent(t)),t.length+=e.length}function mS(t,e,n){let r=null,s=-1,a=null,l=-1;function o(u,d){for(let h=0,f=0;h<u.children.length&&f<=d;h++){let p=u.children[h],x=f+p.length;x>=d&&(p.children.length?o(p,d-f):(!a||a.isHidden&&n>0)&&(x>d||f==x&&p.getSide()>0)?(a=p,l=d-f):(f<d||f==x&&p.getSide()<0&&!p.isHidden)&&(r=p,s=d-f)),f=x}}o(t,e);let c=(n<0?r:a)||r||a;return c?c.coordsAt(Math.max(0,c==r?s:l),n):nT(t)}function nT(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=ko(e);return n[n.length-1]||null}function sm(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const hO=Object.create(null);function l0(t,e,n){if(t==e)return!0;t||(t=hO),e||(e=hO);let r=Object.keys(t),s=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=s.length-(n&&s.indexOf(n)>-1?1:0))return!1;for(let a of r)if(a!=n&&(s.indexOf(a)==-1||t[a]!==e[a]))return!1;return!0}function im(t,e,n){let r=!1;if(e)for(let s in e)n&&s in n||(r=!0,s=="style"?t.style.cssText="":t.removeAttribute(s));if(n)for(let s in n)e&&e[s]==n[s]||(r=!0,s=="style"?t.style.cssText=n[s]:t.setAttribute(s,n[s]));return r}function rT(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class dt extends Pe{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,s,a,l){if(r){if(!(r instanceof dt))return!1;this.dom||r.transferDOM(this)}return s&&this.setDeco(r?r.attrs:null),uS(this,e,n,r?r.children.slice():[],a,l),!0}split(e){let n=new dt;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:s}=this.childPos(e);s&&(n.append(this.children[r].split(s),0),this.children[r].merge(s,this.children[r].length,null,!1,0,0),r++);for(let a=r;a<this.children.length;a++)n.append(this.children[a],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){l0(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){pS(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=sm(n,this.attrs||{})),r&&(this.attrs=sm({class:r},this.attrs||{}))}domAtPos(e){return fS(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(sS(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(im(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let s=this.dom.lastChild;for(;s&&Pe.get(s)instanceof Yr;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((r=Pe.get(s))===null||r===void 0?void 0:r.isEditable)==!1&&(!W.ios||!this.children.some(a=>a instanceof Ln))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof Ln)||/[^ -~]/.test(r.text))return null;let s=ko(r.dom);if(s.length!=1)return null;e+=s[0].width,n=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=mS(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:s}=this.parent.view.viewState,a=r.bottom-r.top;if(Math.abs(a-s.lineHeight)<2&&s.textHeight<a){let l=(a-s.textHeight)/2;return{top:r.top+l,bottom:r.bottom-l,left:r.left,right:r.left}}}return r}become(e){return!1}covers(){return!0}static find(e,n){for(let r=0,s=0;r<e.children.length;r++){let a=e.children[r],l=s+a.length;if(l>=n){if(a instanceof dt)return a;if(l>n)break}s=l+a.breakAfter}return null}}class Mr extends Pe{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,s,a,l){return r&&(!(r instanceof Mr)||!this.widget.compare(r.widget)||e>0&&a<=0||n<this.length&&l<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Pt.before(this.dom):Pt.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Mr(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return a0}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):me.empty}domBoundsAround(){return null}become(e){return e instanceof Mr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class Va{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Sn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Sn||(Sn={}));class ue extends ui{constructor(e,n,r,s){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=s}get heightRelevant(){return!1}static mark(e){return new Wo(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Rs(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,s;if(e.isBlockGap)r=-5e8,s=4e8;else{let{start:a,end:l}=gS(e,n);r=(a?n?-3e8:-1:5e8)-1,s=(l?n?2e8:1:-6e8)+1}return new Rs(e,r,s,n,e.widget||null,!0)}static line(e){return new Ho(e)}static set(e,n=!1){return ye.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ue.none=ye.empty;class Wo extends ue{constructor(e){let{start:n,end:r}=gS(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof Wo&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&l0(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Wo.prototype.point=!1;class Ho extends ue{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ho&&this.spec.class==e.spec.class&&l0(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Ho.prototype.mapMode=At.TrackBefore;Ho.prototype.point=!0;class Rs extends ue{constructor(e,n,r,s,a,l){super(n,r,a,e),this.block=s,this.isReplace=l,this.mapMode=s?n<=0?At.TrackBefore:At.TrackAfter:At.TrackDel}get type(){return this.startSide!=this.endSide?Sn.WidgetRange:this.startSide<=0?Sn.WidgetBefore:Sn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Rs&&sT(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Rs.prototype.point=!0;function gS(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function sT(t,e){return t==e||!!(t&&e&&t.compare(e))}function am(t,e,n,r=0){let s=n.length-1;s>=0&&n[s]+r>=t?n[s]=Math.max(n[s],e):n.push(t,e)}class Fl{constructor(e,n,r,s){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Mr&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new dt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(jc(new $a(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Mr)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:l,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(jc(new Ln(this.text.slice(this.textOff,this.textOff+s)),n),r),this.atCursorPos=!0,this.textOff+=s,e-=s,r=0}}span(e,n,r,s){this.buildText(n-e,r,s),this.pos=n,this.openStart<0&&(this.openStart=s)}point(e,n,r,s,a,l){if(this.disallowBlockEffectsFor[l]&&r instanceof Rs){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=n-e;if(r instanceof Rs)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Mr(r.widget||Na.block,o,r));else{let c=Fs.create(r.widget||Na.inline,o,o?0:r.startSide),u=this.atCursorPos&&!c.isEditable&&a<=s.length&&(e<n||r.startSide>0),d=!c.isEditable&&(e<n||a>s.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),u&&(h.append(jc(new $a(1),s),a),a=s.length+Math.max(0,a-s.length)),h.append(jc(c,s),a),this.atCursorPos=d,this.pendingBuffer=d?e<n||a>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=a)}static build(e,n,r,s,a){let l=new Fl(e,n,r,a);return l.openEnd=ye.spans(s,n,r,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function jc(t,e){for(let n of e)t=new Yr(n,[t],t.length);return t}class Na extends Va{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Na.inline=new Na("span");Na.block=new Na("div");var mt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(mt||(mt={}));const fi=mt.LTR,o0=mt.RTL;function xS(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const iT=xS("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),aT=xS("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),lm=Object.create(null),Wn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);lm[e]=n,lm[n]=-e}function OS(t){return t<=247?iT[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?aT[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const lT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class xs{get dir(){return this.level%2?o0:fi}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,s){let a=-1;for(let l=0;l<e.length;l++){let o=e[l];if(o.from<=n&&o.to>=n){if(o.level==r)return l;(a<0||(s!=0?s<0?o.from<n:o.to>n:e[a].level>o.level))&&(a=l)}}if(a<0)throw new RangeError("Index out of range");return a}}function vS(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=e[n];if(r.from!=s.from||r.to!=s.to||r.direction!=s.direction||!vS(r.inner,s.inner))return!1}return!0}const Ae=[];function oT(t,e,n,r,s){for(let a=0;a<=r.length;a++){let l=a?r[a-1].to:e,o=a<r.length?r[a].from:n,c=a?256:s;for(let u=l,d=c,h=c;u<o;u++){let f=OS(t.charCodeAt(u));f==512?f=d:f==8&&h==4&&(f=16),Ae[u]=f==4?2:f,f&7&&(h=f),d=f}for(let u=l,d=c,h=c;u<o;u++){let f=Ae[u];if(f==128)u<o-1&&d==Ae[u+1]&&d&24?f=Ae[u]=d:Ae[u]=256;else if(f==64){let p=u+1;for(;p<o&&Ae[p]==64;)p++;let x=u&&d==8||p<n&&Ae[p]==8?h==1?1:8:256;for(let v=u;v<p;v++)Ae[v]=x;u=p-1}else f==8&&h==1&&(Ae[u]=1);d=f,f&7&&(h=f)}}}function cT(t,e,n,r,s){let a=s==1?2:1;for(let l=0,o=0,c=0;l<=r.length;l++){let u=l?r[l-1].to:e,d=l<r.length?r[l].from:n;for(let h=u,f,p,x;h<d;h++)if(p=lm[f=t.charCodeAt(h)])if(p<0){for(let v=o-3;v>=0;v-=3)if(Wn[v+1]==-p){let y=Wn[v+2],g=y&2?s:y&4?y&1?a:s:0;g&&(Ae[h]=Ae[Wn[v]]=g),o=v;break}}else{if(Wn.length==189)break;Wn[o++]=h,Wn[o++]=f,Wn[o++]=c}else if((x=Ae[h])==2||x==1){let v=x==s;c=v?0:1;for(let y=o-3;y>=0;y-=3){let g=Wn[y+2];if(g&2)break;if(v)Wn[y+2]|=2;else{if(g&4)break;Wn[y+2]|=4}}}}}function uT(t,e,n,r){for(let s=0,a=r;s<=n.length;s++){let l=s?n[s-1].to:t,o=s<n.length?n[s].from:e;for(let c=l;c<o;){let u=Ae[c];if(u==256){let d=c+1;for(;;)if(d==o){if(s==n.length)break;d=n[s++].to,o=s<n.length?n[s].from:e}else if(Ae[d]==256)d++;else break;let h=a==1,f=(d<e?Ae[d]:r)==1,p=h==f?h?1:2:r;for(let x=d,v=s,y=v?n[v-1].to:t;x>c;)x==y&&(x=n[--v].from,y=v?n[v-1].to:t),Ae[--x]=p;c=d}else a=u,c++}}}function om(t,e,n,r,s,a,l){let o=r%2?2:1;if(r%2==s%2)for(let c=e,u=0;c<n;){let d=!0,h=!1;if(u==a.length||c<a[u].from){let v=Ae[c];v!=o&&(d=!1,h=v==16)}let f=!d&&o==1?[]:null,p=d?r:r+1,x=c;e:for(;;)if(u<a.length&&x==a[u].from){if(h)break e;let v=a[u];if(!d)for(let y=v.to,g=u+1;;){if(y==n)break e;if(g<a.length&&a[g].from==y)y=a[g++].to;else{if(Ae[y]==o)break e;break}}if(u++,f)f.push(v);else{v.from>c&&l.push(new xs(c,v.from,p));let y=v.direction==fi!=!(p%2);cm(t,y?r+1:r,s,v.inner,v.from,v.to,l),c=v.to}x=v.to}else{if(x==n||(d?Ae[x]!=o:Ae[x]==o))break;x++}f?om(t,c,x,r+1,s,f,l):c<x&&l.push(new xs(c,x,p)),c=x}else for(let c=n,u=a.length;c>e;){let d=!0,h=!1;if(!u||c>a[u-1].to){let v=Ae[c-1];v!=o&&(d=!1,h=v==16)}let f=!d&&o==1?[]:null,p=d?r:r+1,x=c;e:for(;;)if(u&&x==a[u-1].to){if(h)break e;let v=a[--u];if(!d)for(let y=v.from,g=u;;){if(y==e)break e;if(g&&a[g-1].to==y)y=a[--g].from;else{if(Ae[y-1]==o)break e;break}}if(f)f.push(v);else{v.to<c&&l.push(new xs(v.to,c,p));let y=v.direction==fi!=!(p%2);cm(t,y?r+1:r,s,v.inner,v.from,v.to,l),c=v.from}x=v.from}else{if(x==e||(d?Ae[x-1]!=o:Ae[x-1]==o))break;x--}f?om(t,x,c,r+1,s,f,l):x<c&&l.push(new xs(x,c,p)),c=x}}function cm(t,e,n,r,s,a,l){let o=e%2?2:1;oT(t,s,a,r,o),cT(t,s,a,r,o),uT(s,a,r,o),om(t,s,a,e,n,r,l)}function dT(t,e,n){if(!t)return[new xs(0,0,e==o0?1:0)];if(e==fi&&!n.length&&!lT.test(t))return bS(t.length);if(n.length)for(;t.length>Ae.length;)Ae[Ae.length]=256;let r=[],s=e==fi?0:1;return cm(t,s,s,n,0,t.length,r),r}function bS(t){return[new xs(0,t,0)]}let yS="";function hT(t,e,n,r,s){var a;let l=r.head-t.from,o=xs.find(e,l,(a=r.bidiLevel)!==null&&a!==void 0?a:-1,r.assoc),c=e[o],u=c.side(s,n);if(l==u){let f=o+=s?1:-1;if(f<0||f>=e.length)return null;c=e[o=f],l=c.side(!s,n),u=c.side(s,n)}let d=Xt(t.text,l,c.forward(s,n));(d<c.from||d>c.to)&&(d=u),yS=t.text.slice(Math.min(l,d),Math.max(l,d));let h=o==(s?e.length-1:0)?null:e[o+(s?1:-1)];return h&&d==u&&h.level+(s?0:1)<c.level?Z.cursor(h.side(!s,n)+t.from,h.forward(s,n)?1:-1,h.level):Z.cursor(d+t.from,c.forward(s,n)?-1:1,c.level)}function fT(t,e,n){for(let r=e;r<n;r++){let s=OS(t.charCodeAt(r));if(s==1)return fi;if(s==2||s==4)return o0}return fi}const jS=te.define(),SS=te.define(),wS=te.define(),kS=te.define(),um=te.define(),$S=te.define(),NS=te.define(),CS=te.define({combine:t=>t.some(e=>e)}),pT=te.define({combine:t=>t.some(e=>e)}),TS=te.define();class da{constructor(e,n="nearest",r="nearest",s=5,a=5,l=!1){this.range=e,this.y=n,this.x=r,this.yMargin=s,this.xMargin=a,this.isSnapshot=l}map(e){return e.empty?this:new da(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new da(Z.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Sc=_e.define({map:(t,e)=>t.map(e)}),RS=_e.define();function lr(t,e,n){let r=t.facet(kS);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Yd=te.define({combine:t=>t.length?t[0]:!0});let mT=0;const Sl=te.define();class Nn{constructor(e,n,r,s,a){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=s,this.extension=a(this)}static define(e,n){const{eventHandlers:r,eventObservers:s,provide:a,decorations:l}=n||{};return new Nn(mT++,e,r,s,o=>{let c=[Sl.of(o)];return l&&c.push($o.of(u=>{let d=u.plugin(o);return d?l(d):ue.none})),a&&c.push(a(o)),c})}static fromClass(e,n){return Nn.define(r=>new e(r),n)}}class tf{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(lr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){lr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){lr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const QS=te.define(),c0=te.define(),$o=te.define(),AS=te.define(),u0=te.define(),PS=te.define();function fO(t,e){let n=t.state.facet(PS);if(!n.length)return n;let r=n.map(a=>a instanceof Function?a(t):a),s=[];return ye.spans(r,e.from,e.to,{point(){},span(a,l,o,c){let u=a-e.from,d=l-e.from,h=s;for(let f=o.length-1;f>=0;f--,c--){let p=o[f].spec.bidiIsolate,x;if(p==null&&(p=fT(e.text,u,d)),c>0&&h.length&&(x=h[h.length-1]).to==u&&x.direction==p)x.to=d,h=x.inner;else{let v={from:u,to:d,direction:p,inner:[]};h.push(v),h=v.inner}}}}),s}const _S=te.define();function ES(t){let e=0,n=0,r=0,s=0;for(let a of t.state.facet(_S)){let l=a(t);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(n=Math.max(n,l.right)),l.top!=null&&(r=Math.max(r,l.top)),l.bottom!=null&&(s=Math.max(s,l.bottom)))}return{left:e,right:n,top:r,bottom:s}}const wl=te.define();class wn{constructor(e,n,r,s){this.fromA=e,this.toA=n,this.fromB=r,this.toB=s}join(e){return new wn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let s=e[n-1];if(!(s.fromA>r.toA)){if(s.toA<r.fromA)break;r=r.join(s),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let s=0,a=0,l=0,o=0;;s++){let c=s==e.length?null:e[s],u=l-o,d=c?c.fromB:1e9;for(;a<n.length&&n[a]<d;){let h=n[a],f=n[a+1],p=Math.max(o,h),x=Math.min(d,f);if(p<=x&&new wn(p+u,x+u,p,x).addToSet(r),f>d)break;a+=2}if(!c)return r;new wn(c.fromA,c.toA,c.fromB,c.toB).addToSet(r),l=c.toA,o=c.toB}}}class Fu{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=ft.empty(this.startState.doc.length);for(let a of r)this.changes=this.changes.compose(a.changes);let s=[];this.changes.iterChangedRanges((a,l,o,c)=>s.push(new wn(a,l,o,c))),this.changedRanges=s}static create(e,n,r){return new Fu(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class pO extends Pe{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ue.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new dt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new wn(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:d})=>d<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?s=this.domChanged.newSel.head:!jT(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let a=s>-1?xT(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:d}=this.hasComposition;r=new wn(u,d,e.changes.mapPos(u,-1),e.changes.mapPos(d,1)).addToSet(r.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(W.ie||W.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,o=this.updateDeco(),c=bT(l,o,e.changes);return r=wn.extendWithRanges(r,c),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=W.chrome||W.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||s.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof Mr&&l.widget instanceof mO&&a.push(l.dom);s.updateGaps(a)}updateChildren(e,n,r){let s=r?r.range.addToSet(e.slice()):e,a=this.childCursor(n);for(let l=s.length-1;;l--){let o=l>=0?s[l]:null;if(!o)break;let{fromA:c,toA:u,fromB:d,toB:h}=o,f,p,x,v;if(r&&r.range.fromB<h&&r.range.toB>d){let b=Fl.build(this.view.state.doc,d,r.range.fromB,this.decorations,this.dynamicDecorationMap),w=Fl.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);p=b.breakAtStart,x=b.openStart,v=w.openEnd;let S=this.compositionView(r);w.breakAtStart?S.breakAfter=1:w.content.length&&S.merge(S.length,S.length,w.content[0],!1,w.openStart,0)&&(S.breakAfter=w.content[0].breakAfter,w.content.shift()),b.content.length&&S.merge(0,0,b.content[b.content.length-1],!0,0,b.openEnd)&&b.content.pop(),f=b.content.concat(S).concat(w.content)}else({content:f,breakAtStart:p,openStart:x,openEnd:v}=Fl.build(this.view.state.doc,d,h,this.decorations,this.dynamicDecorationMap));let{i:y,off:g}=a.findPos(u,1),{i:m,off:O}=a.findPos(c,-1);cS(this,m,O,y,g,f,p,x,v)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(RS)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new Ln(e.text.nodeValue);n.flags|=8;for(let{deco:s}of e.marks)n=new Yr(s,[n],n.length);let r=new dt;return r.append(n,0),r}fixCompositionDOM(e){let n=(a,l)=>{l.flags|=8|(l.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(l);let o=Pe.get(a);o&&o!=l&&(o.dom=null),l.setDOM(a)},r=this.childPos(e.range.fromB,1),s=this.children[r.i];n(e.line,s);for(let a=e.marks.length-1;a>=-1;a--)r=s.childPos(r.off,1),s=s.children[r.i],n(a>=0?e.marks[a].node:e.text,s)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,s=r==this.dom,a=!s&&au(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(s||n||a))return;let l=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(o.anchor)),u=o.empty?c:this.moveToLine(this.domAtPos(o.head));if(W.gecko&&o.empty&&!this.hasComposition&&gT(c)){let h=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(h,c.node.childNodes[c.offset]||null)),c=u=new Pt(h,0),l=!0}let d=this.view.observer.selectionRange;(l||!d.focusNode||(!Gl(c.node,c.offset,d.anchorNode,d.anchorOffset)||!Gl(u.node,u.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,o))&&(this.view.observer.ignore(()=>{W.android&&W.chrome&&this.dom.contains(d.focusNode)&&yT(d.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=wo(this.view.root);if(h)if(o.empty){if(W.gecko){let f=OT(c.node,c.offset);if(f&&f!=3){let p=(f==1?aS:lS)(c.node,c.offset);p&&(c=new Pt(p.node,p.offset))}}h.collapse(c.node,c.offset),o.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=o.bidiLevel)}else if(h.extend){h.collapse(c.node,c.offset);try{h.extend(u.node,u.offset)}catch{}}else{let f=document.createRange();o.anchor>o.head&&([c,u]=[u,c]),f.setEnd(u.node,u.offset),f.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(f)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(c,u)),this.impreciseAnchor=c.precise?null:new Pt(d.anchorNode,d.anchorOffset),this.impreciseHead=u.precise?null:new Pt(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Gl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=wo(e.root),{anchorNode:s,anchorOffset:a}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let l=dt.find(this,n.head);if(!l)return;let o=l.posAtStart;if(n.head==o||n.head==o+l.length)return;let c=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!c||!u||c.bottom>u.top)return;let d=this.domAtPos(n.head+n.assoc);r.collapse(d.node,d.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(s,a)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let s=e.offset;!r&&s<n.childNodes.length;s++){let a=Pe.get(n.childNodes[s]);a instanceof dt&&(r=a.domAtPos(0))}for(let s=e.offset-1;!r&&s>=0;s--){let a=Pe.get(n.childNodes[s]);a instanceof dt&&(r=a.domAtPos(a.length))}return r?new Pt(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=Pe.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let s=this.children[n];if(r<s.length||s instanceof dt)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,s=0;for(let a=this.length,l=this.children.length-1;l>=0;l--){let o=this.children[l],c=a-o.breakAfter,u=c-o.length;if(c<e)break;if(u<=e&&(u<e||o.covers(-1))&&(c>e||o.covers(1))&&(!r||o instanceof dt&&!(r instanceof dt&&n>=0)))r=o,s=u;else if(r&&u==e&&c==e&&o instanceof Mr&&Math.abs(n)<2){if(o.deco.startSide<0)break;l&&(r=null)}a=u}return r?r.coordsAt(e-s,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),s=this.children[n];if(!(s instanceof dt))return null;for(;s.children.length;){let{i:o,off:c}=s.childPos(r,1);for(;;o++){if(o==s.children.length)return null;if((s=s.children[o]).length)break}r=c}if(!(s instanceof Ln))return null;let a=Xt(s.text,r);if(a==r)return null;let l=hi(s.dom,r,a).getClientRects();for(let o=0;o<l.length;o++){let c=l[o];if(o==l.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:s}=e,a=this.view.contentDOM.clientWidth,l=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,c=this.view.textDirection==mt.LTR;for(let u=0,d=0;d<this.children.length;d++){let h=this.children[d],f=u+h.length;if(f>s)break;if(u>=r){let p=h.dom.getBoundingClientRect();if(n.push(p.height),l){let x=h.dom.lastChild,v=x?ko(x):[];if(v.length){let y=v[v.length-1],g=c?y.right-p.left:p.right-y.left;g>o&&(o=g,this.minWidth=a,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?mt.RTL:mt.LTR}measureTextSize(){for(let a of this.children)if(a instanceof dt){let l=a.measureTextSize();if(l)return l}let e=document.createElement("div"),n,r,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let a=ko(e.firstChild)[0];n=e.getBoundingClientRect().height,r=a?a.width/27:7,s=a?a.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:s}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new oS(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,s=0;;s++){let a=s==n.viewports.length?null:n.viewports[s],l=a?a.from-1:this.length;if(l>r){let o=(n.lineBlockAt(l).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(ue.replace({widget:new mO(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,l))}if(!a)break;r=a.to+1}return ue.set(e)}updateDeco(){let e=1,n=this.view.state.facet($o).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),r=!1,s=this.view.state.facet(AS).map((a,l)=>{let o=typeof a=="function";return o&&(r=!0),o?a(this.view):a});for(s.length&&(this.dynamicDecorationMap[e++]=r,n.push(ye.join(s))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(TS))try{if(u(this.view,e.range,e))return!0}catch(d){lr(this.view.state,d,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),s;if(!r)return;!n.empty&&(s=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,s.left),top:Math.min(r.top,s.top),right:Math.max(r.right,s.right),bottom:Math.max(r.bottom,s.bottom)});let a=ES(this.view),l={left:r.left-a.left,top:r.top-a.top,right:r.right+a.right,bottom:r.bottom+a.bottom},{offsetWidth:o,offsetHeight:c}=this.view.scrollDOM;IC(this.view.scrollDOM,l,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==mt.LTR)}}function gT(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class mO extends Va{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function MS(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=aS(n.focusNode,n.focusOffset),s=lS(n.focusNode,n.focusOffset),a=r||s;if(s&&r&&s.node!=r.node){let o=Pe.get(s.node);if(!o||o instanceof Ln&&o.text!=s.node.nodeValue)a=s;else if(t.docView.lastCompositionAfterCursor){let c=Pe.get(r.node);!c||c instanceof Ln&&c.text!=r.node.nodeValue||(a=s)}}if(t.docView.lastCompositionAfterCursor=a!=r,!a)return null;let l=e-a.offset;return{from:l,to:l+a.node.nodeValue.length,node:a.node}}function xT(t,e,n){let r=MS(t,n);if(!r)return null;let{node:s,from:a,to:l}=r,o=s.nodeValue;if(/[\n\r]/.test(o)||t.state.doc.sliceString(r.from,r.to)!=o)return null;let c=e.invertedDesc,u=new wn(c.mapPos(a),c.mapPos(l),a,l),d=[];for(let h=s.parentNode;;h=h.parentNode){let f=Pe.get(h);if(f instanceof Yr)d.push({node:h,deco:f.mark});else{if(f instanceof dt||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:u,text:s,marks:d,line:h};if(h!=t.contentDOM)d.push({node:h,deco:new Wo({inclusive:!0,attributes:rT(h),tagName:h.tagName.toLowerCase()})});else return null}}}function OT(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let vT=class{constructor(){this.changes=[]}compareRange(e,n){am(e,n,this.changes)}comparePoint(e,n){am(e,n,this.changes)}};function bT(t,e,n){let r=new vT;return ye.compare(t,e,n,r),r.changes}function yT(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function jT(t,e){let n=!1;return e&&t.iterChangedRanges((r,s)=>{r<e.to&&s>e.from&&(n=!0)}),n}function ST(t,e,n=1){let r=t.charCategorizer(e),s=t.doc.lineAt(e),a=e-s.from;if(s.length==0)return Z.cursor(e);a==0?n=1:a==s.length&&(n=-1);let l=a,o=a;n<0?l=Xt(s.text,a,!1):o=Xt(s.text,a);let c=r(s.text.slice(l,o));for(;l>0;){let u=Xt(s.text,l,!1);if(r(s.text.slice(u,l))!=c)break;l=u}for(;o<s.length;){let u=Xt(s.text,o);if(r(s.text.slice(o,u))!=c)break;o=u}return Z.range(l+s.from,o+s.from)}function wT(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function kT(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function nf(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function gO(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function xO(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function dm(t,e,n){let r,s,a,l,o=!1,c,u,d,h;for(let x=t.firstChild;x;x=x.nextSibling){let v=ko(x);for(let y=0;y<v.length;y++){let g=v[y];s&&nf(s,g)&&(g=gO(xO(g,s.bottom),s.top));let m=wT(e,g),O=kT(n,g);if(m==0&&O==0)return x.nodeType==3?OO(x,e,n):dm(x,e,n);if(!r||l>O||l==O&&a>m){r=x,s=g,a=m,l=O;let b=O?n<g.top?-1:1:m?e<g.left?-1:1:0;o=!b||(b>0?y<v.length-1:y>0)}m==0?n>g.bottom&&(!d||d.bottom<g.bottom)?(c=x,d=g):n<g.top&&(!h||h.top>g.top)&&(u=x,h=g):d&&nf(d,g)?d=xO(d,g.bottom):h&&nf(h,g)&&(h=gO(h,g.top))}}if(d&&d.bottom>=n?(r=c,s=d):h&&h.top<=n&&(r=u,s=h),!r)return{node:t,offset:0};let f=Math.max(s.left,Math.min(s.right,e));if(r.nodeType==3)return OO(r,f,n);if(o&&r.contentEditable!="false")return dm(r,f,n);let p=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(s.left+s.right)/2?1:0);return{node:t,offset:p}}function OO(t,e,n){let r=t.nodeValue.length,s=-1,a=1e9,l=0;for(let o=0;o<r;o++){let c=hi(t,o,o+1).getClientRects();for(let u=0;u<c.length;u++){let d=c[u];if(d.top==d.bottom)continue;l||(l=e-d.left);let h=(d.top>n?d.top-n:n-d.bottom)-1;if(d.left-1<=e&&d.right+1>=e&&h<a){let f=e>=(d.left+d.right)/2,p=f;if((W.chrome||W.gecko)&&hi(t,o).getBoundingClientRect().left==d.right&&(p=!f),h<=0)return{node:t,offset:o+(p?1:0)};s=o+(p?1:0),a=h}}}return{node:t,offset:s>-1?s:l>0?t.nodeValue.length:0}}function DS(t,e,n,r=-1){var s,a;let l=t.contentDOM.getBoundingClientRect(),o=l.top+t.viewState.paddingTop,c,{docHeight:u}=t.viewState,{x:d,y:h}=e,f=h-o;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let b=t.viewState.heightOracle.textHeight/2,w=!1;c=t.elementAtHeight(f),c.type!=Sn.Text;)for(;f=r>0?c.bottom+b:c.top-b,!(f>=0&&f<=u);){if(w)return n?null:0;w=!0,r=-r}h=o+f;let p=c.from;if(p<t.viewport.from)return t.viewport.from==0?0:n?null:vO(t,l,c,d,h);if(p>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:vO(t,l,c,d,h);let x=t.dom.ownerDocument,v=t.root.elementFromPoint?t.root:x,y=v.elementFromPoint(d,h);y&&!t.contentDOM.contains(y)&&(y=null),y||(d=Math.max(l.left+1,Math.min(l.right-1,d)),y=v.elementFromPoint(d,h),y&&!t.contentDOM.contains(y)&&(y=null));let g,m=-1;if(y&&((s=t.docView.nearest(y))===null||s===void 0?void 0:s.isEditable)!=!1){if(x.caretPositionFromPoint){let b=x.caretPositionFromPoint(d,h);b&&({offsetNode:g,offset:m}=b)}else if(x.caretRangeFromPoint){let b=x.caretRangeFromPoint(d,h);b&&({startContainer:g,startOffset:m}=b,(!t.contentDOM.contains(g)||W.safari&&$T(g,m,d)||W.chrome&&NT(g,m,d))&&(g=void 0))}}if(!g||!t.docView.dom.contains(g)){let b=dt.find(t.docView,p);if(!b)return f>c.top+c.height/2?c.to:c.from;({node:g,offset:m}=dm(b.dom,d,h))}let O=t.docView.nearest(g);if(!O)return null;if(O.isWidget&&((a=O.dom)===null||a===void 0?void 0:a.nodeType)==1){let b=O.dom.getBoundingClientRect();return e.y<b.top||e.y<=b.bottom&&e.x<=(b.left+b.right)/2?O.posAtStart:O.posAtEnd}else return O.localPosFromDOM(g,m)+O.posAtStart}function vO(t,e,n,r,s){let a=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let o=t.viewState.heightOracle.textHeight,c=Math.floor((s-n.top-(t.defaultLineHeight-o)*.5)/o);a+=c*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(n.from,n.to);return n.from+XC(l,a,t.state.tabSize)}function $T(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let s=t.nextSibling;s;s=s.nextSibling)if(s.nodeType!=1||s.nodeName!="BR")return!1;return hi(t,r-1,r).getBoundingClientRect().left>n}function NT(t,e,n){if(e!=0)return!1;for(let s=t;;){let a=s.parentNode;if(!a||a.nodeType!=1||a.firstChild!=s)return!1;if(a.classList.contains("cm-line"))break;s=a}let r=t.nodeType==1?t.getBoundingClientRect():hi(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function CT(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==Sn.Text))return r}return n}function TT(t,e,n,r){let s=CT(t,e.head),a=!r||s.type!=Sn.Text||!(t.lineWrapping||s.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(a){let l=t.dom.getBoundingClientRect(),o=t.textDirectionAt(s.from),c=t.posAtCoords({x:n==(o==mt.LTR)?l.right-1:l.left+1,y:(a.top+a.bottom)/2});if(c!=null)return Z.cursor(c,n?-1:1)}return Z.cursor(n?s.to:s.from,n?-1:1)}function bO(t,e,n,r){let s=t.state.doc.lineAt(e.head),a=t.bidiSpans(s),l=t.textDirectionAt(s.from);for(let o=e,c=null;;){let u=hT(s,a,l,o,n),d=yS;if(!u){if(s.number==(n?t.state.doc.lines:1))return o;d=`
`,s=t.state.doc.line(s.number+(n?1:-1)),a=t.bidiSpans(s),u=t.visualLineSide(s,!n)}if(c){if(!c(d))return o}else{if(!r)return u;c=r(d)}o=u}}function RT(t,e,n){let r=t.state.charCategorizer(e),s=r(n);return a=>{let l=r(a);return s==vn.Space&&(s=l),s==l}}function QT(t,e,n,r){let s=e.head,a=n?1:-1;if(s==(n?t.state.doc.length:0))return Z.cursor(s,e.assoc);let l=e.goalColumn,o,c=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(s,e.assoc||-1),d=t.documentTop;if(u)l==null&&(l=u.left-c.left),o=a<0?u.top:u.bottom;else{let p=t.viewState.lineBlockAt(s);l==null&&(l=Math.min(c.right-c.left,t.defaultCharacterWidth*(s-p.from))),o=(a<0?p.top:p.bottom)+d}let h=c.left+l,f=r??t.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let x=o+(f+p)*a,v=DS(t,{x:h,y:x},!1,a);if(x<c.top||x>c.bottom||(a<0?v<s:v>s)){let y=t.docView.coordsForChar(v),g=!y||x<y.top?-1:1;return Z.cursor(v,g,void 0,l)}}}function lu(t,e,n){for(;;){let r=0;for(let s of t)s.between(e-1,e+1,(a,l,o)=>{if(e>a&&e<l){let c=r||n||(e-a<l-e?-1:1);e=c<0?a:l,r=c}});if(!r)return e}}function rf(t,e,n){let r=lu(t.state.facet(u0).map(s=>s(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Z.cursor(r,r<n.from?1:-1)}class AT{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,W.safari&&e.contentDOM.addEventListener("input",()=>null),W.gecko&&HT(e.contentDOM.ownerDocument)}handleEvent(e){!LT(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let r=this.handlers[e];if(r){for(let s of r.observers)s(this.view,n);for(let s of r.handlers){if(n.defaultPrevented)break;if(s(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=PT(e),r=this.handlers,s=this.view.contentDOM;for(let a in n)if(a!="scroll"){let l=!n[a].handlers.length,o=r[a];o&&l!=!o.handlers.length&&(s.removeEventListener(a,this.handleEvent),o=null),o||s.addEventListener(a,this.handleEvent,{passive:l})}for(let a in r)a!="scroll"&&!n[a]&&s.removeEventListener(a,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&zS.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),W.android&&W.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return W.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=ZS.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||_T.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ua(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:W.safari&&!W.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function yO(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(s){lr(n.state,s)}}}function PT(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let s=r.spec;if(s&&s.domEventHandlers)for(let a in s.domEventHandlers){let l=s.domEventHandlers[a];l&&n(a).handlers.push(yO(r.value,l))}if(s&&s.domEventObservers)for(let a in s.domEventObservers){let l=s.domEventObservers[a];l&&n(a).observers.push(yO(r.value,l))}}for(let r in Bn)n(r).handlers.push(Bn[r]);for(let r in Cn)n(r).observers.push(Cn[r]);return e}const ZS=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],_T="dthko",zS=[16,17,18,20,91,92,224,225],wc=6;function kc(t){return Math.max(0,t)*.7+8}function ET(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class MT{constructor(e,n,r,s){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=GC(e.contentDOM),this.atoms=e.state.facet(u0).map(l=>l(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(be.allowMultipleSelections)&&DT(e,n),this.dragging=zT(e,n)&&US(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&ET(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,s=0,a=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},l=ES(this.view);e.clientX-l.left<=a.left+wc?r=-kc(a.left-e.clientX):e.clientX+l.right>=a.right-wc&&(r=kc(e.clientX-a.right)),e.clientY-l.top<=a.top+wc?s=-kc(a.top-e.clientY):e.clientY+l.bottom>=a.bottom-wc&&(s=kc(e.clientY-a.bottom)),this.setScrollSpeed(r,s)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let s=e.ranges[r],a=null;if(s.empty){let l=lu(this.atoms,s.from,0);l!=s.from&&(a=Z.cursor(l,-1))}else{let l=lu(this.atoms,s.from,-1),o=lu(this.atoms,s.to,1);(l!=s.from||o!=s.to)&&(a=Z.range(s.from==s.anchor?l:o,s.from==s.head?l:o))}a&&(n||(n=e.ranges.slice()),n[r]=a)}return n?Z.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function DT(t,e){let n=t.state.facet(jS);return n.length?n[0](e):W.mac?e.metaKey:e.ctrlKey}function ZT(t,e){let n=t.state.facet(SS);return n.length?n[0](e):W.mac?!e.altKey:!e.ctrlKey}function zT(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=wo(t.root);if(!r||r.rangeCount==0)return!0;let s=r.getRangeAt(0).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function LT(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Pe.get(n))&&r.ignoreEvent(e))return!1;return!0}const Bn=Object.create(null),Cn=Object.create(null),LS=W.ie&&W.ie_version<15||W.ios&&W.webkit_version<604;function BT(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),BS(t,n.value)},50)}function BS(t,e){let{state:n}=t,r,s=1,a=n.toText(e),l=a.lines==n.selection.ranges.length;if(hm!=null&&n.selection.ranges.every(c=>c.empty)&&hm==a.toString()){let c=-1;r=n.changeByRange(u=>{let d=n.doc.lineAt(u.from);if(d.from==c)return{range:u};c=d.from;let h=n.toText((l?a.line(s++).text:e)+n.lineBreak);return{changes:{from:d.from,insert:h},range:Z.cursor(u.from+h.length)}})}else l?r=n.changeByRange(c=>{let u=a.line(s++);return{changes:{from:c.from,to:c.to,insert:u.text},range:Z.cursor(c.from+u.length)}}):r=n.replaceSelection(a);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Cn.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Bn.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Cn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Cn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Bn.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(wS))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=qT(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new MT(t,e,n,r)),r&&t.observer.ignore(()=>{rS(t.contentDOM);let a=t.root.activeElement;a&&!a.contains(t.contentDOM)&&a.blur()});let s=t.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}return!1};function jO(t,e,n,r){if(r==1)return Z.cursor(e,n);if(r==2)return ST(t.state,e,n);{let s=dt.find(t.docView,e),a=t.state.doc.lineAt(s?s.posAtEnd:e),l=s?s.posAtStart:a.from,o=s?s.posAtEnd:a.to;return o<t.state.doc.length&&o==a.to&&o++,Z.range(l,o)}}let XS=(t,e)=>t>=e.top&&t<=e.bottom,SO=(t,e,n)=>XS(e,n)&&t>=n.left&&t<=n.right;function XT(t,e,n,r){let s=dt.find(t.docView,e);if(!s)return 1;let a=e-s.posAtStart;if(a==0)return 1;if(a==s.length)return-1;let l=s.coordsAt(a,-1);if(l&&SO(n,r,l))return-1;let o=s.coordsAt(a,1);return o&&SO(n,r,o)?1:l&&XS(r,l)?-1:1}function wO(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:XT(t,n,e.clientX,e.clientY)}}const UT=W.ie&&W.ie_version<=11;let kO=null,$O=0,NO=0;function US(t){if(!UT)return t.detail;let e=kO,n=NO;return kO=t,NO=Date.now(),$O=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?($O+1)%3:1}function qT(t,e){let n=wO(t,e),r=US(e),s=t.state.selection;return{update(a){a.docChanged&&(n.pos=a.changes.mapPos(n.pos),s=s.map(a.changes))},get(a,l,o){let c=wO(t,a),u,d=jO(t,c.pos,c.bias,r);if(n.pos!=c.pos&&!l){let h=jO(t,n.pos,n.bias,r),f=Math.min(h.from,d.from),p=Math.max(h.to,d.to);d=f<d.from?Z.range(f,p):Z.range(p,f)}return l?s.replaceRange(s.main.extend(d.from,d.to)):o&&r==1&&s.ranges.length>1&&(u=YT(s,c.pos))?u:o?s.addRange(d):Z.create([d])}}}function YT(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:s}=t.ranges[n];if(r<=e&&s>=e)return Z.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Bn.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let s=t.docView.nearest(e.target);if(s&&s.isWidget){let a=s.posAtStart,l=a+s.length;(a>=n.to||l<=n.from)&&(n=Z.range(a,l))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1};Bn.dragend=t=>(t.inputState.draggedContent=null,!1);function CO(t,e,n,r){if(!n)return;let s=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=t.inputState,l=r&&a&&ZT(t,e)?{from:a.from,to:a.to}:null,o={from:s,insert:n},c=t.state.changes(l?[l,o]:o);t.focus(),t.dispatch({changes:c,selection:{anchor:c.mapPos(s,-1),head:c.mapPos(s,1)},userEvent:l?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Bn.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),s=0,a=()=>{++s==n.length&&CO(t,e,r.filter(l=>l!=null).join(t.state.lineBreak),!1)};for(let l=0;l<n.length;l++){let o=new FileReader;o.onerror=a,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[l]=o.result),a()},o.readAsText(n[l])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return CO(t,e,r,!0),!0}return!1};Bn.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=LS?null:e.clipboardData;return n?(BS(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(BT(t),!1)};function VT(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function WT(t){let e=[],n=[],r=!1;for(let s of t.selection.ranges)s.empty||(e.push(t.sliceDoc(s.from,s.to)),n.push(s));if(!e.length){let s=-1;for(let{from:a}of t.selection.ranges){let l=t.doc.lineAt(a);l.number>s&&(e.push(l.text),n.push({from:l.from,to:Math.min(t.doc.length,l.to+1)})),s=l.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let hm=null;Bn.copy=Bn.cut=(t,e)=>{let{text:n,ranges:r,linewise:s}=WT(t.state);if(!n&&!s)return!1;hm=s?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let a=LS?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",n),!0):(VT(t,n),!1)};const qS=zn.define();function YS(t,e){let n=[];for(let r of t.facet(NS)){let s=r(t,e);s&&n.push(s)}return n?t.update({effects:n,annotations:qS.of(!0)}):null}function VS(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=YS(t.state,e);n?t.dispatch(n):t.update([])}},10)}Cn.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),VS(t)};Cn.blur=t=>{t.observer.clearSelectionRange(),VS(t)};Cn.compositionstart=Cn.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Cn.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,W.chrome&&W.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Cn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Bn.beforeinput=(t,e)=>{var n;let r;if(W.chrome&&W.android&&(r=ZS.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let s=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return W.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),W.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Cn.compositionend(t,e),20),!1};const TO=new Set;function HT(t){TO.has(t)||(TO.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const RO=["pre-wrap","normal","pre-line","break-spaces"];class IT{constructor(e){this.lineWrapping=e,this.doc=me.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return RO.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let s=e[r];s<0?r++:this.heightSamples[Math.floor(s*10)]||(n=!0,this.heightSamples[Math.floor(s*10)]=!0)}return n}refresh(e,n,r,s,a,l){let o=RO.indexOf(e)>-1,c=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=n,this.charWidth=r,this.textHeight=s,this.lineLength=a,c){this.heightSamples={};for(let u=0;u<l.length;u++){let d=l[u];d<0?u++:this.heightSamples[Math.floor(d*10)]=!0}}return c}}class GT{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class ir{constructor(e,n,r,s,a){this.from=e,this.length=n,this.top=r,this.height=s,this._content=a}get type(){return typeof this._content=="number"?Sn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Rs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ir(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Be=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Be||(Be={}));const ou=.001;class Yt{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>ou&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return Yt.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,s){let a=this,l=r.doc;for(let o=s.length-1;o>=0;o--){let{fromA:c,toA:u,fromB:d,toB:h}=s[o],f=a.lineAt(c,Be.ByPosNoHeight,r.setDoc(n),0,0),p=f.to>=u?f:a.lineAt(u,Be.ByPosNoHeight,r,0,0);for(h+=p.to-u,u=p.to;o>0&&f.from<=s[o-1].toA;)c=s[o-1].fromA,d=s[o-1].fromB,o--,c<f.from&&(f=a.lineAt(c,Be.ByPosNoHeight,r,0,0));d+=f.from-c,c=f.from;let x=d0.build(r.setDoc(l),e,d,h);a=a.replace(c,u,x)}return a.updateHeight(r,0)}static empty(){return new ln(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,s=0,a=0;for(;;)if(n==r)if(s>a*2){let o=e[n-1];o.break?e.splice(--n,1,o.left,null,o.right):e.splice(--n,1,o.left,o.right),r+=1+o.break,s-=o.size}else if(a>s*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,a-=o.size}else break;else if(s<a){let o=e[n++];o&&(s+=o.size)}else{let o=e[--r];o&&(a+=o.size)}let l=0;return e[n-1]==null?(l=1,n--):e[n]==null&&(l=1,r++),new FT(Yt.of(e.slice(0,n)),l,Yt.of(e.slice(r)))}}Yt.prototype.size=1;class WS extends Yt{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,s){return new ir(s,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,s,a){return this.blockAt(0,r,s,a)}forEachLine(e,n,r,s,a,l){e<=a+this.length&&n>=a&&l(this.blockAt(0,r,s,a))}updateHeight(e,n=0,r=!1,s){return s&&s.from<=n&&s.more&&this.setHeight(e,s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ln extends WS{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,s){return new ir(s,this.length,r,this.height,this.breaks)}replace(e,n,r){let s=r[0];return r.length==1&&(s instanceof ln||s instanceof St&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof St?s=new ln(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):Yt.of(r)}updateHeight(e,n=0,r=!1,s){return s&&s.from<=n&&s.more?this.setHeight(e,s.heights[s.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class St extends Yt{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,s=e.doc.lineAt(n+this.length).number,a=s-r+1,l,o=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*a);l=c/a,this.length>a+1&&(o=(this.height-c)/(this.length-a-1))}else l=this.height/a;return{firstLine:r,lastLine:s,perLine:l,perChar:o}}blockAt(e,n,r,s){let{firstLine:a,lastLine:l,perLine:o,perChar:c}=this.heightMetrics(n,s);if(n.lineWrapping){let u=s+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),d=n.doc.lineAt(u),h=o+d.length*c,f=Math.max(r,e-h/2);return new ir(d.from,d.length,f,h,0)}else{let u=Math.max(0,Math.min(l-a,Math.floor((e-r)/o))),{from:d,length:h}=n.doc.line(a+u);return new ir(d,h,r+o*u,o,0)}}lineAt(e,n,r,s,a){if(n==Be.ByHeight)return this.blockAt(e,r,s,a);if(n==Be.ByPosNoHeight){let{from:p,to:x}=r.doc.lineAt(e);return new ir(p,x-p,0,0,0)}let{firstLine:l,perLine:o,perChar:c}=this.heightMetrics(r,a),u=r.doc.lineAt(e),d=o+u.length*c,h=u.number-l,f=s+o*h+c*(u.from-a-h);return new ir(u.from,u.length,Math.max(s,Math.min(f,s+this.height-d)),d,0)}forEachLine(e,n,r,s,a,l){e=Math.max(e,a),n=Math.min(n,a+this.length);let{firstLine:o,perLine:c,perChar:u}=this.heightMetrics(r,a);for(let d=e,h=s;d<=n;){let f=r.doc.lineAt(d);if(d==e){let x=f.number-o;h+=c*x+u*(e-a-x)}let p=c+u*f.length;l(new ir(f.from,f.length,h,p,0)),h+=p,d=f.to+1}}replace(e,n,r){let s=this.length-n;if(s>0){let a=r[r.length-1];a instanceof St?r[r.length-1]=new St(a.length+s):r.push(null,new St(s-1))}if(e>0){let a=r[0];a instanceof St?r[0]=new St(e+a.length):r.unshift(new St(e-1),null)}return Yt.of(r)}decomposeLeft(e,n){n.push(new St(e-1),null)}decomposeRight(e,n){n.push(null,new St(this.length-e-1))}updateHeight(e,n=0,r=!1,s){let a=n+this.length;if(s&&s.from<=n+this.length&&s.more){let l=[],o=Math.max(n,s.from),c=-1;for(s.from>n&&l.push(new St(s.from-n-1).updateHeight(e,n));o<=a&&s.more;){let d=e.doc.lineAt(o).length;l.length&&l.push(null);let h=s.heights[s.index++];c==-1?c=h:Math.abs(h-c)>=ou&&(c=-2);let f=new ln(d,h);f.outdated=!1,l.push(f),o+=d+1}o<=a&&l.push(null,new St(a-o).updateHeight(e,o));let u=Yt.of(l);return(c<0||Math.abs(u.height-this.height)>=ou||Math.abs(c-this.heightMetrics(e,n).perLine)>=ou)&&(e.heightChanged=!0),u}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class FT extends Yt{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,s){let a=r+this.left.height;return e<a?this.left.blockAt(e,n,r,s):this.right.blockAt(e,n,a,s+this.left.length+this.break)}lineAt(e,n,r,s,a){let l=s+this.left.height,o=a+this.left.length+this.break,c=n==Be.ByHeight?e<l:e<o,u=c?this.left.lineAt(e,n,r,s,a):this.right.lineAt(e,n,r,l,o);if(this.break||(c?u.to<o:u.from>o))return u;let d=n==Be.ByPosNoHeight?Be.ByPosNoHeight:Be.ByPos;return c?u.join(this.right.lineAt(o,d,r,l,o)):this.left.lineAt(o,d,r,s,a).join(u)}forEachLine(e,n,r,s,a,l){let o=s+this.left.height,c=a+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,n,r,s,a,l),n>=c&&this.right.forEachLine(e,n,r,o,c,l);else{let u=this.lineAt(c,Be.ByPos,r,s,a);e<u.from&&this.left.forEachLine(e,u.from-1,r,s,a,l),u.to>=e&&u.from<=n&&l(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,o,c,l)}}replace(e,n,r){let s=this.left.length+this.break;if(n<s)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,n-s,r));let a=[];e>0&&this.decomposeLeft(e,a);let l=a.length;for(let o of r)a.push(o);if(e>0&&QO(a,l-1),n<this.length){let o=a.length;this.decomposeRight(n,a),QO(a,o)}return Yt.of(a)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,s=r+this.break;if(e>=s)return this.right.decomposeRight(e-s,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<s&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Yt.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,s){let{left:a,right:l}=this,o=n+a.length+this.break,c=null;return s&&s.from<=n+a.length&&s.more?c=a=a.updateHeight(e,n,r,s):a.updateHeight(e,n,r),s&&s.from<=o+l.length&&s.more?c=l=l.updateHeight(e,o,r,s):l.updateHeight(e,o,r),c?this.balanced(a,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function QO(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof St&&(r=t[e+1])instanceof St&&t.splice(e-1,3,new St(n.length+1+r.length))}const JT=5;class d0{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof ln?s.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ln(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let s=r.widget?r.widget.estimatedHeight:0,a=r.widget?r.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let l=n-e;r.block?this.addBlock(new WS(l,s,r)):(l||a||s>=JT)&&this.addLineDeco(s,a,l)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ln(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new St(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ln)return e;let n=new ln(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let s=this.ensureLine();s.length+=r,s.collapsed+=r,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof ln)&&!this.isCovered?this.nodes.push(new ln(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let s of this.nodes)s instanceof ln&&s.updateHeight(this.oracle,r),r+=s?s.length:1;return this.nodes}static build(e,n,r,s){let a=new d0(r,e);return ye.spans(n,r,s,a,0),a.finish(r)}}function KT(t,e,n){let r=new eR;return ye.compare(t,e,n,r,0),r.changes}class eR{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,s){(e<n||r&&r.heightRelevant||s&&s.heightRelevant)&&am(e,n,this.changes,5)}}function tR(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,s=r.defaultView||window,a=Math.max(0,n.left),l=Math.min(s.innerWidth,n.right),o=Math.max(0,n.top),c=Math.min(s.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let d=u,h=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&h.overflow!="visible"){let f=d.getBoundingClientRect();a=Math.max(a,f.left),l=Math.min(l,f.right),o=Math.max(o,f.top),c=u==t.parentNode?f.bottom:Math.min(c,f.bottom)}u=h.position=="absolute"||h.position=="fixed"?d.offsetParent:d.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:a-n.left,right:Math.max(a,l)-n.left,top:o-(n.top+e),bottom:Math.max(o,c)-(n.top+e)}}function nR(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class sf{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],a=n[r];if(s.from!=a.from||s.to!=a.to||s.size!=a.size)return!1}return!0}draw(e,n){return ue.replace({widget:new rR(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class rR extends Va{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class AO{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=PO,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=mt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(c0).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new IT(n),this.stateDeco=e.facet($o).filter(r=>typeof r!="function"),this.heightMap=Yt.empty().applyChanges(this.stateDeco,me.empty,this.heightOracle.setDoc(e.doc),[new wn(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ue.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let s=r?n.head:n.anchor;if(!e.some(({from:a,to:l})=>s>=a&&s<=l)){let{from:a,to:l}=this.lineBlockAt(s);e.push(new $c(a,l))}}return this.viewports=e.sort((r,s)=>r.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?PO:new h0(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(kl(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet($o).filter(d=>typeof d!="function");let s=e.changedRanges,a=wn.extendWithRanges(s,KT(r,this.stateDeco,e?e.changes:ft.empty(this.state.doc.length))),l=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),this.heightMap.height!=l&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<c.from||n.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,n));let u=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(pT)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),s=this.heightOracle,a=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?mt.RTL:mt.LTR;let l=this.heightOracle.mustRefreshForWrapping(a),o=n.getBoundingClientRect(),c=l||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let u=0,d=0;if(o.width&&o.height){let{scaleX:b,scaleY:w}=nS(n,o);(b>.005&&Math.abs(this.scaleX-b)>.005||w>.005&&Math.abs(this.scaleY-w)>.005)&&(this.scaleX=b,this.scaleY=w,u|=8,l=c=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=iS(e.scrollDOM);let x=(this.printing?nR:tR)(n,this.paddingTop),v=x.top-this.pixelViewport.top,y=x.bottom-this.pixelViewport.bottom;this.pixelViewport=x;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(c=!0)),!this.inView&&!this.scrollTarget)return 0;let m=o.width;if((this.contentDOMWidth!=m||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),c){let b=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(b)&&(l=!0),l||s.lineWrapping&&Math.abs(m-this.contentDOMWidth)>s.charWidth){let{lineHeight:w,charWidth:S,textHeight:k}=e.docView.measureTextSize();l=w>0&&s.refresh(a,w,S,k,m/S,b),l&&(e.docView.minWidth=0,u|=8)}v>0&&y>0?d=Math.max(v,y):v<0&&y<0&&(d=Math.min(v,y)),s.heightChanged=!1;for(let w of this.viewports){let S=w.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(w);this.heightMap=(l?Yt.empty().applyChanges(this.stateDeco,me.empty,this.heightOracle,[new wn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,l,new GT(w.from,S))}s.heightChanged&&(u|=2)}let O=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return O&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),u|=this.updateForViewport()),(u&2||O)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,a=this.heightOracle,{visibleTop:l,visibleBottom:o}=this,c=new $c(s.lineAt(l-r*1e3,Be.ByHeight,a,0,0).from,s.lineAt(o+(1-r)*1e3,Be.ByHeight,a,0,0).to);if(n){let{head:u}=n.range;if(u<c.from||u>c.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=s.lineAt(u,Be.ByPos,a,0,0),f;n.y=="center"?f=(h.top+h.bottom)/2-d/2:n.y=="start"||n.y=="nearest"&&u<c.from?f=h.top:f=h.bottom-d,c=new $c(s.lineAt(f-1e3/2,Be.ByHeight,a,0,0).from,s.lineAt(f+d+1e3/2,Be.ByHeight,a,0,0).to)}}return c}mapViewport(e,n){let r=n.mapPos(e.from,-1),s=n.mapPos(e.to,1);return new $c(this.heightMap.lineAt(r,Be.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Be.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,Be.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(n,Be.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:o}=this;return(e==0||s<=l-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||a>=o+Math.max(10,Math.min(r,250)))&&s>l-2*1e3&&a<o+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let s of e)n.touchesRange(s.from,s.to)||r.push(new sf(n.mapPos(s.from),n.mapPos(s.to),s.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,s=r?1e4:2e3,a=s>>1,l=s<<1;if(this.defaultTextDirection!=mt.LTR&&!r)return[];let o=[],c=(d,h,f,p)=>{if(h-d<a)return;let x=this.state.selection.main,v=[x.from];x.empty||v.push(x.to);for(let g of v)if(g>d&&g<h){c(d,g-10,f,p),c(g+10,h,f,p);return}let y=iR(e,g=>g.from>=f.from&&g.to<=f.to&&Math.abs(g.from-d)<a&&Math.abs(g.to-h)<a&&!v.some(m=>g.from<m&&g.to>m));if(!y){if(h<f.to&&n&&r&&n.visibleRanges.some(g=>g.from<=h&&g.to>=h)){let g=n.moveToLineBoundary(Z.cursor(h),!1,!0).head;g>d&&(h=g)}y=new sf(d,h,this.gapSize(f,d,h,p))}o.push(y)},u=d=>{if(d.length<l||d.type!=Sn.Text)return;let h=sR(d.from,d.to,this.stateDeco);if(h.total<l)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,p,x;if(r){let v=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,y,g;if(f!=null){let m=Cc(h,f),O=((this.visibleBottom-this.visibleTop)/2+v)/d.height;y=m-O,g=m+O}else y=(this.visibleTop-d.top-v)/d.height,g=(this.visibleBottom-d.top+v)/d.height;p=Nc(h,y),x=Nc(h,g)}else{let v=h.total*this.heightOracle.charWidth,y=s*this.heightOracle.charWidth,g,m;if(f!=null){let O=Cc(h,f),b=((this.pixelViewport.right-this.pixelViewport.left)/2+y)/v;g=O-b,m=O+b}else g=(this.pixelViewport.left-y)/v,m=(this.pixelViewport.right+y)/v;p=Nc(h,g),x=Nc(h,m)}p>d.from&&c(d.from,p,d,h),x<d.to&&c(x,d.to,d,h)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(u):u(d);return o}gapSize(e,n,r,s){let a=Cc(s,r)-Cc(s,n);return this.heightOracle.lineWrapping?e.height*a:s.total*this.heightOracle.charWidth*a}updateLineGaps(e){sf.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ue.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];ye.spans(e,this.viewport.from,this.viewport.to,{span(s,a){n.push({from:s,to:a})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((s,a)=>s.from!=n[a].from||s.to!=n[a].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||kl(this.heightMap.lineAt(e,Be.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||kl(this.heightMap.lineAt(this.scaler.fromDOM(e),Be.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return kl(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class $c{constructor(e,n){this.from=e,this.to=n}}function sR(t,e,n){let r=[],s=t,a=0;return ye.spans(n,t,e,{span(){},point(l,o){l>s&&(r.push({from:s,to:l}),a+=l-s),s=o}},20),s<e&&(r.push({from:s,to:e}),a+=e-s),{total:a,ranges:r}}function Nc({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let s=0;;s++){let{from:a,to:l}=e[s],o=l-a;if(r<=o)return a+r;r-=o}}function Cc(t,e){let n=0;for(let{from:r,to:s}of t.ranges){if(e<=s){n+=e-r;break}n+=s-r}return n/t.total}function iR(t,e){for(let n of t)if(e(n))return n}const PO={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class h0{constructor(e,n,r){let s=0,a=0,l=0;this.viewports=r.map(({from:o,to:c})=>{let u=n.lineAt(o,Be.ByPos,e,0,0).top,d=n.lineAt(c,Be.ByPos,e,0,0).bottom;return s+=d-u,{from:o,to:c,top:u,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(n.height-s);for(let o of this.viewports)o.domTop=l+(o.top-a)*this.scale,l=o.domBottom=o.domTop+(o.bottom-o.top),a=o.bottom}toDOM(e){for(let n=0,r=0,s=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.top)return s+(e-r)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);r=a.bottom,s=a.domBottom}}fromDOM(e){for(let n=0,r=0,s=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.domTop)return r+(e-s)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);r=a.bottom,s=a.domBottom}}eq(e){return e instanceof h0?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function kl(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new ir(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(s=>kl(s,e)):t._content)}const Tc=te.define({combine:t=>t.join(" ")}),fm=te.define({combine:t=>t.indexOf(!0)>-1}),pm=Cs.newName(),HS=Cs.newName(),IS=Cs.newName(),GS={"&light":"."+HS,"&dark":"."+IS};function mm(t,e,n){return new Cs(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,s=>{if(s=="&")return t;if(!n||!n[s])throw new RangeError(`Unsupported selector: ${s}`);return n[s]}):t+" "+r}})}const aR=mm("."+pm,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},GS),$l="￿";class lR{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(be.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=$l}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let s=e;;){this.findPointBefore(r,s);let a=this.text.length;this.readNode(s);let l=s.nextSibling;if(l==n)break;let o=Pe.get(s),c=Pe.get(l);(o&&c?o.breakAfter:(o?o.breakAfter:Gu(s))||Gu(l)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>a)&&this.lineBreak(),s=l}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,l=1,o;if(this.lineSeparator?(a=n.indexOf(this.lineSeparator,r),l=this.lineSeparator.length):(o=s.exec(n))&&(a=o.index,l=o[0].length),this.append(n.slice(r,a<0?n.length:a)),a<0)break;if(this.lineBreak(),l>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=l-1);r=a+l}}readNode(e){if(e.cmIgnore)return;let n=Pe.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let s=r.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(oR(e,r.node,r.offset)?n:0))}}function oR(t,e,n){for(;;){if(!e||n<qr(e))return!1;if(e==t)return!0;n=di(e)+1,e=e.parentNode}}class _O{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class cR{constructor(e,n,r,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:a,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let o=a||l?[]:hR(e),c=new lR(o,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=fR(o,this.bounds.from)}else{let o=e.observer.selectionRange,c=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!em(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),u=l&&l.node==o.anchorNode&&l.offset==o.anchorOffset||!em(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),d=e.viewport;if((W.ios||W.chrome)&&e.state.selection.main.empty&&c!=u&&(d.from>0||d.to<e.state.doc.length)){let h=Math.min(c,u),f=Math.max(c,u),p=d.from-h,x=d.to-f;(p==0||p==1||h==0)&&(x==0||x==-1||f==e.state.doc.length)&&(c=0,u=e.state.doc.length)}this.newSel=Z.single(u,c)}}}function FS(t,e){let n,{newSel:r}=e,s=t.state.selection.main,a=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:o}=e.bounds,c=s.from,u=null;(a===8||W.android&&e.text.length<o-l)&&(c=s.to,u="end");let d=dR(t.state.doc.sliceString(l,o,$l),e.text,c-l,u);d&&(W.chrome&&a==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==$l+$l&&d.toB--,n={from:l+d.from,to:l+d.toA,insert:me.of(e.text.slice(d.from,d.toB).split($l))})}else r&&(!t.hasFocus&&t.state.facet(Yd)||r.main.eq(s))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!s.empty&&r&&r.main.empty?n={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:n&&n.from>=s.from&&n.to<=s.to&&(n.from!=s.from||n.to!=s.to)&&s.to-s.from-(n.to-n.from)<=4?n={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,s.to))}:(W.mac||W.android)&&n&&n.from==n.to&&n.from==s.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Z.single(r.main.anchor-1,r.main.head-1)),n={from:s.from,to:s.to,insert:me.of([" "])}):W.chrome&&n&&n.from==n.to&&n.from==s.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Z.single(r.main.anchor-1,r.main.head-1)),n={from:s.from,to:s.to,insert:me.of([" "])}),n)return JS(t,n,r,a);if(r&&!r.main.eq(s)){let l=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(l=!0),o=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:l,userEvent:o}),!0}else return!1}function JS(t,e,n,r=-1){if(W.ios&&t.inputState.flushIOSKey(e))return!0;let s=t.state.selection.main;if(W.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&t.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ua(t.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&ua(t.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&ua(t.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l,o=()=>l||(l=uR(t,e,n));return t.state.facet($S).some(c=>c(t,e.from,e.to,a,o))||t.dispatch(o()),!0}function uR(t,e,n){let r,s=t.state,a=s.selection.main;if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let o=a.from<e.from?s.sliceDoc(a.from,e.from):"",c=a.to>e.to?s.sliceDoc(e.to,a.to):"";r=s.replaceSelection(t.state.toText(o+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let o=s.changes(e),c=n&&n.main.to<=o.newLength?n.main:void 0;if(s.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=a.to&&e.to>=a.to-10){let u=t.state.sliceDoc(e.from,e.to),d,h=n&&MS(t,n.main.head);if(h){let x=e.insert.length-(e.to-e.from);d={from:h.from,to:h.to-x}}else d=t.state.doc.lineAt(a.head);let f=a.to-e.to,p=a.to-a.from;r=s.changeByRange(x=>{if(x.from==a.from&&x.to==a.to)return{changes:o,range:c||x.map(o)};let v=x.to-f,y=v-u.length;if(x.to-x.from!=p||t.state.sliceDoc(y,v)!=u||x.to>=d.from&&x.from<=d.to)return{range:x};let g=s.changes({from:y,to:v,insert:e.insert}),m=x.to-a.to;return{changes:g,range:c?Z.range(Math.max(0,c.anchor+m),Math.max(0,c.head+m)):x.map(g)}})}else r={changes:o,selection:c&&s.selection.replaceRange(c)}}let l="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),s.update(r,{userEvent:l,scrollIntoView:!0})}function dR(t,e,n,r){let s=Math.min(t.length,e.length),a=0;for(;a<s&&t.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==s&&t.length==e.length)return null;let l=t.length,o=e.length;for(;l>0&&o>0&&t.charCodeAt(l-1)==e.charCodeAt(o-1);)l--,o--;if(r=="end"){let c=Math.max(0,a-Math.min(l,o));n-=l+c-a}if(l<a&&t.length<e.length){let c=n<=a&&n>=l?a-n:0;a-=c,o=a+(o-l),l=a}else if(o<a){let c=n<=a&&n>=o?a-n:0;a-=c,l=a+(l-o),o=a}return{from:a,toA:l,toB:o}}function hR(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:a}=t.observer.selectionRange;return n&&(e.push(new _O(n,r)),(s!=n||a!=r)&&e.push(new _O(s,a))),e}function fR(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Z.single(n+e,r+e):null}const pR={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},af=W.ie&&W.ie_version<=11;class mR{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new FC,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(W.ie&&W.ie_version<=11||W.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&(this.editContext=new xR(e),e.contentDOM.editContext=this.editContext.editContext),af&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){e.type=="change"&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,s=this.selectionRange;if(r.state.facet(Yd)?r.root.activeElement!=this.dom:!au(r.dom,s))return;let a=s.anchorNode&&r.docView.nearest(s.anchorNode);if(a&&a.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(W.ie&&W.ie_version<=11||W.android&&W.chrome)&&!r.state.selection.main.empty&&s.focusNode&&Gl(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=wo(e.root);if(!n)return!1;let r=W.safari&&e.root.nodeType==11&&WC(this.dom.ownerDocument)==this.dom&&gR(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let s=au(this.dom,r);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&KC(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,pR),af&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),af&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let s=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&ua(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,s=!1;for(let a of e){let l=this.readMutation(a);l&&(l.typeOver&&(s=!0),n==-1?{from:n,to:r}=l:(n=Math.min(l.from,n),r=Math.max(l.to,r)))}return{from:n,to:r,typeOver:s}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),s=this.selectionChanged&&au(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new cR(this.view,e,n,r);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,s=FS(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=EO(n,e.previousSibling||e.target.previousSibling,-1),s=EO(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:s?n.posBefore(s):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&this.editContext.update(e)}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function EO(t,e,n){for(;e;){let r=Pe.get(e);if(r&&r.parent==t)return r;let s=e.parentNode;e=s!=t.dom?s:n>0?e.nextSibling:e.previousSibling}return null}function MO(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,a=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);return Gl(l.node,l.offset,s,a)&&([n,r,s,a]=[s,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:a}}function gR(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return MO(t,s)}let n=null;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?MO(t,n):null}class xR{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});n.addEventListener("textupdate",r=>{let{anchor:s}=e.state.selection.main,a={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:me.of(r.text.split(`
`))};a.from==this.from&&s<this.from?a.from=s:a.to==this.to&&s>this.to&&(a.to=s),!(a.from==a.to&&!a.insert.length)&&(this.pendingContextChange=a,JS(e,a,Z.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&this.revertPending(e.state))}),n.addEventListener("characterboundsupdate",r=>{let s=[],a=null;for(let l=this.toEditorPos(r.rangeStart),o=this.toEditorPos(r.rangeEnd);l<o;l++){let c=e.coordsForChar(l);a=c&&new DOMRect(c.left,c.right,c.right-c.left,c.bottom-c.top)||a||new DOMRect,s.push(a)}n.updateCharacterBounds(r.rangeStart,s)}),n.addEventListener("textformatupdate",r=>{let s=[];for(let a of r.getTextFormats()){let l=a.underlineStyle,o=a.underlineThickness;if(l!="None"&&o!="None"){let c=`text-decoration: underline ${l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${o=="Thin"?1:2}px`;s.push(ue.mark({attributes:{style:c}}).range(this.toEditorPos(a.rangeStart),this.toEditorPos(a.rangeEnd)))}}e.dispatch({effects:RS.of(ue.set(s))})}),n.addEventListener("compositionstart",()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)}),n.addEventListener("compositionend",()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null}),this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let s=wo(r.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,s=this.pendingContextChange;return e.changes.iterChanges((a,l,o,c,u)=>{if(r)return;let d=u.length-(l-a);if(s&&l>=s.to)if(s.from==a&&s.to==l&&s.insert.eq(u)){s=this.pendingContextChange=null,n+=d;return}else s=null,this.revertPending(e.state);if(a+=n,l+=n,l<=this.from)this.from+=d,this.to+=d;else if(a<this.to){if(a<this.from||l>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(l),u.toString()),this.to+=d}n+=d}),s&&!r&&this.revertPending(e.state),!r}update(e){!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.to+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),s=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(r,s)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}}class ie{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(r=>r.forEach(s=>n(s,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||JC(e.parent)||document,this.viewState=new AO(e.state||be.create(e)),e.scrollTo&&e.scrollTo.is(Sc)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Sl).map(r=>new tf(r));for(let r of this.plugins)r.update(this);this.observer=new mR(this),this.inputState=new AT(this),this.inputState.ensureHandlers(this.plugins),this.docView=new pO(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let n=e.length==1&&e[0]instanceof at?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,s,a=this.state;for(let f of e){if(f.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=f.state}if(this.destroyed){this.viewState.state=a;return}let l=this.hasFocus,o=0,c=null;e.some(f=>f.annotation(qS))?(this.inputState.notifiedFocused=l,o=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,c=YS(a,l),c||(o=1));let u=this.observer.delayedAndroidKey,d=null;if(u?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(d=null)):this.observer.clear(),a.facet(be.phrases)!=this.state.facet(be.phrases))return this.setState(a);s=Fu.create(this,a,e),s.flags|=o;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:p}=f.state.selection;h=new da(p.empty?p:Z.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of f.effects)p.is(Sc)&&(h=p.value.clip(this.state))}this.viewState.update(s,h),this.bidiCache=Ju.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),n=this.docView.update(s),this.state.facet(wl)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Tc)!=s.state.facet(Tc)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!s.empty)for(let f of this.state.facet(um))try{f(s)}catch(p){lr(this.state,p,"update listener")}(c||d)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),d&&!FS(this,d)&&u.force&&ua(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new AO(e),this.plugins=e.facet(Sl).map(r=>new tf(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new pO(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Sl),r=e.state.facet(Sl);if(n!=r){let s=[];for(let a of r){let l=n.indexOf(a);if(l<0)s.push(new tf(a));else{let o=this.plugins[l];o.mustUpdate=e,s.push(o)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){lr(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,s=r.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:l}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(l<0)if(iS(r))a=-1,l=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(s);a=p.from,l=p.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];c&4||([this.measureRequests,u]=[u,this.measureRequests]);let d=u.map(p=>{try{return p.read(this)}catch(x){return lr(this.state,x),DO}}),h=Fu.create(this,this.state,[]),f=!1;h.flags|=c,n?n.flags|=c:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h),f&&this.docViewUpdate());for(let p=0;p<u.length;p++)if(d[p]!=DO)try{let x=u[p];x.write&&x.write(d[p],this)}catch(x){lr(this.state,x)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let x=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-l;if(x>1||x<-1){s=s+x,r.scrollTop=s/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let o of this.state.facet(um))o(n)}get themeClasses(){return pm+" "+(this.state.facet(fm)?IS:HS)+" "+this.state.facet(Tc)}updateAttrs(){let e=ZO(this,QS,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Yd)?"true":"false",class:"cm-content",style:`${W.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),ZO(this,c0,n);let r=this.observer.ignore(()=>{let s=im(this.contentDOM,this.contentAttrs,n),a=im(this.dom,this.editorAttrs,e);return s||a});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let s of r.effects)if(s.is(ie.announce)){n&&(this.announceDOM.textContent=""),n=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(wl);let e=this.state.facet(ie.cspNonce);Cs.mount(this.root,this.styleModules.concat(aR).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return rf(this,e,bO(this,e,n,r))}moveByGroup(e,n){return rf(this,e,bO(this,e,n,r=>RT(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),s=this.textDirectionAt(e.from),a=r[n?r.length-1:0];return Z.cursor(a.side(n,s)+e.from,a.forward(!n,s)?1:-1)}moveToLineBoundary(e,n,r=!0){return TT(this,e,n,r)}moveVertically(e,n,r){return rf(this,e,QT(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),DS(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let s=this.state.doc.lineAt(e),a=this.bidiSpans(s),l=a[xs.find(a,e-s.from,-1,n)];return i0(r,l.dir==mt.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(CS)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>OR)return bS(e.length);let n=this.textDirectionAt(e.from),r;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==n&&(a.fresh||vS(a.isolates,r=fO(this,e))))return a.order;r||(r=fO(this,e));let s=dT(e.text,n,r);return this.bidiCache.push(new Ju(e.from,e.to,n,r,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||W.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{rS(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Sc.of(new da(typeof e=="number"?Z.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Sc.of(new da(Z.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Nn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Nn.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Cs.newName(),s=[Tc.of(r),wl.of(mm(`.${r}`,e))];return n&&n.dark&&s.push(fm.of(!0)),s}static baseTheme(e){return Bd.lowest(wl.of(mm("."+pm,e,GS)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),s=r&&Pe.get(r)||Pe.get(e);return((n=s==null?void 0:s.rootView)===null||n===void 0?void 0:n.view)||null}}ie.styleModule=wl;ie.inputHandler=$S;ie.scrollHandler=TS;ie.focusChangeEffect=NS;ie.perLineTextDirection=CS;ie.exceptionSink=kS;ie.updateListener=um;ie.editable=Yd;ie.mouseSelectionStyle=wS;ie.dragMovesSelection=SS;ie.clickAddsSelectionRange=jS;ie.decorations=$o;ie.outerDecorations=AS;ie.atomicRanges=u0;ie.bidiIsolatedRanges=PS;ie.scrollMargins=_S;ie.darkTheme=fm;ie.cspNonce=te.define({combine:t=>t.length?t[0]:""});ie.contentAttributes=c0;ie.editorAttributes=QS;ie.lineWrapping=ie.contentAttributes.of({class:"cm-lineWrapping"});ie.announce=_e.define();const OR=4096,DO={};class Ju{constructor(e,n,r,s,a,l){this.from=e,this.to=n,this.dir=r,this.isolates=s,this.fresh=a,this.order=l}static update(e,n){if(n.empty&&!e.some(a=>a.fresh))return e;let r=[],s=e.length?e[e.length-1].dir:mt.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let l=e[a];l.dir==s&&!n.touchesRange(l.from,l.to)&&r.push(new Ju(n.mapPos(l.from,1),n.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return r}}function ZO(t,e,n){for(let r=t.state.facet(e),s=r.length-1;s>=0;s--){let a=r[s],l=typeof a=="function"?a(t):a;l&&sm(l,n)}return n}const vR=W.mac?"mac":W.windows?"win":W.linux?"linux":"key";function bR(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let s,a,l,o;for(let c=0;c<n.length-1;++c){const u=n[c];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))s=!0;else if(/^(c|ctrl|control)$/i.test(u))a=!0;else if(/^s(hift)?$/i.test(u))l=!0;else if(/^mod$/i.test(u))e=="mac"?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+u)}return s&&(r="Alt-"+r),a&&(r="Ctrl-"+r),o&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function Rc(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const yR=Bd.default(ie.domEventHandlers({keydown(t,e){return kR(jR(e.state),t,e,"editor")}})),Ku=te.define({enables:yR}),zO=new WeakMap;function jR(t){let e=t.facet(Ku),n=zO.get(e);return n||zO.set(e,n=wR(e.reduce((r,s)=>r.concat(s),[]))),n}let cs=null;const SR=4e3;function wR(t,e=vR){let n=Object.create(null),r=Object.create(null),s=(l,o)=>{let c=r[l];if(c==null)r[l]=o;else if(c!=o)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},a=(l,o,c,u,d)=>{var h,f;let p=n[l]||(n[l]=Object.create(null)),x=o.split(/ (?!$)/).map(g=>bR(g,e));for(let g=1;g<x.length;g++){let m=x.slice(0,g).join(" ");s(m,!0),p[m]||(p[m]={preventDefault:!0,stopPropagation:!1,run:[O=>{let b=cs={view:O,prefix:m,scope:l};return setTimeout(()=>{cs==b&&(cs=null)},SR),!0}]})}let v=x.join(" ");s(v,!1);let y=p[v]||(p[v]={preventDefault:!1,stopPropagation:!1,run:((f=(h=p._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});c&&y.run.push(c),u&&(y.preventDefault=!0),d&&(y.stopPropagation=!0)};for(let l of t){let o=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let u of o){let d=n[u]||(n[u]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=l;for(let f in d)d[f].run.push(p=>h(p,gm))}let c=l[e]||l.key;if(c)for(let u of o)a(u,c,l.run,l.preventDefault,l.stopPropagation),l.shift&&a(u,"Shift-"+c,l.shift,l.preventDefault,l.stopPropagation)}return n}let gm=null;function kR(t,e,n,r){gm=e;let s=VC(e),a=pr(s,0),l=wa(a)==s.length&&s!=" ",o="",c=!1,u=!1,d=!1;cs&&cs.view==n&&cs.scope==r&&(o=cs.prefix+" ",zS.indexOf(e.keyCode)<0&&(u=!0,cs=null));let h=new Set,f=y=>{if(y){for(let g of y.run)if(!h.has(g)&&(h.add(g),g(n)))return y.stopPropagation&&(d=!0),!0;y.preventDefault&&(y.stopPropagation&&(d=!0),u=!0)}return!1},p=t[r],x,v;return p&&(f(p[o+Rc(s,e,!l)])?c=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(W.windows&&e.ctrlKey&&e.altKey)&&(x=Ts[e.keyCode])&&x!=s?(f(p[o+Rc(x,e,!0)])||e.shiftKey&&(v=So[e.keyCode])!=s&&v!=x&&f(p[o+Rc(v,e,!1)]))&&(c=!0):l&&e.shiftKey&&f(p[o+Rc(s,e,!0)])&&(c=!0),!c&&f(p._any)&&(c=!0)),u&&(c=!0),c&&d&&e.stopPropagation(),gm=null,c}const $R=!W.ios,LO={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};$R&&(LO[".cm-line"].caretColor=LO[".cm-content"].caretColor="transparent !important");function BO(t,e,n,r,s){e.lastIndex=0;for(let a=t.iterRange(n,r),l=n,o;!a.next().done;l+=a.value.length)if(!a.lineBreak)for(;o=e.exec(a.value);)s(l+o.index,o)}function NR(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:s,to:a}of n)s=Math.max(t.state.doc.lineAt(s).from,s-e),a=Math.min(t.state.doc.lineAt(a).to,a+e),r.length&&r[r.length-1].to>=s?r[r.length-1].to=a:r.push({from:s,to:a});return r}class CR{constructor(e){const{regexp:n,decoration:r,decorate:s,boundary:a,maxLength:l=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,s)this.addMatch=(o,c,u,d)=>s(d,u,u+o[0].length,o,c);else if(typeof r=="function")this.addMatch=(o,c,u,d)=>{let h=r(o,c,u);h&&d(u,u+o[0].length,h)};else if(r)this.addMatch=(o,c,u,d)=>d(u,u+o[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=l}createDeco(e){let n=new ka,r=n.add.bind(n);for(let{from:s,to:a}of NR(e,this.maxLength))BO(e.state.doc,this.regexp,s,a,(l,o)=>this.addMatch(o,e,l,r));return n.finish()}updateDeco(e,n){let r=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((a,l,o,c)=>{c>e.view.viewport.from&&o<e.view.viewport.to&&(r=Math.min(o,r),s=Math.max(c,s))}),e.viewportChanged||s-r>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,n.map(e.changes),r,s):n}updateRange(e,n,r,s){for(let a of e.visibleRanges){let l=Math.max(a.from,r),o=Math.min(a.to,s);if(o>l){let c=e.state.doc.lineAt(l),u=c.to<o?e.state.doc.lineAt(o):c,d=Math.max(a.from,c.from),h=Math.min(a.to,u.to);if(this.boundary){for(;l>c.from;l--)if(this.boundary.test(c.text[l-1-c.from])){d=l;break}for(;o<u.to;o++)if(this.boundary.test(u.text[o-u.from])){h=o;break}}let f=[],p,x=(v,y,g)=>f.push(g.range(v,y));if(c==u)for(this.regexp.lastIndex=d-c.from;(p=this.regexp.exec(c.text))&&p.index<h-c.from;)this.addMatch(p,e,p.index+c.from,x);else BO(e.state.doc,this.regexp,d,h,(v,y)=>this.addMatch(y,e,v,x));n=n.update({filterFrom:d,filterTo:h,filter:(v,y)=>v<d||y>h,add:f})}}return n}}const xm=/x/.unicode!=null?"gu":"g",TR=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,xm),RR={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let lf=null;function QR(){var t;if(lf==null&&typeof document<"u"&&document.body){let e=document.body.style;lf=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return lf||!1}const cu=te.define({combine(t){let e=Ud(t,{render:null,specialChars:TR,addSpecialChars:null});return(e.replaceTabs=!QR())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,xm)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,xm)),e}});function AR(t={}){return[cu.of(t),PR()]}let XO=null;function PR(){return XO||(XO=Nn.fromClass(class{constructor(t){this.view=t,this.decorations=ue.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(cu)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new CR({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:s}=n.state,a=pr(e[0],0);if(a==9){let l=s.lineAt(r),o=n.state.tabSize,c=Vo(l.text,o,r-l.from);return ue.replace({widget:new DR((o-c%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=ue.replace({widget:new MR(t,a)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(cu);t.startState.facet(cu)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const _R="•";function ER(t){return t>=32?_R:t==10?"␤":String.fromCharCode(9216+t)}class MR extends Va{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=ER(this.code),r=e.state.phrase("Control character")+" "+(RR[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,r,n);if(s)return s;let a=document.createElement("span");return a.textContent=n,a.title=r,a.setAttribute("aria-label",r),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class DR extends Va{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function ZR(){return LR}const zR=ue.line({class:"cm-activeLine"}),LR=Nn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let s=t.lineBlockAt(r.head);s.from>e&&(n.push(zR.range(s.from)),e=s.from)}return ue.set(n)}},{decorations:t=>t.decorations});class pi extends ui{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}pi.prototype.elementClass="";pi.prototype.toDOM=void 0;pi.prototype.mapMode=At.TrackBefore;pi.prototype.startSide=pi.prototype.endSide=-1;pi.prototype.point=!0;const of=te.define(),uu=te.define(),UO=te.define({combine:t=>t.some(e=>e)});function BR(t){return[XR]}const XR=Nn.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(uu).map(e=>new YO(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(UO),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(UO)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=ye.iter(this.view.state.facet(of),this.view.viewport.from),r=[],s=this.gutters.map(a=>new UR(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(a.type)){let l=!0;for(let o of a.type)if(o.type==Sn.Text&&l){Om(n,r,o.from);for(let c of s)c.line(this.view,o,r);l=!1}else if(o.widget)for(let c of s)c.widget(this.view,o)}else if(a.type==Sn.Text){Om(n,r,a.from);for(let l of s)l.line(this.view,a,r)}else if(a.widget)for(let l of s)l.widget(this.view,a);for(let a of s)a.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(uu),n=t.state.facet(uu),r=t.docChanged||t.heightChanged||t.viewportChanged||!ye.eq(t.startState.facet(of),t.state.facet(of),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let s of this.gutters)s.update(t)&&(r=!0);else{r=!0;let s=[];for(let a of n){let l=e.indexOf(a);l<0?s.push(new YO(this.view,a)):(this.gutters[l].update(t),s.push(this.gutters[l]))}for(let a of this.gutters)a.dom.remove(),s.indexOf(a)<0&&a.destroy();for(let a of s)this.dom.appendChild(a.dom);this.gutters=s}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>ie.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==mt.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function qO(t){return Array.isArray(t)?t:[t]}function Om(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class UR{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ye.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:s}=this,a=(n.top-this.height)/e.scaleY,l=n.height/e.scaleY;if(this.i==s.elements.length){let o=new KS(e,l,a,r);s.elements.push(o),s.dom.appendChild(o.dom)}else s.elements[this.i].update(e,l,a,r);this.height=n.bottom,this.i++}line(e,n,r){let s=[];Om(this.cursor,s,n.from),r.length&&(s=s.concat(r));let a=this.gutter.config.lineMarker(e,n,s);a&&s.unshift(a);let l=this.gutter;s.length==0&&!l.config.renderEmptyElements||this.addElement(e,n,s)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n);r&&this.addElement(e,n,[r])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class YO{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,s=>{let a=s.target,l;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let c=a.getBoundingClientRect();l=(c.top+c.bottom)/2}else l=s.clientY;let o=e.lineBlockAtHeight(l-e.documentTop);n.domEventHandlers[r](e,o,s)&&s.preventDefault()});this.markers=qO(n.markers(e)),n.initialSpacer&&(this.spacer=new KS(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=qO(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let r=e.view.viewport;return!ye.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class KS{constructor(e,n,r,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,s)}update(e,n,r,s){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),qR(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,n){let r="cm-gutterElement",s=this.dom.firstChild;for(let a=0,l=0;;){let o=l,c=a<n.length?n[a++]:null,u=!1;if(c){let d=c.elementClass;d&&(r+=" "+d);for(let h=l;h<this.markers.length;h++)if(this.markers[h].compare(c)){o=h,u=!0;break}}else o=this.markers.length;for(;l<o;){let d=this.markers[l++];if(d.toDOM){d.destroy(s);let h=s.nextSibling;s.remove(),s=h}}if(!c)break;c.toDOM&&(u?s=s.nextSibling:this.dom.insertBefore(c.toDOM(e),s)),u&&l++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function qR(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const YR=te.define(),Gi=te.define({combine(t){return Ud(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let s in n){let a=r[s],l=n[s];r[s]=a?(o,c,u)=>a(o,c,u)||l(o,c,u):l}return r}})}});class cf extends pi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function uf(t,e){return t.state.facet(Gi).formatNumber(e,t.state)}const VR=uu.compute([Gi],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(YR)},lineMarker(e,n,r){return r.some(s=>s.toDOM)?null:new cf(uf(e,e.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Gi)!=e.state.facet(Gi),initialSpacer(e){return new cf(uf(e,VO(e.state.doc.lines)))},updateSpacer(e,n){let r=uf(n.view,VO(n.view.state.doc.lines));return r==e.number?e:new cf(r)},domEventHandlers:t.facet(Gi).domEventHandlers}));function WR(t={}){return[Gi.of(t),BR(),VR]}function VO(t){let e=9;for(;e<t;)e=e*10+9;return e}const ew=1024;let HR=0;class bn{constructor(e,n){this.from=e,this.to=n}}class oe{constructor(e={}){this.id=HR++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Wt.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}oe.closedBy=new oe({deserialize:t=>t.split(" ")});oe.openedBy=new oe({deserialize:t=>t.split(" ")});oe.group=new oe({deserialize:t=>t.split(" ")});oe.isolate=new oe({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});oe.contextHash=new oe({perNode:!0});oe.lookAhead=new oe({perNode:!0});oe.mounted=new oe({perNode:!0});class No{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[oe.mounted.id]}}const IR=Object.create(null);class Wt{constructor(e,n,r,s=0){this.name=e,this.props=n,this.id=r,this.flags=s}static define(e){let n=e.props&&e.props.length?Object.create(null):IR,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Wt(e.name||"",n,e.id,r);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(s)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(oe.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let s of r.split(" "))n[s]=e[r];return r=>{for(let s=r.prop(oe.group),a=-1;a<(s?s.length:0);a++){let l=n[a<0?r.name:s[a]];if(l)return l}}}}Wt.none=new Wt("",Object.create(null),0,8);class f0{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let s=null;for(let a of e){let l=a(r);l&&(s||(s=Object.assign({},r.props)),s[l[0].id]=l[1])}n.push(s?new Wt(r.name,s,r.id,r.flags):r)}return new f0(n)}}const Qc=new WeakMap,WO=new WeakMap;var Ze;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Ze||(Ze={}));class He{constructor(e,n,r,s,a){if(this.type=e,this.children=n,this.positions=r,this.length=s,this.props=null,a&&a.length){this.props=Object.create(null);for(let[l,o]of a)this.props[typeof l=="number"?l:l.id]=o}}toString(){let e=No.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let s=r.toString();s&&(n&&(n+=","),n+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new ed(this.topNode,e)}cursorAt(e,n=0,r=0){let s=Qc.get(this)||this.topNode,a=new ed(s);return a.moveTo(e,n),Qc.set(this,a._tree),a}get topNode(){return new Mt(this,0,0,null)}resolve(e,n=0){let r=Co(Qc.get(this)||this.topNode,e,n,!1);return Qc.set(this,r),r}resolveInner(e,n=0){let r=Co(WO.get(this)||this.topNode,e,n,!0);return WO.set(this,r),r}resolveStack(e,n=0){return JR(this,e,n)}iterate(e){let{enter:n,leave:r,from:s=0,to:a=this.length}=e,l=e.mode||0,o=(l&Ze.IncludeAnonymous)>0;for(let c=this.cursor(l|Ze.IncludeAnonymous);;){let u=!1;if(c.from<=a&&c.to>=s&&(!o&&c.type.isAnonymous||n(c)!==!1)){if(c.firstChild())continue;u=!0}for(;u&&r&&(o||!c.type.isAnonymous)&&r(c),!c.nextSibling();){if(!c.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:g0(Wt.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,s)=>new He(this.type,n,r,s,this.propValues),e.makeTree||((n,r,s)=>new He(Wt.none,n,r,s)))}static build(e){return KR(e)}}He.empty=new He(Wt.none,[],[],0);class p0{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new p0(this.buffer,this.index)}}class Qs{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Wt.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],s=this.set.types[n],a=s.name;if(/\W/.test(a)&&!s.isError&&(a=JSON.stringify(a)),e+=4,r==e)return a;let l=[];for(;e<r;)l.push(this.childString(e)),e=this.buffer[e+3];return a+"("+l.join(",")+")"}findChild(e,n,r,s,a){let{buffer:l}=this,o=-1;for(let c=e;c!=n&&!(tw(a,s,l[c+1],l[c+2])&&(o=c,r>0));c=l[c+3]);return o}slice(e,n,r){let s=this.buffer,a=new Uint16Array(n-e),l=0;for(let o=e,c=0;o<n;){a[c++]=s[o++],a[c++]=s[o++]-r;let u=a[c++]=s[o++]-r;a[c++]=s[o++]-e,l=Math.max(l,u)}return new Qs(a,l,this.set)}}function tw(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Co(t,e,n,r){for(var s;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let l=!r&&t instanceof Mt&&t.index<0?null:t.parent;if(!l)return t;t=l}let a=r?0:Ze.IgnoreOverlays;if(r)for(let l=t,o=l.parent;o;l=o,o=l.parent)l instanceof Mt&&l.index<0&&((s=o.enter(e,n,a))===null||s===void 0?void 0:s.from)!=l.from&&(t=o);for(;;){let l=t.enter(e,n,a);if(!l)return t;t=l}}class nw{cursor(e=0){return new ed(this,e)}getChild(e,n=null,r=null){let s=HO(this,e,n,r);return s.length?s[0]:null}getChildren(e,n=null,r=null){return HO(this,e,n,r)}resolve(e,n=0){return Co(this,e,n,!1)}resolveInner(e,n=0){return Co(this,e,n,!0)}matchContext(e){return vm(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let s=n.lastChild;if(!s||s.to!=n.to)break;s.type.isError&&s.from==s.to?(r=n,n=s.prevSibling):n=s}return r}get node(){return this}get next(){return this.parent}}class Mt extends nw{constructor(e,n,r,s){super(),this._tree=e,this.from=n,this.index=r,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,s,a=0){for(let l=this;;){for(let{children:o,positions:c}=l._tree,u=n>0?o.length:-1;e!=u;e+=n){let d=o[e],h=c[e]+l.from;if(tw(s,r,h,h+d.length)){if(d instanceof Qs){if(a&Ze.ExcludeBuffers)continue;let f=d.findChild(0,d.buffer.length,n,r-h,s);if(f>-1)return new or(new GR(l,d,e,h),null,f)}else if(a&Ze.IncludeAnonymous||!d.type.isAnonymous||m0(d)){let f;if(!(a&Ze.IgnoreMounts)&&(f=No.get(d))&&!f.overlay)return new Mt(f.tree,h,e,l);let p=new Mt(d,h,e,l);return a&Ze.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(n<0?d.children.length-1:0,n,r,s)}}}if(a&Ze.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+n:e=n<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let s;if(!(r&Ze.IgnoreOverlays)&&(s=No.get(this._tree))&&s.overlay){let a=e-this.from;for(let{from:l,to:o}of s.overlay)if((n>0?l<=a:l<a)&&(n<0?o>=a:o>a))return new Mt(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function HO(t,e,n,r){let s=t.cursor(),a=[];if(!s.firstChild())return a;if(n!=null){for(let l=!1;!l;)if(l=s.type.is(n),!s.nextSibling())return a}for(;;){if(r!=null&&s.type.is(r))return a;if(s.type.is(e)&&a.push(s.node),!s.nextSibling())return r==null?a:[]}}function vm(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class GR{constructor(e,n,r,s){this.parent=e,this.buffer=n,this.index=r,this.start=s}}class or extends nw{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],e,n-this.context.start,r);return a<0?null:new or(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Ze.ExcludeBuffers)return null;let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return a<0?null:new or(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new or(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new or(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,s=this.index+4,a=r.buffer[this.index+3];if(a>s){let l=r.buffer[this.index+1];e.push(r.slice(s,a,l)),n.push(0)}return new He(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function rw(t){if(!t.length)return null;let e=0,n=t[0];for(let a=1;a<t.length;a++){let l=t[a];(l.from>n.from||l.to<n.to)&&(n=l,e=a)}let r=n instanceof Mt&&n.index<0?null:n.parent,s=t.slice();return r?s[e]=r:s.splice(e,1),new FR(s,n)}class FR{constructor(e,n){this.heads=e,this.node=n}get next(){return rw(this.heads)}}function JR(t,e,n){let r=t.resolveInner(e,n),s=null;for(let a=r instanceof Mt?r:r.context.parent;a;a=a.parent)if(a.index<0){let l=a.parent;(s||(s=[r])).push(l.resolve(e,n)),a=l}else{let l=No.get(a.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let o=new Mt(l.tree,l.overlay[0].from+a.from,-1,a);(s||(s=[r])).push(Co(o,e,n,!1))}}return s?rw(s):r}class ed{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Mt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:s}=this.buffer;return this.type=n||s.set.types[s.buffer[e]],this.from=r+s.buffer[e+1],this.to=r+s.buffer[e+2],!0}yield(e){return e?e instanceof Mt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:s}=this.buffer,a=s.findChild(this.index+4,s.buffer[this.index+3],e,n-this.buffer.start,r);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Ze.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ze.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ze.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let s=r<0?0:this.stack[r]+4;if(this.index!=s)return this.yieldBuf(n.findChild(s,this.index,-1,0,4))}else{let s=n.buffer[this.index+3];if(s<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(s)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(s.buffer.buffer[a+3]<this.index)return!1;({index:n,parent:r}=s)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let a=n+e,l=e<0?-1:r._tree.children.length;a!=l;a+=e){let o=r._tree.children[a];if(this.mode&Ze.IncludeAnonymous||o instanceof Qs||!o.type.isAnonymous||m0(o))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let s=this.index,a=this.stack.length;a>=0;){for(let l=e;l;l=l._parent)if(l.index==s){if(s==this.index)return l;n=l,r=a+1;break e}s=this.stack[--a]}for(let s=r;s<this.stack.length;s++)n=new or(this.buffer,n,this.stack[s]);return this.bufferNode=new or(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(s=!0)}for(;s&&n&&n(this),s=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,s=!0}}}matchContext(e){if(!this.buffer)return vm(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let s=e.length-1,a=this.stack.length-1;s>=0;a--){if(a<0)return vm(this.node,e,s);let l=r[n.buffer[this.stack[a]]];if(!l.isAnonymous){if(e[s]&&e[s]!=l.name)return!1;s--}}return!0}}function m0(t){return t.children.some(e=>e instanceof Qs||!e.type.isAnonymous||m0(e))}function KR(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:s=ew,reused:a=[],minRepeatType:l=r.types.length}=t,o=Array.isArray(n)?new p0(n,n.length):n,c=r.types,u=0,d=0;function h(w,S,k,$,_,R){let{id:z,start:E,end:H,size:B}=o,G=d;for(;B<0;)if(o.next(),B==-1){let D=a[z];k.push(D),$.push(E-w);return}else if(B==-3){u=z;return}else if(B==-4){d=z;return}else throw new RangeError(`Unrecognized record size: ${B}`);let Q=c[z],L,q,ee=E-w;if(H-E<=s&&(q=y(o.pos-S,_))){let D=new Uint16Array(q.size-q.skip),A=o.pos-q.size,I=D.length;for(;o.pos>A;)I=g(q.start,D,I);L=new Qs(D,H-q.start,r),ee=q.start-w}else{let D=o.pos-B;o.next();let A=[],I=[],C=z>=l?z:-1,M=0,Y=H;for(;o.pos>D;)C>=0&&o.id==C&&o.size>=0?(o.end<=Y-s&&(x(A,I,E,M,o.end,Y,C,G),M=A.length,Y=o.end),o.next()):R>2500?f(E,D,A,I):h(E,D,A,I,C,R+1);if(C>=0&&M>0&&M<A.length&&x(A,I,E,M,E,Y,C,G),A.reverse(),I.reverse(),C>-1&&M>0){let K=p(Q);L=g0(Q,A,I,0,A.length,0,H-E,K,K)}else L=v(Q,A,I,H-E,G-H)}k.push(L),$.push(ee)}function f(w,S,k,$){let _=[],R=0,z=-1;for(;o.pos>S;){let{id:E,start:H,end:B,size:G}=o;if(G>4)o.next();else{if(z>-1&&H<z)break;z<0&&(z=B-s),_.push(E,H,B),R++,o.next()}}if(R){let E=new Uint16Array(R*4),H=_[_.length-2];for(let B=_.length-3,G=0;B>=0;B-=3)E[G++]=_[B],E[G++]=_[B+1]-H,E[G++]=_[B+2]-H,E[G++]=G;k.push(new Qs(E,_[2]-H,r)),$.push(H-w)}}function p(w){return(S,k,$)=>{let _=0,R=S.length-1,z,E;if(R>=0&&(z=S[R])instanceof He){if(!R&&z.type==w&&z.length==$)return z;(E=z.prop(oe.lookAhead))&&(_=k[R]+z.length+E)}return v(w,S,k,$,_)}}function x(w,S,k,$,_,R,z,E){let H=[],B=[];for(;w.length>$;)H.push(w.pop()),B.push(S.pop()+k-_);w.push(v(r.types[z],H,B,R-_,E-R)),S.push(_-k)}function v(w,S,k,$,_=0,R){if(u){let z=[oe.contextHash,u];R=R?[z].concat(R):[z]}if(_>25){let z=[oe.lookAhead,_];R=R?[z].concat(R):[z]}return new He(w,S,k,$,R)}function y(w,S){let k=o.fork(),$=0,_=0,R=0,z=k.end-s,E={size:0,start:0,skip:0};e:for(let H=k.pos-w;k.pos>H;){let B=k.size;if(k.id==S&&B>=0){E.size=$,E.start=_,E.skip=R,R+=4,$+=4,k.next();continue}let G=k.pos-B;if(B<0||G<H||k.start<z)break;let Q=k.id>=l?4:0,L=k.start;for(k.next();k.pos>G;){if(k.size<0)if(k.size==-3)Q+=4;else break e;else k.id>=l&&(Q+=4);k.next()}_=L,$+=B,R+=Q}return(S<0||$==w)&&(E.size=$,E.start=_,E.skip=R),E.size>4?E:void 0}function g(w,S,k){let{id:$,start:_,end:R,size:z}=o;if(o.next(),z>=0&&$<l){let E=k;if(z>4){let H=o.pos-(z-4);for(;o.pos>H;)k=g(w,S,k)}S[--k]=E,S[--k]=R-w,S[--k]=_-w,S[--k]=$}else z==-3?u=$:z==-4&&(d=$);return k}let m=[],O=[];for(;o.pos>0;)h(t.start||0,t.bufferStart||0,m,O,-1,0);let b=(e=t.length)!==null&&e!==void 0?e:m.length?O[0]+m[0].length:0;return new He(c[t.topID],m.reverse(),O.reverse(),b)}const IO=new WeakMap;function du(t,e){if(!t.isAnonymous||e instanceof Qs||e.type!=t)return 1;let n=IO.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof He)){n=1;break}n+=du(t,r)}IO.set(e,n)}return n}function g0(t,e,n,r,s,a,l,o,c){let u=0;for(let x=r;x<s;x++)u+=du(t,e[x]);let d=Math.ceil(u*1.5/8),h=[],f=[];function p(x,v,y,g,m){for(let O=y;O<g;){let b=O,w=v[O],S=du(t,x[O]);for(O++;O<g;O++){let k=du(t,x[O]);if(S+k>=d)break;S+=k}if(O==b+1){if(S>d){let k=x[b];p(k.children,k.positions,0,k.children.length,v[b]+m);continue}h.push(x[b])}else{let k=v[O-1]+x[O-1].length-w;h.push(g0(t,x,v,b,O,w,k,null,c))}f.push(w+m-a)}}return p(e,n,r,s,0),(o||c)(h,f,l)}class sw{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof or?this.setBuffer(e.context.buffer,e.index,n):e instanceof Mt&&this.map.set(e.tree,n)}get(e){return e instanceof or?this.getBuffer(e.context.buffer,e.index):e instanceof Mt?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Dr{constructor(e,n,r,s,a=!1,l=!1){this.from=e,this.to=n,this.tree=r,this.offset=s,this.open=(a?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let s=[new Dr(0,e.length,e,0,!1,r)];for(let a of n)a.to>e.length&&s.push(a);return s}static applyChanges(e,n,r=128){if(!n.length)return e;let s=[],a=1,l=e.length?e[0]:null;for(let o=0,c=0,u=0;;o++){let d=o<n.length?n[o]:null,h=d?d.fromA:1e9;if(h-c>=r)for(;l&&l.from<h;){let f=l;if(c>=f.from||h<=f.to||u){let p=Math.max(f.from,c)-u,x=Math.min(f.to,h)-u;f=p>=x?null:new Dr(p,x,f.tree,f.offset+u,o>0,!!d)}if(f&&s.push(f),l.to>h)break;l=a<e.length?e[a++]:null}if(!d)break;c=d.toA,u=d.toA-d.toB}return s}}class iw{startParse(e,n,r){return typeof e=="string"&&(e=new eQ(e)),r=r?r.length?r.map(s=>new bn(s.from,s.to)):[new bn(0,0)]:[new bn(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let s=this.startParse(e,n,r);for(;;){let a=s.advance();if(a)return a}}}class eQ{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function tQ(t){return(e,n,r,s)=>new rQ(e,t,n,r,s)}class GO{constructor(e,n,r,s,a){this.parser=e,this.parse=n,this.overlay=r,this.target=s,this.from=a}}function FO(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class nQ{constructor(e,n,r,s,a,l,o){this.parser=e,this.predicate=n,this.mounts=r,this.index=s,this.start=a,this.target=l,this.prev=o,this.depth=0,this.ranges=[]}}const bm=new oe({perNode:!0});class rQ{constructor(e,n,r,s,a){this.nest=n,this.input=r,this.fragments=s,this.ranges=a,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let s of this.inner)s.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new He(r.type,r.children,r.positions,r.length,r.propValues.concat([[bm,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[oe.mounted.id]=new No(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new aQ(this.fragments),n=null,r=null,s=new ed(new Mt(this.baseTree,this.ranges[0].from,0,null),Ze.IncludeAnonymous|Ze.IgnoreMounts);e:for(let a,l;;){let o=!0,c;if(this.stoppedAt!=null&&s.from>=this.stoppedAt)o=!1;else if(e.hasNode(s)){if(n){let u=n.mounts.find(d=>d.frag.from<=s.from&&d.frag.to>=s.to&&d.mount.overlay);if(u)for(let d of u.mount.overlay){let h=d.from+u.pos,f=d.to+u.pos;h>=s.from&&f<=s.to&&!n.ranges.some(p=>p.from<f&&p.to>h)&&n.ranges.push({from:h,to:f})}}o=!1}else if(r&&(l=sQ(r.ranges,s.from,s.to)))o=l!=2;else if(!s.type.isAnonymous&&(a=this.nest(s,this.input))&&(s.from<s.to||!a.overlay)){s.tree||iQ(s);let u=e.findMounts(s.from,a.parser);if(typeof a.overlay=="function")n=new nQ(a.parser,a.overlay,u,this.inner.length,s.from,s.tree,n);else{let d=ev(this.ranges,a.overlay||(s.from<s.to?[new bn(s.from,s.to)]:[]));d.length&&FO(d),(d.length||!a.overlay)&&this.inner.push(new GO(a.parser,d.length?a.parser.startParse(this.input,tv(u,d),d):a.parser.startParse(""),a.overlay?a.overlay.map(h=>new bn(h.from-s.from,h.to-s.from)):null,s.tree,d.length?d[0].from:s.from)),a.overlay?d.length&&(r={ranges:d,depth:0,prev:r}):o=!1}}else n&&(c=n.predicate(s))&&(c===!0&&(c=new bn(s.from,s.to)),c.from<c.to&&n.ranges.push(c));if(o&&s.firstChild())n&&n.depth++,r&&r.depth++;else for(;!s.nextSibling();){if(!s.parent())break e;if(n&&!--n.depth){let u=ev(this.ranges,n.ranges);u.length&&(FO(u),this.inner.splice(n.index,0,new GO(n.parser,n.parser.startParse(this.input,tv(n.mounts,u),u),n.ranges.map(d=>new bn(d.from-n.start,d.to-n.start)),n.target,u[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function sQ(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function JO(t,e,n,r,s,a){if(e<n){let l=t.buffer[e+1];r.push(t.slice(e,n,l)),s.push(l-a)}}function iQ(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let s=t.tree,a=s.children.indexOf(r),l=s.children[a],o=l.buffer,c=[a];function u(d,h,f,p,x,v){let y=n[v],g=[],m=[];JO(l,d,y,g,m,p);let O=o[y+1],b=o[y+2];c.push(g.length);let w=v?u(y+4,o[y+3],l.set.types[o[y]],O,b-O,v-1):e.toTree();return g.push(w),m.push(O-p),JO(l,o[y+3],h,g,m,p),new He(f,g,m,x)}s.children[a]=u(0,o.length,Wt.none,0,l.length,n.length-1);for(let d of c){let h=t.tree.children[d],f=t.tree.positions[d];t.yield(new Mt(h,f+t.from,d,t._tree))}}class KO{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Ze.IncludeAnonymous|Ze.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Ze.IgnoreOverlays|Ze.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof He)n=n.children[0];else break}return!1}}let aQ=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(bm))!==null&&n!==void 0?n:r.to,this.inner=new KO(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(bm))!==null&&e!==void 0?e:n.to,this.inner=new KO(n.tree,-n.offset)}}findMounts(e,n){var r;let s=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let a=this.inner.cursor.node;a;a=a.parent){let l=(r=a.tree)===null||r===void 0?void 0:r.prop(oe.mounted);if(l&&l.parser==n)for(let o=this.fragI;o<this.fragments.length;o++){let c=this.fragments[o];if(c.from>=a.to)break;c.tree==this.curFrag.tree&&s.push({frag:c,pos:a.from-c.offset,mount:l})}}}return s}};function ev(t,e){let n=null,r=e;for(let s=1,a=0;s<t.length;s++){let l=t[s-1].to,o=t[s].from;for(;a<r.length;a++){let c=r[a];if(c.from>=o)break;c.to<=l||(n||(r=n=e.slice()),c.from<l?(n[a]=new bn(c.from,l),c.to>o&&n.splice(a+1,0,new bn(o,c.to))):c.to>o?n[a--]=new bn(o,c.to):n.splice(a--,1))}}return r}function lQ(t,e,n,r){let s=0,a=0,l=!1,o=!1,c=-1e9,u=[];for(;;){let d=s==t.length?1e9:l?t[s].to:t[s].from,h=a==e.length?1e9:o?e[a].to:e[a].from;if(l!=o){let f=Math.max(c,n),p=Math.min(d,h,r);f<p&&u.push(new bn(f,p))}if(c=Math.min(d,h),c==1e9)break;d==c&&(l?(l=!1,s++):l=!0),h==c&&(o?(o=!1,a++):o=!0)}return u}function tv(t,e){let n=[];for(let{pos:r,mount:s,frag:a}of t){let l=r+(s.overlay?s.overlay[0].from:0),o=l+s.tree.length,c=Math.max(a.from,l),u=Math.min(a.to,o);if(s.overlay){let d=s.overlay.map(f=>new bn(f.from+r,f.to+r)),h=lQ(e,d,c,u);for(let f=0,p=c;;f++){let x=f==h.length,v=x?u:h[f].from;if(v>p&&n.push(new Dr(p,v,s.tree,-l,a.from>=p||a.openStart,a.to<=v||a.openEnd)),x)break;p=h[f].to}}else n.push(new Dr(c,u,s.tree,-l,a.from>=l||a.openStart,a.to<=o||a.openEnd))}return n}let oQ=0;class er{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=oQ++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new er([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new td;return n=>n.modified.indexOf(e)>-1?n:td.get(n.base||n,n.modified.concat(e).sort((r,s)=>r.id-s.id))}}let cQ=0;class td{constructor(){this.instances=[],this.id=cQ++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(o=>o.base==e&&uQ(n,o.modified));if(r)return r;let s=[],a=new er(s,e,n);for(let o of n)o.instances.push(a);let l=dQ(n);for(let o of e.set)if(!o.modified.length)for(let c of l)s.push(td.get(o,c));return a}}function uQ(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function dQ(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,s=e.length;r<s;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Vd(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let s of n.split(" "))if(s){let a=[],l=2,o=s;for(let h=0;;){if(o=="..."&&h>0&&h+3==s.length){l=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!f)throw new RangeError("Invalid path: "+s);if(a.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==s.length)break;let p=s[h++];if(h==s.length&&p=="!"){l=0;break}if(p!="/")throw new RangeError("Invalid path: "+s);o=s.slice(h)}let c=a.length-1,u=a[c];if(!u)throw new RangeError("Invalid path: "+s);let d=new nd(r,l,c>0?a.slice(0,c):null);e[u]=d.sort(e[u])}}return aw.add(e)}const aw=new oe;class nd{constructor(e,n,r,s){this.tags=e,this.mode=n,this.context=r,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}nd.empty=new nd([],2,null);function lw(t,e){let n=Object.create(null);for(let a of t)if(!Array.isArray(a.tag))n[a.tag.id]=a.class;else for(let l of a.tag)n[l.id]=a.class;let{scope:r,all:s=null}=e||{};return{style:a=>{let l=s;for(let o of a)for(let c of o.set){let u=n[c.id];if(u){l=l?l+" "+u:u;break}}return l},scope:r}}function hQ(t,e){let n=null;for(let r of t){let s=r.style(e);s&&(n=n?n+" "+s:s)}return n}function ow(t,e,n,r=0,s=t.length){let a=new fQ(r,Array.isArray(e)?e:[e],n);a.highlightRange(t.cursor(),r,s,"",a.highlighters),a.flush(s)}class fQ{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,s,a){let{type:l,from:o,to:c}=e;if(o>=r||c<=n)return;l.isTop&&(a=this.highlighters.filter(p=>!p.scope||p.scope(l)));let u=s,d=pQ(e)||nd.empty,h=hQ(a,d.tags);if(h&&(u&&(u+=" "),u+=h,d.mode==1&&(s+=(s?" ":"")+h)),this.startSpan(Math.max(n,o),u),d.opaque)return;let f=e.tree&&e.tree.prop(oe.mounted);if(f&&f.overlay){let p=e.node.enter(f.overlay[0].from+o,1),x=this.highlighters.filter(y=>!y.scope||y.scope(f.tree.type)),v=e.firstChild();for(let y=0,g=o;;y++){let m=y<f.overlay.length?f.overlay[y]:null,O=m?m.from+o:c,b=Math.max(n,g),w=Math.min(r,O);if(b<w&&v)for(;e.from<w&&(this.highlightRange(e,b,w,s,a),this.startSpan(Math.min(w,e.to),u),!(e.to>=O||!e.nextSibling())););if(!m||O>r)break;g=m.to+o,g>n&&(this.highlightRange(p.cursor(),Math.max(n,m.from+o),Math.min(r,g),"",x),this.startSpan(Math.min(r,g),u))}v&&e.parent()}else if(e.firstChild()){f&&(s="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,s,a),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function pQ(t){let e=t.type.prop(aw);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const X=er.define,Ac=X(),rs=X(),nv=X(rs),rv=X(rs),ss=X(),Pc=X(ss),df=X(ss),Gn=X(),Bs=X(Gn),Hn=X(),In=X(),ym=X(),cl=X(ym),_c=X(),N={comment:Ac,lineComment:X(Ac),blockComment:X(Ac),docComment:X(Ac),name:rs,variableName:X(rs),typeName:nv,tagName:X(nv),propertyName:rv,attributeName:X(rv),className:X(rs),labelName:X(rs),namespace:X(rs),macroName:X(rs),literal:ss,string:Pc,docString:X(Pc),character:X(Pc),attributeValue:X(Pc),number:df,integer:X(df),float:X(df),bool:X(ss),regexp:X(ss),escape:X(ss),color:X(ss),url:X(ss),keyword:Hn,self:X(Hn),null:X(Hn),atom:X(Hn),unit:X(Hn),modifier:X(Hn),operatorKeyword:X(Hn),controlKeyword:X(Hn),definitionKeyword:X(Hn),moduleKeyword:X(Hn),operator:In,derefOperator:X(In),arithmeticOperator:X(In),logicOperator:X(In),bitwiseOperator:X(In),compareOperator:X(In),updateOperator:X(In),definitionOperator:X(In),typeOperator:X(In),controlOperator:X(In),punctuation:ym,separator:X(ym),bracket:cl,angleBracket:X(cl),squareBracket:X(cl),paren:X(cl),brace:X(cl),content:Gn,heading:Bs,heading1:X(Bs),heading2:X(Bs),heading3:X(Bs),heading4:X(Bs),heading5:X(Bs),heading6:X(Bs),contentSeparator:X(Gn),list:X(Gn),quote:X(Gn),emphasis:X(Gn),strong:X(Gn),link:X(Gn),monospace:X(Gn),strikethrough:X(Gn),inserted:X(),deleted:X(),changed:X(),invalid:X(),meta:_c,documentMeta:X(_c),annotation:X(_c),processingInstruction:X(_c),definition:er.defineModifier(),constant:er.defineModifier(),function:er.defineModifier(),standard:er.defineModifier(),local:er.defineModifier(),special:er.defineModifier()};lw([{tag:N.link,class:"tok-link"},{tag:N.heading,class:"tok-heading"},{tag:N.emphasis,class:"tok-emphasis"},{tag:N.strong,class:"tok-strong"},{tag:N.keyword,class:"tok-keyword"},{tag:N.atom,class:"tok-atom"},{tag:N.bool,class:"tok-bool"},{tag:N.url,class:"tok-url"},{tag:N.labelName,class:"tok-labelName"},{tag:N.inserted,class:"tok-inserted"},{tag:N.deleted,class:"tok-deleted"},{tag:N.literal,class:"tok-literal"},{tag:N.string,class:"tok-string"},{tag:N.number,class:"tok-number"},{tag:[N.regexp,N.escape,N.special(N.string)],class:"tok-string2"},{tag:N.variableName,class:"tok-variableName"},{tag:N.local(N.variableName),class:"tok-variableName tok-local"},{tag:N.definition(N.variableName),class:"tok-variableName tok-definition"},{tag:N.special(N.variableName),class:"tok-variableName2"},{tag:N.definition(N.propertyName),class:"tok-propertyName tok-definition"},{tag:N.typeName,class:"tok-typeName"},{tag:N.namespace,class:"tok-namespace"},{tag:N.className,class:"tok-className"},{tag:N.macroName,class:"tok-macroName"},{tag:N.propertyName,class:"tok-propertyName"},{tag:N.operator,class:"tok-operator"},{tag:N.comment,class:"tok-comment"},{tag:N.meta,class:"tok-meta"},{tag:N.invalid,class:"tok-invalid"},{tag:N.punctuation,class:"tok-punctuation"}]);var hf;const Fi=new oe;function cw(t){return te.define({combine:t?e=>e.concat(t):void 0})}const x0=new oe;class Dn{constructor(e,n,r=[],s=""){this.data=e,this.name=s,be.prototype.hasOwnProperty("tree")||Object.defineProperty(be.prototype,"tree",{get(){return bt(this)}}),this.parser=n,this.extension=[Ra.of(this),be.languageData.of((a,l,o)=>{let c=sv(a,l,o),u=c.type.prop(Fi);if(!u)return[];let d=a.facet(u),h=c.type.prop(x0);if(h){let f=c.resolve(l-c.from,o);for(let p of h)if(p.test(f,a)){let x=a.facet(p.facet);return p.type=="replace"?x:x.concat(d)}}return d})].concat(r)}isActiveAt(e,n,r=-1){return sv(e,n,r).type.prop(Fi)==this.data}findRegions(e){let n=e.facet(Ra);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],s=(a,l)=>{if(a.prop(Fi)==this.data){r.push({from:l,to:l+a.length});return}let o=a.prop(oe.mounted);if(o){if(o.tree.prop(Fi)==this.data){if(o.overlay)for(let c of o.overlay)r.push({from:c.from+l,to:c.to+l});else r.push({from:l,to:l+a.length});return}else if(o.overlay){let c=r.length;if(s(o.tree,o.overlay[0].from+l),r.length>c)return}}for(let c=0;c<a.children.length;c++){let u=a.children[c];u instanceof He&&s(u,a.positions[c]+l)}};return s(bt(e),0),r}get allowsNesting(){return!0}}Dn.setState=_e.define();function sv(t,e,n){let r=t.facet(Ra),s=bt(t).topNode;if(!r||r.allowsNesting)for(let a=s;a;a=a.enter(e,n,Ze.ExcludeBuffers))a.type.isTop&&(s=a);return s}class Ca extends Dn{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=cw(e.languageData);return new Ca(n,e.parser.configure({props:[Fi.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Ca(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function bt(t){let e=t.field(Dn.state,!1);return e?e.tree:He.empty}class mQ{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let ul=null;class rd{constructor(e,n,r=[],s,a,l,o,c){this.parser=e,this.state=n,this.fragments=r,this.tree=s,this.treeLen=a,this.viewport=l,this.skipped=o,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new rd(e,n,[],He.empty,0,r,[],null)}startParse(){return this.parser.startParse(new mQ(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=He.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Dr.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Dr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=ul;ul=this;try{return e()}finally{ul=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=iv(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:s,treeLen:a,viewport:l,skipped:o}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((u,d,h,f)=>c.push({fromA:u,toA:d,fromB:h,toB:f})),r=Dr.applyChanges(r,c),s=He.empty,a=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){o=[];for(let u of this.skipped){let d=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);d<h&&o.push({from:d,to:h})}}}return new rd(this.parser,n,r,s,a,l,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:s,to:a}=this.skipped[r];s<e.to&&a>e.from&&(this.fragments=iv(this.fragments,s,a),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends iw{createParse(n,r,s){let a=s[0].from,l=s[s.length-1].to;return{parsedPos:a,advance(){let c=ul;if(c){for(let u of s)c.tempSkipped.push(u);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=l,new He(Wt.none,[],[],l-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return ul}}function iv(t,e,n){return Dr.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Ta{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Ta(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=rd.create(e.facet(Ra).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Ta(r)}}Dn.state=Un.define({create:Ta.init,update(t,e){for(let n of e.effects)if(n.is(Dn.setState))return n.value;return e.startState.facet(Ra)!=e.state.facet(Ra)?Ta.init(e.state):t.apply(e)}});let uw=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(uw=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const ff=typeof navigator<"u"&&(!((hf=navigator.scheduling)===null||hf===void 0)&&hf.isInputPending)?()=>navigator.scheduling.isInputPending():null,gQ=Nn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Dn.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Dn.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=uw(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:s}}=this.view,a=r.field(Dn.state);if(a.tree==a.context.tree&&a.context.isDone(s+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!ff?Math.max(25,e.timeRemaining()-5):1e9),o=a.context.treeLen<s&&r.doc.length>s+1e3,c=a.context.work(()=>ff&&ff()||Date.now()>l,s+(o?0:1e5));this.chunkBudget-=Date.now()-n,(c||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:Dn.setState.of(new Ta(a.context))})),this.chunkBudget>0&&!(c&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>lr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ra=te.define({combine(t){return t.length?t[0]:null},enables:t=>[Dn.state,gQ,ie.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class O0{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const xQ=te.define(),Wd=te.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function sd(t){let e=t.facet(Wd);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function id(t,e){let n="",r=t.tabSize,s=t.facet(Wd)[0];if(s=="	"){for(;e>=r;)n+="	",e-=r;s=" "}for(let a=0;a<e;a++)n+=s;return n}function dw(t,e){t instanceof be&&(t=new Hd(t));for(let r of t.state.facet(xQ)){let s=r(t,e);if(s!==void 0)return s}let n=bt(t.state);return n.length>=e?OQ(t,n,e):null}class Hd{constructor(e,n={}){this.state=e,this.options=n,this.unit=sd(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:a}=this.options;return s!=null&&s>=r.from&&s<=r.to?a&&s==e?{text:"",from:e}:(n<0?s<e:s<=e)?{text:r.text.slice(s-r.from),from:s}:{text:r.text.slice(0,s-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:s}=this.lineAt(e,n);return r.slice(e-s,Math.min(r.length,e+100-s))}column(e,n=1){let{text:r,from:s}=this.lineAt(e,n),a=this.countColumn(r,e-s),l=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return l>-1&&(a+=l-this.countColumn(r,r.search(/\S|$/))),a}countColumn(e,n=e.length){return Vo(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:s}=this.lineAt(e,n),a=this.options.overrideIndentation;if(a){let l=a(s);if(l>-1)return l}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Id=new oe;function OQ(t,e,n){let r=e.resolveStack(n),s=r.node.enterUnfinishedNodesBefore(n);if(s!=r.node){let a=[];for(let l=s;l!=r.node;l=l.parent)a.push(l);for(let l=a.length-1;l>=0;l--)r={node:a[l],next:r}}return hw(r,t,n)}function hw(t,e,n){for(let r=t;r;r=r.next){let s=bQ(r.node);if(s)return s(v0.create(e,n,r))}return 0}function vQ(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function bQ(t){let e=t.type.prop(Id);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(oe.closedBy))){let s=t.lastChild,a=s&&r.indexOf(s.name)>-1;return l=>fw(l,!0,1,void 0,a&&!vQ(l)?s.from:void 0)}return t.parent==null?yQ:null}function yQ(){return 0}class v0 extends Hd{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new v0(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(jQ(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return hw(this.context.next,this.base,this.pos)}}function jQ(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function SQ(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let s=t.options.simulateBreak,a=t.state.doc.lineAt(n.from),l=s==null||s<=a.from?a.to:Math.min(a.to,s);for(let o=n.to;;){let c=e.childAfter(o);if(!c||c==r)return null;if(!c.type.isSkipped)return c.from<l?n:null;o=c.to}}function wQ({closing:t,align:e=!0,units:n=1}){return r=>fw(r,e,n,t)}function fw(t,e,n,r,s){let a=t.textAfter,l=a.match(/^\s*/)[0].length,o=r&&a.slice(l,l+r.length)==r||s==t.pos+l,c=e?SQ(t):null;return c?o?t.column(c.from):t.column(c.to):t.baseIndent+(o?0:t.unit*n)}const kQ=t=>t.baseIndent;function hu({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const b0=new oe;function pw(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class Gd{constructor(e,n){this.specs=e;let r;function s(o){let c=Cs.newName();return(r||(r=Object.create(null)))["."+c]=o,c}const a=typeof n.all=="string"?n.all:n.all?s(n.all):void 0,l=n.scope;this.scope=l instanceof Dn?o=>o.prop(Fi)==l.data:l?o=>o==l:void 0,this.style=lw(e.map(o=>({tag:o.tag,class:o.class||s(Object.assign({},o,{tag:null}))})),{all:a}).style,this.module=r?new Cs(r):null,this.themeType=n.themeType}static define(e,n){return new Gd(e,n||{})}}const jm=te.define(),$Q=te.define({combine(t){return t.length?[t[0]]:null}});function pf(t){let e=t.facet(jm);return e.length?e:t.facet($Q)}function NQ(t,e){let n=[TQ],r;return t instanceof Gd&&(t.module&&n.push(ie.styleModule.of(t.module)),r=t.themeType),r?n.push(jm.computeN([ie.darkTheme],s=>s.facet(ie.darkTheme)==(r=="dark")?[t]:[])):n.push(jm.of(t)),n}class CQ{constructor(e){this.markCache=Object.create(null),this.tree=bt(e.state),this.decorations=this.buildDeco(e,pf(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=bt(e.state),r=pf(e.state),s=r!=pf(e.startState),{viewport:a}=e.view,l=e.changes.mapPos(this.decoratedTo,1);n.length<a.to&&!s&&n.type==this.tree.type&&l>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(n!=this.tree||e.viewportChanged||s)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=a.to)}buildDeco(e,n){if(!n||!this.tree.length)return ue.none;let r=new ka;for(let{from:s,to:a}of e.visibleRanges)ow(this.tree,n,(l,o,c)=>{r.add(l,o,this.markCache[c]||(this.markCache[c]=ue.mark({class:c})))},s,a);return r.finish()}}const TQ=Bd.high(Nn.fromClass(CQ,{decorations:t=>t.decorations})),RQ=ie.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),mw=1e4,gw="()[]{}",xw=te.define({combine(t){return Ud(t,{afterCursor:!0,brackets:gw,maxScanDistance:mw,renderMatch:PQ})}}),QQ=ue.mark({class:"cm-matchingBracket"}),AQ=ue.mark({class:"cm-nonmatchingBracket"});function PQ(t){let e=[],n=t.matched?QQ:AQ;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const _Q=Un.define({create(){return ue.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(xw);for(let s of e.state.selection.ranges){if(!s.empty)continue;let a=cr(e.state,s.head,-1,r)||s.head>0&&cr(e.state,s.head-1,1,r)||r.afterCursor&&(cr(e.state,s.head,1,r)||s.head<e.state.doc.length&&cr(e.state,s.head+1,-1,r));a&&(n=n.concat(r.renderMatch(a,e.state)))}return ue.set(n,!0)},provide:t=>ie.decorations.from(t)}),EQ=[_Q,RQ];function MQ(t={}){return[xw.of(t),EQ]}const Ow=new oe;function Sm(t,e,n){let r=t.prop(e<0?oe.openedBy:oe.closedBy);if(r)return r;if(t.name.length==1){let s=n.indexOf(t.name);if(s>-1&&s%2==(e<0?1:0))return[n[s+e]]}return null}function wm(t){let e=t.type.prop(Ow);return e?e(t.node):t}function cr(t,e,n,r={}){let s=r.maxScanDistance||mw,a=r.brackets||gw,l=bt(t),o=l.resolveInner(e,n);for(let c=o;c;c=c.parent){let u=Sm(c.type,n,a);if(u&&c.from<c.to){let d=wm(c);if(d&&(n>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return DQ(t,e,n,c,d,u,a)}}return ZQ(t,e,n,l,o.type,s,a)}function DQ(t,e,n,r,s,a,l){let o=r.parent,c={from:s.from,to:s.to},u=0,d=o==null?void 0:o.cursor();if(d&&(n<0?d.childBefore(r.from):d.childAfter(r.to)))do if(n<0?d.to<=r.from:d.from>=r.to){if(u==0&&a.indexOf(d.type.name)>-1&&d.from<d.to){let h=wm(d);return{start:c,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(Sm(d.type,n,l))u++;else if(Sm(d.type,-n,l)){if(u==0){let h=wm(d);return{start:c,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(n<0?d.prevSibling():d.nextSibling());return{start:c,matched:!1}}function ZQ(t,e,n,r,s,a,l){let o=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),c=l.indexOf(o);if(c<0||c%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},d=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!d.next().done&&f<=a;){let p=d.value;n<0&&(f+=p.length);let x=e+f*n;for(let v=n>0?0:p.length-1,y=n>0?p.length:-1;v!=y;v+=n){let g=l.indexOf(p[v]);if(!(g<0||r.resolveInner(x+v,1).type!=s))if(g%2==0==n>0)h++;else{if(h==1)return{start:u,end:{from:x+v,to:x+v+1},matched:g>>1==c>>1};h--}}n>0&&(f+=p.length)}return d.done?{start:u,matched:!1}:null}const zQ=Object.create(null),av=[Wt.none],lv=[],ov=Object.create(null),LQ=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])LQ[t]=BQ(zQ,e);function mf(t,e){lv.indexOf(t)>-1||(lv.push(t),console.warn(e))}function BQ(t,e){let n=[];for(let o of e.split(" ")){let c=[];for(let u of o.split(".")){let d=t[u]||N[u];d?typeof d=="function"?c.length?c=c.map(d):mf(u,`Modifier ${u} used at start of tag`):c.length?mf(u,`Tag ${u} used as modifier`):c=Array.isArray(d)?d:[d]:mf(u,`Unknown highlighting tag ${u}`)}for(let u of c)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),s=r+" "+n.map(o=>o.id),a=ov[s];if(a)return a.id;let l=ov[s]=Wt.define({id:av.length,name:r,props:[Vd({[r]:n})]});return av.push(l),l.id}mt.RTL,mt.LTR;function cv(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function XQ(t){let e=Object.create(null),n=Object.create(null);for(let{label:s}of t){e[s[0]]=!0;for(let a=1;a<s.length;a++)n[s[a]]=!0}let r=cv(e)+cv(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function UQ(t){let e=t.map(s=>typeof s=="string"?{label:s}:s),[n,r]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:XQ(e);return s=>{let a=s.matchBefore(r);return a||s.explicit?{from:a?a.from:s.pos,options:e,validFor:n}:null}}function qQ(t,e){return n=>{for(let r=bt(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}const YQ=zn.define(),VQ=ie.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class WQ{constructor(e,n,r,s){this.field=e,this.line=n,this.from=r,this.to=s}}class y0{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,At.TrackDel),r=e.mapPos(this.to,1,At.TrackDel);return n==null||r==null?null:new y0(this.field,n,r)}}class j0{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],s=[n],a=e.doc.lineAt(n),l=/^\s*/.exec(a.text)[0];for(let c of this.lines){if(r.length){let u=l,d=/^\t*/.exec(c)[0].length;for(let h=0;h<d;h++)u+=e.facet(Wd);s.push(n+u.length-d),c=u+c.slice(d)}r.push(c),n+=c.length+1}let o=this.fieldPositions.map(c=>new y0(c.field,s[c.line]+c.from,s[c.line]+c.to));return{text:r,ranges:o}}static parse(e){let n=[],r=[],s=[],a;for(let l of e.split(/\r\n?|\n/)){for(;a=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(l);){let o=a[1]?+a[1]:null,c=a[2]||a[3]||"",u=-1,d=c.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<n.length;h++)(o!=null?n[h].seq==o:d&&n[h].name==d)&&(u=h);if(u<0){let h=0;for(;h<n.length&&(o==null||n[h].seq!=null&&n[h].seq<o);)h++;n.splice(h,0,{seq:o,name:d}),u=h;for(let f of s)f.field>=u&&f.field++}s.push(new WQ(u,r.length,a.index,a.index+d.length)),l=l.slice(0,a.index)+c+l.slice(a.index+a[0].length)}l=l.replace(/\\([{}])/g,(o,c,u)=>{for(let d of s)d.line==r.length&&d.from>u&&(d.from--,d.to--);return c}),r.push(l)}return new j0(r,s)}}let HQ=ue.widget({widget:new class extends Va{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),IQ=ue.mark({class:"cm-snippetField"});class Wa{constructor(e,n){this.ranges=e,this.active=n,this.deco=ue.set(e.map(r=>(r.from==r.to?HQ:IQ).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let s=r.map(e);if(!s)return null;n.push(s)}return new Wa(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const Io=_e.define({map(t,e){return t&&t.map(e)}}),GQ=_e.define(),To=Un.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(Io))return n.value;if(n.is(GQ)&&t)return new Wa(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>ie.decorations.from(t,e=>e?e.deco:ue.none)});function S0(t,e){return Z.create(t.filter(n=>n.field==e).map(n=>Z.range(n.from,n.to)))}function FQ(t){let e=j0.parse(t);return(n,r,s,a)=>{let{text:l,ranges:o}=e.instantiate(n.state,s),c={changes:{from:s,to:a,insert:me.of(l)},scrollIntoView:!0,annotations:r?[YQ.of(r),at.userEvent.of("input.complete")]:void 0};if(o.length&&(c.selection=S0(o,0)),o.some(u=>u.field>0)){let u=new Wa(o,0),d=c.effects=[Io.of(u)];n.state.field(To,!1)===void 0&&d.push(_e.appendConfig.of([To,nA,rA,VQ]))}n.dispatch(n.state.update(c))}}function vw(t){return({state:e,dispatch:n})=>{let r=e.field(To,!1);if(!r||t<0&&r.active==0)return!1;let s=r.active+t,a=t>0&&!r.ranges.some(l=>l.field==s+t);return n(e.update({selection:S0(r.ranges,s),effects:Io.of(a?null:new Wa(r.ranges,s)),scrollIntoView:!0})),!0}}const JQ=({state:t,dispatch:e})=>t.field(To,!1)?(e(t.update({effects:Io.of(null)})),!0):!1,KQ=vw(1),eA=vw(-1),tA=[{key:"Tab",run:KQ,shift:eA},{key:"Escape",run:JQ}],uv=te.define({combine(t){return t.length?t[0]:tA}}),nA=Bd.highest(Ku.compute([uv],t=>t.facet(uv)));function Ft(t,e){return Object.assign(Object.assign({},e),{apply:FQ(t)})}const rA=ie.domEventHandlers({mousedown(t,e){let n=e.state.field(To,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let s=n.ranges.find(a=>a.from<=r&&a.to>=r);return!s||s.field==n.active?!1:(e.dispatch({selection:S0(n.ranges,s.field),effects:Io.of(n.ranges.some(a=>a.field>s.field)?new Wa(n.ranges,s.field):null),scrollIntoView:!0}),!0)}}),Ro={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Js=_e.define({map(t,e){let n=e.mapPos(t,-1,At.TrackAfter);return n??void 0}}),w0=new class extends ui{};w0.startSide=1;w0.endSide=-1;const bw=Un.define({create(){return ye.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Js)&&(t=t.update({add:[w0.range(n.value,n.value+1)]}));return t}});function sA(){return[aA,bw]}const gf="()[]{}<>";function yw(t){for(let e=0;e<gf.length;e+=2)if(gf.charCodeAt(e)==t)return gf.charAt(e+1);return TC(t<128?t:t+1)}function jw(t,e){return t.languageDataAt("closeBrackets",e)[0]||Ro}const iA=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),aA=ie.inputHandler.of((t,e,n,r)=>{if((iA?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let s=t.state.selection.main;if(r.length>2||r.length==2&&wa(pr(r,0))==1||e!=s.from||n!=s.to)return!1;let a=cA(t.state,r);return a?(t.dispatch(a),!0):!1}),lA=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=jw(t,t.selection.main.head).brackets||Ro.brackets,s=null,a=t.changeByRange(l=>{if(l.empty){let o=uA(t.doc,l.head);for(let c of r)if(c==o&&Fd(t.doc,l.head)==yw(pr(c,0)))return{changes:{from:l.head-c.length,to:l.head+c.length},range:Z.cursor(l.head-c.length)}}return{range:s=l}});return s||e(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},oA=[{key:"Backspace",run:lA}];function cA(t,e){let n=jw(t,t.selection.main.head),r=n.brackets||Ro.brackets;for(let s of r){let a=yw(pr(s,0));if(e==s)return a==s?fA(t,s,r.indexOf(s+s+s)>-1,n):dA(t,s,a,n.before||Ro.before);if(e==a&&Sw(t,t.selection.main.from))return hA(t,s,a)}return null}function Sw(t,e){let n=!1;return t.field(bw).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Fd(t,e){let n=t.sliceString(e,e+2);return n.slice(0,wa(pr(n,0)))}function uA(t,e){let n=t.sliceString(e-2,e);return wa(pr(n,0))==n.length?n:n.slice(1)}function dA(t,e,n,r){let s=null,a=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:n,from:l.to}],effects:Js.of(l.to+e.length),range:Z.range(l.anchor+e.length,l.head+e.length)};let o=Fd(t.doc,l.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:l.head},effects:Js.of(l.head+e.length),range:Z.cursor(l.head+e.length)}:{range:s=l}});return s?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function hA(t,e,n){let r=null,s=t.changeByRange(a=>a.empty&&Fd(t.doc,a.head)==n?{changes:{from:a.head,to:a.head+n.length,insert:n},range:Z.cursor(a.head+n.length)}:r={range:a});return r?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function fA(t,e,n,r){let s=r.stringPrefixes||Ro.stringPrefixes,a=null,l=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:Js.of(o.to+e.length),range:Z.range(o.anchor+e.length,o.head+e.length)};let c=o.head,u=Fd(t.doc,c),d;if(u==e){if(dv(t,c))return{changes:{insert:e+e,from:c},effects:Js.of(c+e.length),range:Z.cursor(c+e.length)};if(Sw(t,c)){let f=n&&t.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+f.length,insert:f},range:Z.cursor(c+f.length)}}}else{if(n&&t.sliceDoc(c-2*e.length,c)==e+e&&(d=hv(t,c-2*e.length,s))>-1&&dv(t,d))return{changes:{insert:e+e+e+e,from:c},effects:Js.of(c+e.length),range:Z.cursor(c+e.length)};if(t.charCategorizer(c)(u)!=vn.Word&&hv(t,c,s)>-1&&!pA(t,c,e,s))return{changes:{insert:e+e,from:c},effects:Js.of(c+e.length),range:Z.cursor(c+e.length)}}return{range:a=o}});return a?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function dv(t,e){let n=bt(t).resolveInner(e+1);return n.parent&&n.from==e}function pA(t,e,n,r){let s=bt(t).resolveInner(e,-1),a=r.reduce((l,o)=>Math.max(l,o.length),0);for(let l=0;l<5;l++){let o=t.sliceDoc(s.from,Math.min(s.to,s.from+n.length+a)),c=o.indexOf(n);if(!c||c>-1&&r.indexOf(o.slice(0,c))>-1){let d=s.firstChild;for(;d&&d.from==s.from&&d.to-d.from>n.length+c;){if(t.sliceDoc(d.to-n.length,d.to)==n)return!1;d=d.firstChild}return!0}let u=s.to==e&&s.parent;if(!u)break;s=u}return!1}function hv(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=vn.Word)return e;for(let s of n){let a=e-s.length;if(t.sliceDoc(a,e)==s&&r(t.sliceDoc(a-1,a))!=vn.Word)return a}return-1}const mA=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=$0(t.state,n.from);return r.line?gA(t):r.block?OA(t):!1};function k0(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let s=t(e,n);return s?(r(n.update(s)),!0):!1}}const gA=k0(yA,0),xA=k0(ww,0),OA=k0((t,e)=>ww(t,e,bA(e)),0);function $0(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const dl=50;function vA(t,{open:e,close:n},r,s){let a=t.sliceDoc(r-dl,r),l=t.sliceDoc(s,s+dl),o=/\s*$/.exec(a)[0].length,c=/^\s*/.exec(l)[0].length,u=a.length-o;if(a.slice(u-e.length,u)==e&&l.slice(c,c+n.length)==n)return{open:{pos:r-o,margin:o&&1},close:{pos:s+c,margin:c&&1}};let d,h;s-r<=2*dl?d=h=t.sliceDoc(r,s):(d=t.sliceDoc(r,r+dl),h=t.sliceDoc(s-dl,s));let f=/^\s*/.exec(d)[0].length,p=/\s*$/.exec(h)[0].length,x=h.length-p-n.length;return d.slice(f,f+e.length)==e&&h.slice(x,x+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(d.charAt(f+e.length))?1:0},close:{pos:s-p-n.length,margin:/\s/.test(h.charAt(x-1))?1:0}}:null}function bA(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),s=n.to<=r.to?r:t.doc.lineAt(n.to),a=e.length-1;a>=0&&e[a].to>r.from?e[a].to=s.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:s.to})}return e}function ww(t,e,n=e.selection.ranges){let r=n.map(a=>$0(e,a.from).block);if(!r.every(a=>a))return null;let s=n.map((a,l)=>vA(e,r[l],a.from,a.to));if(t!=2&&!s.every(a=>a))return{changes:e.changes(n.map((a,l)=>s[l]?[]:[{from:a.from,insert:r[l].open+" "},{from:a.to,insert:" "+r[l].close}]))};if(t!=1&&s.some(a=>a)){let a=[];for(let l=0,o;l<s.length;l++)if(o=s[l]){let c=r[l],{open:u,close:d}=o;a.push({from:u.pos-c.open.length,to:u.pos+u.margin},{from:d.pos-d.margin,to:d.pos+c.close.length})}return{changes:a}}return null}function yA(t,e,n=e.selection.ranges){let r=[],s=-1;for(let{from:a,to:l}of n){let o=r.length,c=1e9,u=$0(e,a).line;if(u){for(let d=a;d<=l;){let h=e.doc.lineAt(d);if(h.from>s&&(a==l||l>h.from)){s=h.from;let f=/^\s*/.exec(h.text)[0].length,p=f==h.length,x=h.text.slice(f,f+u.length)==u?f:-1;f<h.text.length&&f<c&&(c=f),r.push({line:h,comment:x,token:u,indent:f,empty:p,single:!1})}d=h.to+1}if(c<1e9)for(let d=o;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=c);r.length==o+1&&(r[o].single=!0)}}if(t!=2&&r.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:o,token:c,indent:u,empty:d,single:h}of r)(h||!d)&&a.push({from:o.from+u,insert:c+" "});let l=e.changes(a);return{changes:l,selection:e.selection.map(l,1)}}else if(t!=1&&r.some(a=>a.comment>=0)){let a=[];for(let{line:l,comment:o,token:c}of r)if(o>=0){let u=l.from+o,d=u+c.length;l.text[d-l.from]==" "&&d++,a.push({from:u,to:d})}return{changes:a}}return null}const km=zn.define(),jA=zn.define(),SA=te.define(),kw=te.define({combine(t){return Ud(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,s)=>e(r,s)||n(r,s)})}}),$w=Un.define({create(){return ur.empty},update(t,e){let n=e.state.facet(kw),r=e.annotation(km);if(r){let c=nn.fromTransaction(e,r.selection),u=r.side,d=u==0?t.undone:t.done;return c?d=ad(d,d.length,n.minDepth,c):d=Tw(d,e.startState.selection),new ur(u==0?r.rest:d,u==0?d:r.rest)}let s=e.annotation(jA);if((s=="full"||s=="before")&&(t=t.isolate()),e.annotation(at.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let a=nn.fromTransaction(e),l=e.annotation(at.time),o=e.annotation(at.userEvent);return a?t=t.addChanges(a,l,o,n,e):e.selection&&(t=t.addSelection(e.startState.selection,l,o,n.newGroupDelay)),(s=="full"||s=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new ur(t.done.map(nn.fromJSON),t.undone.map(nn.fromJSON))}});function wA(t={}){return[$w,kw.of(t),ie.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?Nw:e.inputType=="historyRedo"?$m:null;return r?(e.preventDefault(),r(n)):!1}})]}function Jd(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let s=n.field($w,!1);if(!s)return!1;let a=s.pop(t,n,e);return a?(r(a),!0):!1}}const Nw=Jd(0,!1),$m=Jd(1,!1),kA=Jd(0,!0),$A=Jd(1,!0);class nn{constructor(e,n,r,s,a){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=s,this.selectionsAfter=a}setSelAfter(e){return new nn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new nn(e.changes&&ft.fromJSON(e.changes),[],e.mapped&&mr.fromJSON(e.mapped),e.startSelection&&Z.fromJSON(e.startSelection),e.selectionsAfter.map(Z.fromJSON))}static fromTransaction(e,n){let r=yn;for(let s of e.startState.facet(SA)){let a=s(e);a.length&&(r=r.concat(a))}return!r.length&&e.changes.empty?null:new nn(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,yn)}static selection(e){return new nn(void 0,yn,void 0,void 0,e)}}function ad(t,e,n,r){let s=e+1>n+20?e-n-1:0,a=t.slice(s,e);return a.push(r),a}function NA(t,e){let n=[],r=!1;return t.iterChangedRanges((s,a)=>n.push(s,a)),e.iterChangedRanges((s,a,l,o)=>{for(let c=0;c<n.length;){let u=n[c++],d=n[c++];o>=u&&l<=d&&(r=!0)}}),r}function CA(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function Cw(t,e){return t.length?e.length?t.concat(e):t:e}const yn=[],TA=200;function Tw(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-TA));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),ad(t,t.length-1,1e9,n.setSelAfter(r)))}else return[nn.selection([e])]}function RA(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function xf(t,e){if(!t.length)return t;let n=t.length,r=yn;for(;n;){let s=QA(t[n-1],e,r);if(s.changes&&!s.changes.empty||s.effects.length){let a=t.slice(0,n);return a[n-1]=s,a}else e=s.mapped,n--,r=s.selectionsAfter}return r.length?[nn.selection(r)]:yn}function QA(t,e,n){let r=Cw(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):yn,n);if(!t.changes)return nn.selection(r);let s=t.changes.map(e),a=e.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(a):a;return new nn(s,_e.mapEffects(t.effects,e),l,t.startSelection.map(a),r)}const AA=/^(input\.type|delete)($|\.)/;class ur{constructor(e,n,r=0,s=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=s}isolate(){return this.prevTime?new ur(this.done,this.undone):this}addChanges(e,n,r,s,a){let l=this.done,o=l[l.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||AA.test(r))&&(!o.selectionsAfter.length&&n-this.prevTime<s.newGroupDelay&&s.joinToEvent(a,NA(o.changes,e.changes))||r=="input.type.compose")?l=ad(l,l.length-1,s.minDepth,new nn(e.changes.compose(o.changes),Cw(e.effects,o.effects),o.mapped,o.startSelection,yn)):l=ad(l,l.length,s.minDepth,e),new ur(l,yn,n,r)}addSelection(e,n,r,s){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:yn;return a.length>0&&n-this.prevTime<s&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&CA(a[a.length-1],e)?this:new ur(Tw(this.done,e),this.undone,n,r)}addMapping(e){return new ur(xf(this.done,e),xf(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let s=e==0?this.done:this.undone;if(s.length==0)return null;let a=s[s.length-1],l=a.selectionsAfter[0]||n.selection;if(r&&a.selectionsAfter.length)return n.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:km.of({side:e,rest:RA(s),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let o=s.length==1?yn:s.slice(0,s.length-1);return a.mapped&&(o=xf(o,a.mapped)),n.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:km.of({side:e,rest:o,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ur.empty=new ur(yn,yn);const PA=[{key:"Mod-z",run:Nw,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:$m,preventDefault:!0},{linux:"Ctrl-Shift-z",run:$m,preventDefault:!0},{key:"Mod-u",run:kA,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:$A,preventDefault:!0}];function Ha(t,e){return Z.create(t.ranges.map(e),t.mainIndex)}function jr(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function qn({state:t,dispatch:e},n){let r=Ha(t.selection,n);return r.eq(t.selection,!0)?!1:(e(jr(t,r)),!0)}function Kd(t,e){return Z.cursor(e?t.to:t.from)}function Rw(t,e){return qn(t,n=>n.empty?t.moveByChar(n,e):Kd(n,e))}function Dt(t){return t.textDirectionAt(t.state.selection.main.head)==mt.LTR}const Qw=t=>Rw(t,!Dt(t)),Aw=t=>Rw(t,Dt(t));function Pw(t,e){return qn(t,n=>n.empty?t.moveByGroup(n,e):Kd(n,e))}const _A=t=>Pw(t,!Dt(t)),EA=t=>Pw(t,Dt(t));function MA(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function eh(t,e,n){let r=bt(t).resolveInner(e.head),s=n?oe.closedBy:oe.openedBy;for(let c=e.head;;){let u=n?r.childAfter(c):r.childBefore(c);if(!u)break;MA(t,u,s)?r=u:c=n?u.to:u.from}let a=r.type.prop(s),l,o;return a&&(l=n?cr(t,r.from,1):cr(t,r.to,-1))&&l.matched?o=n?l.end.to:l.end.from:o=n?r.to:r.from,Z.cursor(o,n?-1:1)}const DA=t=>qn(t,e=>eh(t.state,e,!Dt(t))),ZA=t=>qn(t,e=>eh(t.state,e,Dt(t)));function _w(t,e){return qn(t,n=>{if(!n.empty)return Kd(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const Ew=t=>_w(t,!1),Mw=t=>_w(t,!0);function Dw(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,s;if(e){for(let a of t.state.facet(ie.scrollMargins)){let l=a(t);l!=null&&l.top&&(n=Math.max(l==null?void 0:l.top,n)),l!=null&&l.bottom&&(r=Math.max(l==null?void 0:l.bottom,r))}s=t.scrollDOM.clientHeight-n-r}else s=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,s-5)}}function Zw(t,e){let n=Dw(t),{state:r}=t,s=Ha(r.selection,l=>l.empty?t.moveVertically(l,e,n.height):Kd(l,e));if(s.eq(r.selection))return!1;let a;if(n.selfScroll){let l=t.coordsAtPos(r.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),c=o.top+n.marginTop,u=o.bottom-n.marginBottom;l&&l.top>c&&l.bottom<u&&(a=ie.scrollIntoView(s.main.head,{y:"start",yMargin:l.top-c}))}return t.dispatch(jr(r,s),{effects:a}),!0}const fv=t=>Zw(t,!1),Nm=t=>Zw(t,!0);function Ds(t,e,n){let r=t.lineBlockAt(e.head),s=t.moveToLineBoundary(e,n);if(s.head==e.head&&s.head!=(n?r.to:r.from)&&(s=t.moveToLineBoundary(e,n,!1)),!n&&s.head==r.from&&r.length){let a=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;a&&e.head!=r.from+a&&(s=Z.cursor(r.from+a))}return s}const zA=t=>qn(t,e=>Ds(t,e,!0)),LA=t=>qn(t,e=>Ds(t,e,!1)),BA=t=>qn(t,e=>Ds(t,e,!Dt(t))),XA=t=>qn(t,e=>Ds(t,e,Dt(t))),UA=t=>qn(t,e=>Z.cursor(t.lineBlockAt(e.head).from,1)),qA=t=>qn(t,e=>Z.cursor(t.lineBlockAt(e.head).to,-1));function YA(t,e,n){let r=!1,s=Ha(t.selection,a=>{let l=cr(t,a.head,-1)||cr(t,a.head,1)||a.head>0&&cr(t,a.head-1,1)||a.head<t.doc.length&&cr(t,a.head+1,-1);if(!l||!l.end)return a;r=!0;let o=l.start.from==a.head?l.end.to:l.end.from;return Z.cursor(o)});return r?(e(jr(t,s)),!0):!1}const VA=({state:t,dispatch:e})=>YA(t,e);function Tn(t,e){let n=Ha(t.state.selection,r=>{let s=e(r);return Z.range(r.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(jr(t.state,n)),!0)}function zw(t,e){return Tn(t,n=>t.moveByChar(n,e))}const Lw=t=>zw(t,!Dt(t)),Bw=t=>zw(t,Dt(t));function Xw(t,e){return Tn(t,n=>t.moveByGroup(n,e))}const WA=t=>Xw(t,!Dt(t)),HA=t=>Xw(t,Dt(t)),IA=t=>Tn(t,e=>eh(t.state,e,!Dt(t))),GA=t=>Tn(t,e=>eh(t.state,e,Dt(t)));function Uw(t,e){return Tn(t,n=>t.moveVertically(n,e))}const qw=t=>Uw(t,!1),Yw=t=>Uw(t,!0);function Vw(t,e){return Tn(t,n=>t.moveVertically(n,e,Dw(t).height))}const pv=t=>Vw(t,!1),mv=t=>Vw(t,!0),FA=t=>Tn(t,e=>Ds(t,e,!0)),JA=t=>Tn(t,e=>Ds(t,e,!1)),KA=t=>Tn(t,e=>Ds(t,e,!Dt(t))),eP=t=>Tn(t,e=>Ds(t,e,Dt(t))),tP=t=>Tn(t,e=>Z.cursor(t.lineBlockAt(e.head).from)),nP=t=>Tn(t,e=>Z.cursor(t.lineBlockAt(e.head).to)),gv=({state:t,dispatch:e})=>(e(jr(t,{anchor:0})),!0),xv=({state:t,dispatch:e})=>(e(jr(t,{anchor:t.doc.length})),!0),Ov=({state:t,dispatch:e})=>(e(jr(t,{anchor:t.selection.main.anchor,head:0})),!0),vv=({state:t,dispatch:e})=>(e(jr(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),rP=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),sP=({state:t,dispatch:e})=>{let n=th(t).map(({from:r,to:s})=>Z.range(r,Math.min(s+1,t.doc.length)));return e(t.update({selection:Z.create(n),userEvent:"select"})),!0},iP=({state:t,dispatch:e})=>{let n=Ha(t.selection,r=>{var s;let a=bt(t).resolveStack(r.from,1);for(let l=a;l;l=l.next){let{node:o}=l;if((o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from)&&(!((s=o.parent)===null||s===void 0)&&s.parent))return Z.range(o.to,o.from)}return r});return e(jr(t,n)),!0},aP=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Z.create([n.main]):n.main.empty||(r=Z.create([Z.cursor(n.main.head)])),r?(e(jr(t,r)),!0):!1};function Go(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,s=r.changeByRange(a=>{let{from:l,to:o}=a;if(l==o){let c=e(a);c<l?(n="delete.backward",c=Ec(t,c,!1)):c>l&&(n="delete.forward",c=Ec(t,c,!0)),l=Math.min(l,c),o=Math.max(o,c)}else l=Ec(t,l,!1),o=Ec(t,o,!0);return l==o?{range:a}:{changes:{from:l,to:o},range:Z.cursor(l,l<a.head?-1:1)}});return s.changes.empty?!1:(t.dispatch(r.update(s,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?ie.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Ec(t,e,n){if(t instanceof ie)for(let r of t.state.facet(ie.atomicRanges).map(s=>s(t)))r.between(e,e,(s,a)=>{s<e&&a>e&&(e=n?a:s)});return e}const Ww=(t,e,n)=>Go(t,r=>{let s=r.from,{state:a}=t,l=a.doc.lineAt(s),o,c;if(n&&!e&&s>l.from&&s<l.from+200&&!/[^ \t]/.test(o=l.text.slice(0,s-l.from))){if(o[o.length-1]=="	")return s-1;let u=Vo(o,a.tabSize),d=u%sd(a)||sd(a);for(let h=0;h<d&&o[o.length-1-h]==" ";h++)s--;c=s}else c=Xt(l.text,s-l.from,e,e)+l.from,c==s&&l.number!=(e?a.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(c-l.from,s-l.from))&&(c=Xt(l.text,c-l.from,!1,!1)+l.from);return c}),Cm=t=>Ww(t,!1,!0),Hw=t=>Ww(t,!0,!1),Iw=(t,e)=>Go(t,n=>{let r=n.head,{state:s}=t,a=s.doc.lineAt(r),l=s.charCategorizer(r);for(let o=null;;){if(r==(e?a.to:a.from)){r==n.head&&a.number!=(e?s.doc.lines:1)&&(r+=e?1:-1);break}let c=Xt(a.text,r-a.from,e)+a.from,u=a.text.slice(Math.min(r,c)-a.from,Math.max(r,c)-a.from),d=l(u);if(o!=null&&d!=o)break;(u!=" "||r!=n.head)&&(o=d),r=c}return r}),N0=t=>Iw(t,!1),lP=t=>Iw(t,!0),oP=t=>Go(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),cP=t=>Go(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),uP=t=>Go(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),dP=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:me.of(["",""])},range:Z.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},hP=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let s=r.from,a=t.doc.lineAt(s),l=s==a.from?s-1:Xt(a.text,s-a.from,!1)+a.from,o=s==a.to?s+1:Xt(a.text,s-a.from,!0)+a.from;return{changes:{from:l,to:o,insert:t.doc.slice(s,o).append(t.doc.slice(l,s))},range:Z.cursor(o)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function th(t){let e=[],n=-1;for(let r of t.selection.ranges){let s=t.doc.lineAt(r.from),a=t.doc.lineAt(r.to);if(!r.empty&&r.to==a.from&&(a=t.doc.lineAt(r.to-1)),n>=s.number){let l=e[e.length-1];l.to=a.to,l.ranges.push(r)}else e.push({from:s.from,to:a.to,ranges:[r]});n=a.number+1}return e}function Gw(t,e,n){if(t.readOnly)return!1;let r=[],s=[];for(let a of th(t)){if(n?a.to==t.doc.length:a.from==0)continue;let l=t.doc.lineAt(n?a.to+1:a.from-1),o=l.length+1;if(n){r.push({from:a.to,to:l.to},{from:a.from,insert:l.text+t.lineBreak});for(let c of a.ranges)s.push(Z.range(Math.min(t.doc.length,c.anchor+o),Math.min(t.doc.length,c.head+o)))}else{r.push({from:l.from,to:a.from},{from:a.to,insert:t.lineBreak+l.text});for(let c of a.ranges)s.push(Z.range(c.anchor-o,c.head-o))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Z.create(s,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const fP=({state:t,dispatch:e})=>Gw(t,e,!1),pP=({state:t,dispatch:e})=>Gw(t,e,!0);function Fw(t,e,n){if(t.readOnly)return!1;let r=[];for(let s of th(t))n?r.push({from:s.from,insert:t.doc.slice(s.from,s.to)+t.lineBreak}):r.push({from:s.to,insert:t.lineBreak+t.doc.slice(s.from,s.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const mP=({state:t,dispatch:e})=>Fw(t,e,!1),gP=({state:t,dispatch:e})=>Fw(t,e,!0),xP=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(th(e).map(({from:s,to:a})=>(s>0?s--:a<e.doc.length&&a++,{from:s,to:a}))),r=Ha(e.selection,s=>{let a;if(t.lineWrapping){let l=t.lineBlockAt(s.head),o=t.coordsAtPos(s.head,s.assoc||1);o&&(a=l.bottom+t.documentTop-o.bottom+t.defaultLineHeight/2)}return t.moveVertically(s,!0,a)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function OP(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=bt(t).resolveInner(e),r=n.childBefore(e),s=n.childAfter(e),a;return r&&s&&r.to<=e&&s.from>=e&&(a=r.type.prop(oe.closedBy))&&a.indexOf(s.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(r.to,s.from))?{from:r.to,to:s.from}:null}const vP=Jw(!1),bP=Jw(!0);function Jw(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(s=>{let{from:a,to:l}=s,o=e.doc.lineAt(a),c=!t&&a==l&&OP(e,a);t&&(a=l=(l<=o.to?o:e.doc.lineAt(l)).to);let u=new Hd(e,{simulateBreak:a,simulateDoubleBreak:!!c}),d=dw(u,a);for(d==null&&(d=Vo(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));l<o.to&&/\s/.test(o.text[l-o.from]);)l++;c?{from:a,to:l}=c:a>o.from&&a<o.from+100&&!/\S/.test(o.text.slice(0,a))&&(a=o.from);let h=["",id(e,d)];return c&&h.push(id(e,u.lineIndent(o.from,-1))),{changes:{from:a,to:l,insert:me.of(h)},range:Z.cursor(a+1+h[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function C0(t,e){let n=-1;return t.changeByRange(r=>{let s=[];for(let l=r.from;l<=r.to;){let o=t.doc.lineAt(l);o.number>n&&(r.empty||r.to>o.from)&&(e(o,s,r),n=o.number),l=o.to+1}let a=t.changes(s);return{changes:s,range:Z.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}const yP=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Hd(t,{overrideIndentation:a=>{let l=n[a];return l??-1}}),s=C0(t,(a,l,o)=>{let c=dw(r,a.from);if(c==null)return;/\S/.test(a.text)||(c=0);let u=/^\s*/.exec(a.text)[0],d=id(t,c);(u!=d||o.from<a.from+u.length)&&(n[a.from]=c,l.push({from:a.from,to:a.from+u.length,insert:d}))});return s.changes.empty||e(t.update(s,{userEvent:"indent"})),!0},Kw=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(C0(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Wd)})}),{userEvent:"input.indent"})),!0),e4=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(C0(t,(n,r)=>{let s=/^\s*/.exec(n.text)[0];if(!s)return;let a=Vo(s,t.tabSize),l=0,o=id(t,Math.max(0,a-sd(t)));for(;l<s.length&&l<o.length&&s.charCodeAt(l)==o.charCodeAt(l);)l++;r.push({from:n.from+l,to:n.from+s.length,insert:o.slice(l)})}),{userEvent:"delete.dedent"})),!0),jP=t=>(t.setTabFocusMode(),!0),SP=[{key:"Ctrl-b",run:Qw,shift:Lw,preventDefault:!0},{key:"Ctrl-f",run:Aw,shift:Bw},{key:"Ctrl-p",run:Ew,shift:qw},{key:"Ctrl-n",run:Mw,shift:Yw},{key:"Ctrl-a",run:UA,shift:tP},{key:"Ctrl-e",run:qA,shift:nP},{key:"Ctrl-d",run:Hw},{key:"Ctrl-h",run:Cm},{key:"Ctrl-k",run:oP},{key:"Ctrl-Alt-h",run:N0},{key:"Ctrl-o",run:dP},{key:"Ctrl-t",run:hP},{key:"Ctrl-v",run:Nm}],wP=[{key:"ArrowLeft",run:Qw,shift:Lw,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:_A,shift:WA,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:BA,shift:KA,preventDefault:!0},{key:"ArrowRight",run:Aw,shift:Bw,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:EA,shift:HA,preventDefault:!0},{mac:"Cmd-ArrowRight",run:XA,shift:eP,preventDefault:!0},{key:"ArrowUp",run:Ew,shift:qw,preventDefault:!0},{mac:"Cmd-ArrowUp",run:gv,shift:Ov},{mac:"Ctrl-ArrowUp",run:fv,shift:pv},{key:"ArrowDown",run:Mw,shift:Yw,preventDefault:!0},{mac:"Cmd-ArrowDown",run:xv,shift:vv},{mac:"Ctrl-ArrowDown",run:Nm,shift:mv},{key:"PageUp",run:fv,shift:pv},{key:"PageDown",run:Nm,shift:mv},{key:"Home",run:LA,shift:JA,preventDefault:!0},{key:"Mod-Home",run:gv,shift:Ov},{key:"End",run:zA,shift:FA,preventDefault:!0},{key:"Mod-End",run:xv,shift:vv},{key:"Enter",run:vP},{key:"Mod-a",run:rP},{key:"Backspace",run:Cm,shift:Cm},{key:"Delete",run:Hw},{key:"Mod-Backspace",mac:"Alt-Backspace",run:N0},{key:"Mod-Delete",mac:"Alt-Delete",run:lP},{mac:"Mod-Backspace",run:cP},{mac:"Mod-Delete",run:uP}].concat(SP.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),kP=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:DA,shift:IA},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:ZA,shift:GA},{key:"Alt-ArrowUp",run:fP},{key:"Shift-Alt-ArrowUp",run:mP},{key:"Alt-ArrowDown",run:pP},{key:"Shift-Alt-ArrowDown",run:gP},{key:"Escape",run:aP},{key:"Mod-Enter",run:bP},{key:"Alt-l",mac:"Ctrl-l",run:sP},{key:"Mod-i",run:iP,preventDefault:!0},{key:"Mod-[",run:e4},{key:"Mod-]",run:Kw},{key:"Mod-Alt-\\",run:yP},{key:"Shift-Mod-k",run:xP},{key:"Shift-Mod-\\",run:VA},{key:"Mod-/",run:mA},{key:"Alt-A",run:xA},{key:"Ctrl-m",mac:"Shift-Alt-m",run:jP}].concat(wP);(function(){if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}var t=window.document,e=[],n=null,r=null;function s(m){this.time=m.time,this.target=m.target,this.rootBounds=p(m.rootBounds),this.boundingClientRect=p(m.boundingClientRect),this.intersectionRect=p(m.intersectionRect||f()),this.isIntersecting=!!m.intersectionRect;var O=this.boundingClientRect,b=O.width*O.height,w=this.intersectionRect,S=w.width*w.height;b?this.intersectionRatio=Number((S/b).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function a(m,O){var b=O||{};if(typeof m!="function")throw new Error("callback must be a function");if(b.root&&b.root.nodeType!=1)throw new Error("root must be an Element");this._checkForIntersections=o(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=m,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(b.rootMargin),this.thresholds=this._initThresholds(b.threshold),this.root=b.root||null,this.rootMargin=this._rootMarginValues.map(function(w){return w.value+w.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(m,O){!m||!O?r=f():r=x(m,O),e.forEach(function(b){b._checkForIntersections()})}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(m){var O=this._observationTargets.some(function(b){return b.element==m});if(!O){if(!(m&&m.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:m,entry:null}),this._monitorIntersections(m.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(m){this._observationTargets=this._observationTargets.filter(function(O){return O.element!=m}),this._unmonitorIntersections(m.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var m=this._queuedEntries.slice();return this._queuedEntries=[],m},a.prototype._initThresholds=function(m){var O=m||[0];return Array.isArray(O)||(O=[O]),O.sort().filter(function(b,w,S){if(typeof b!="number"||isNaN(b)||b<0||b>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return b!==S[w-1]})},a.prototype._parseRootMargin=function(m){var O=m||"0px",b=O.split(/\s+/).map(function(w){var S=/^(-?\d*\.?\d+)(px|%)$/.exec(w);if(!S)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(S[1]),unit:S[2]}});return b[1]=b[1]||b[0],b[2]=b[2]||b[0],b[3]=b[3]||b[1],b},a.prototype._monitorIntersections=function(m){var O=m.defaultView;if(O&&this._monitoringDocuments.indexOf(m)==-1){var b=this._checkForIntersections,w=null,S=null;if(this.POLL_INTERVAL?w=O.setInterval(b,this.POLL_INTERVAL):(c(O,"resize",b,!0),c(m,"scroll",b,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in O&&(S=new O.MutationObserver(b),S.observe(m,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(m),this._monitoringUnsubscribes.push(function(){var $=m.defaultView;$&&(w&&$.clearInterval(w),u($,"resize",b,!0)),u(m,"scroll",b,!0),S&&S.disconnect()}),m!=(this.root&&this.root.ownerDocument||t)){var k=g(m);k&&this._monitorIntersections(k.ownerDocument)}}},a.prototype._unmonitorIntersections=function(m){var O=this._monitoringDocuments.indexOf(m);if(O!=-1){var b=this.root&&this.root.ownerDocument||t,w=this._observationTargets.some(function($){var _=$.element.ownerDocument;if(_==m)return!0;for(;_&&_!=b;){var R=g(_);if(_=R&&R.ownerDocument,_==m)return!0}return!1});if(!w){var S=this._monitoringUnsubscribes[O];if(this._monitoringDocuments.splice(O,1),this._monitoringUnsubscribes.splice(O,1),S(),m!=b){var k=g(m);k&&this._unmonitorIntersections(k.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var m=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var O=0;O<m.length;O++)m[O]()},a.prototype._checkForIntersections=function(){if(!(!this.root&&n&&!r)){var m=this._rootIsInDom(),O=m?this._getRootRect():f();this._observationTargets.forEach(function(b){var w=b.element,S=h(w),k=this._rootContainsTarget(w),$=b.entry,_=m&&k&&this._computeTargetAndRootIntersection(w,S,O),R=b.entry=new s({time:l(),target:w,boundingClientRect:S,rootBounds:n&&!this.root?null:O,intersectionRect:_});$?m&&k?this._hasCrossedThreshold($,R)&&this._queuedEntries.push(R):$&&$.isIntersecting&&this._queuedEntries.push(R):this._queuedEntries.push(R)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(m,O,b){if(window.getComputedStyle(m).display!="none"){for(var w=O,S=y(m),k=!1;!k&&S;){var $=null,_=S.nodeType==1?window.getComputedStyle(S):{};if(_.display=="none")return null;if(S==this.root||S.nodeType==9)if(k=!0,S==this.root||S==t)n&&!this.root?!r||r.width==0&&r.height==0?(S=null,$=null,w=null):$=r:$=b;else{var R=y(S),z=R&&h(R),E=R&&this._computeTargetAndRootIntersection(R,z,b);z&&E?(S=R,$=x(z,E)):(S=null,w=null)}else{var H=S.ownerDocument;S!=H.body&&S!=H.documentElement&&_.overflow!="visible"&&($=h(S))}if($&&(w=d($,w)),!w)break;S=S&&y(S)}return w}},a.prototype._getRootRect=function(){var m;if(this.root)m=h(this.root);else{var O=t.documentElement,b=t.body;m={top:0,left:0,right:O.clientWidth||b.clientWidth,width:O.clientWidth||b.clientWidth,bottom:O.clientHeight||b.clientHeight,height:O.clientHeight||b.clientHeight}}return this._expandRectByRootMargin(m)},a.prototype._expandRectByRootMargin=function(m){var O=this._rootMarginValues.map(function(w,S){return w.unit=="px"?w.value:w.value*(S%2?m.width:m.height)/100}),b={top:m.top-O[0],right:m.right+O[1],bottom:m.bottom+O[2],left:m.left-O[3]};return b.width=b.right-b.left,b.height=b.bottom-b.top,b},a.prototype._hasCrossedThreshold=function(m,O){var b=m&&m.isIntersecting?m.intersectionRatio||0:-1,w=O.isIntersecting?O.intersectionRatio||0:-1;if(b!==w)for(var S=0;S<this.thresholds.length;S++){var k=this.thresholds[S];if(k==b||k==w||k<b!=k<w)return!0}},a.prototype._rootIsInDom=function(){return!this.root||v(t,this.root)},a.prototype._rootContainsTarget=function(m){return v(this.root||t,m)&&(!this.root||this.root.ownerDocument==m.ownerDocument)},a.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},a.prototype._unregisterInstance=function(){var m=e.indexOf(this);m!=-1&&e.splice(m,1)};function l(){return window.performance&&performance.now&&performance.now()}function o(m,O){var b=null;return function(){b||(b=setTimeout(function(){m(),b=null},O))}}function c(m,O,b,w){typeof m.addEventListener=="function"?m.addEventListener(O,b,w):typeof m.attachEvent=="function"&&m.attachEvent("on"+O,b)}function u(m,O,b,w){typeof m.removeEventListener=="function"?m.removeEventListener(O,b,w):typeof m.detatchEvent=="function"&&m.detatchEvent("on"+O,b)}function d(m,O){var b=Math.max(m.top,O.top),w=Math.min(m.bottom,O.bottom),S=Math.max(m.left,O.left),k=Math.min(m.right,O.right),$=k-S,_=w-b;return $>=0&&_>=0&&{top:b,bottom:w,left:S,right:k,width:$,height:_}||null}function h(m){var O;try{O=m.getBoundingClientRect()}catch{}return O?(O.width&&O.height||(O={top:O.top,right:O.right,bottom:O.bottom,left:O.left,width:O.right-O.left,height:O.bottom-O.top}),O):f()}function f(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function p(m){return!m||"x"in m?m:{top:m.top,y:m.top,bottom:m.bottom,left:m.left,x:m.left,right:m.right,width:m.width,height:m.height}}function x(m,O){var b=O.top-m.top,w=O.left-m.left;return{top:b,left:w,height:O.height,width:O.width,bottom:b+O.height,right:w+O.width}}function v(m,O){for(var b=O;b;){if(b==m)return!0;b=y(b)}return!1}function y(m){var O=m.parentNode;return m.nodeType==9&&m!=t?g(m):O&&O.nodeType==11&&O.host?O.host:O&&O.assignedSlot?O.assignedSlot.parentNode:O}function g(m){try{return m.defaultView&&m.defaultView.frameElement||null}catch{return null}}window.IntersectionObserver=a,window.IntersectionObserverEntry=s})();const $P=tr[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"];function NP(t,e={}){const{root:n=null,pollInterval:r=null,useMutationObserver:s=!1,rootMargin:a="0px 0px 0px 0px",threshold:l=0,initialIsIntersecting:o=!1}=e,[c,u]=j.useState(()=>({boundingClientRect:null,intersectionRatio:0,intersectionRect:null,isIntersecting:o,rootBounds:null,target:null,time:0})),[d,h]=j.useState(()=>yv({root:n,pollInterval:r,useMutationObserver:s,rootMargin:a,threshold:l}));return j.useEffect(()=>{const f=yv({root:n,pollInterval:r,useMutationObserver:s,rootMargin:a,threshold:l});h(f)},[n,a,r,s,JSON.stringify(l)]),$P(()=>{const f=t&&"current"in t?t.current:t;if(!d||!f)return;let p=!1;d.observer.observe(f);const x=v=>{if(!p)for(let y=0;y<v.length;y++){const g=v[y];g.target===f&&u(g)}};return d.subscribe(x),()=>{p=!0,d.observer.unobserve(f),d.unsubscribe(x)}},[t,d]),c}function CP({root:t=null,pollInterval:e=null,useMutationObserver:n=!1,rootMargin:r="0px 0px 0px 0px",threshold:s=0}){const a=new Set;if(typeof IntersectionObserver>"u")return null;const l=new IntersectionObserver(o=>{for(const c of a)c(o,l)},{root:t,rootMargin:r,threshold:s});return l.POLL_INTERVAL=e,l.USE_MUTATION_OBSERVER=n,{observer:l,getListeners(){return a},subscribe:o=>a.add(o),unsubscribe:o=>a.delete(o)}}const bv=new Map;function yv(t){const{root:e,...n}=t,r=JSON.stringify(n);let s=bv.get(e);return s||(s={},bv.set(e,s)),s[r]?s[r]:s[r]=CP(t)}var jv={};class ld{constructor(e,n,r,s,a,l,o,c,u,d=0,h){this.p=e,this.stack=n,this.state=r,this.reducePos=s,this.pos=a,this.score=l,this.buffer=o,this.bufferBase=c,this.curContext=u,this.lookAhead=d,this.parent=h}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let s=e.parser.context;return new ld(e,[],n,r,r,0,[],0,s?new Sv(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,s=e&65535,{parser:a}=this.p;this.reducePos<this.pos-25&&this.setLookAhead(this.pos);let l=a.dynamicPrecedence(s);if(l&&(this.score+=l),r==0){this.pushState(a.getGoto(this.state,s,!0),this.reducePos),s<a.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,4,!0),this.reduceContext(s,this.reducePos);return}let o=this.stack.length-(r-1)*3-(e&262144?6:0),c=o?this.stack[o-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[s])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let d=o?this.stack[o-1]:0,h=this.bufferBase+this.buffer.length-d;if(s<a.minRepeatTerm||e&131072){let f=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,c,f,h+4,!0)}if(e&262144)this.state=this.stack[o];else{let f=this.stack[o-3];this.state=a.getGoto(f,s,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(s,c)}storeNode(e,n,r,s=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,o=this.buffer.length;if(o==0&&l.parent&&(o=l.bufferBase-l.parent.bufferBase,l=l.parent),o>0&&l.buffer[o-4]==0&&l.buffer[o-1]>-1){if(n==r)return;if(l.buffer[o-2]>=n){l.buffer[o-2]=r;return}}}if(!a||this.pos==r)this.buffer.push(e,n,r,s);else{let l=this.buffer.length;if(l>0&&this.buffer[l-4]!=0)for(;l>0&&this.buffer[l-2]>r;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,s>4&&(s-=4);this.buffer[l]=e,this.buffer[l+1]=n,this.buffer[l+2]=r,this.buffer[l+3]=s}}shift(e,n,r,s){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=s,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,s,4);else{let a=e,{parser:l}=this.p;(s>this.pos||n<=l.maxNode)&&(this.pos=s,l.stateFlag(a,1)||(this.reducePos=s)),this.pushState(a,r),this.shiftContext(n,r),n<=l.maxNode&&this.buffer.push(n,r,s,4)}}apply(e,n,r,s){e&65536?this.reduce(e):this.shift(e,n,r,s)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(n,s),this.buffer.push(r,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),s=e.bufferBase+n;for(;e&&s==e.bufferBase;)e=e.parent;return new ld(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new TP(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let s=[];for(let a=0,l;a<n.length;a+=2)(l=n[a+1])!=this.state&&this.p.parser.hasAction(l,e)&&s.push(n[a],l);if(this.stack.length<120)for(let a=0;s.length<8&&a<n.length;a+=2){let l=n[a+1];s.some((o,c)=>c&1&&o==l)||s.push(n[a],l)}n=s}let r=[];for(let s=0;s<n.length&&r.length<4;s+=2){let a=n[s+1];if(a==this.state)continue;let l=this.split();l.pushState(a,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(n[s],this.pos),l.reducePos=this.pos,l.score-=200,r.push(l)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,s=n&65535,a=this.stack.length-r*3;if(a<0||e.getGoto(this.stack[a],s,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;n=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(s,a)=>{if(!n.includes(s))return n.push(s),e.allActions(s,l=>{if(!(l&393216))if(l&65536){let o=(l>>19)-a;if(o>1){let c=l&65535,u=this.stack.length-o*3;if(u>=0&&e.getGoto(this.stack[u],c,!1)>=0)return o<<19|65536|c}}else{let o=r(l,a+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new Sv(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Sv{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class TP{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=s}}class od{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new od(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new od(this.stack,this.pos,this.index)}}function Nl(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,s=0;r<t.length;){let a=0;for(;;){let l=t.charCodeAt(r++),o=!1;if(l==126){a=65535;break}l>=92&&l--,l>=34&&l--;let c=l-32;if(c>=46&&(c-=46,o=!0),a+=c,o)break;a*=46}n?n[s++]=a:n=new e(a)}return n}class fu{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const wv=new fu;class RP{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=wv,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,s=this.rangeIndex,a=this.pos+e;for(;a<r.from;){if(!s)return null;let l=this.ranges[--s];a-=r.from-l.to,r=l}for(;n<0?a>r.to:a>=r.to;){if(s==this.ranges.length-1)return null;let l=this.ranges[++s];a+=l.from-r.to,r=l}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,s;if(n>=0&&n<this.chunk.length)r=this.pos+e,s=this.chunk.charCodeAt(n);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(r=a,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let l=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),s=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),s}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=wv,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let s of this.ranges){if(s.from>=n)break;s.to>e&&(r+=this.input.read(Math.max(s.from,e),Math.min(s.to,n)))}return r}}class ha{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;t4(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}ha.prototype.contextual=ha.prototype.fallback=ha.prototype.extend=!1;class cd{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?Nl(e):e}token(e,n){let r=e.pos,s=0;for(;;){let a=e.next<0,l=e.resolveOffset(1,1);if(t4(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(a||s++,l==null)break;e.reset(l,e.token)}s&&(e.reset(r,e.token),e.acceptToken(this.elseToken,s))}}cd.prototype.contextual=ha.prototype.fallback=ha.prototype.extend=!1;class Yn{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function t4(t,e,n,r,s,a){let l=0,o=1<<r,{dialect:c}=n.p.parser;e:for(;o&t[l];){let u=t[l+1];for(let p=l+3;p<u;p+=2)if((t[p+1]&o)>0){let x=t[p];if(c.allows(x)&&(e.token.value==-1||e.token.value==x||QP(x,e.token.value,s,a))){e.acceptToken(x);break}}let d=e.next,h=0,f=t[l+2];if(e.next<0&&f>h&&t[u+f*3-3]==65535){l=t[u+f*3-1];continue e}for(;h<f;){let p=h+f>>1,x=u+p+(p<<1),v=t[x],y=t[x+1]||65536;if(d<v)f=p;else if(d>=y)h=p+1;else{l=t[x+2],e.advance();continue e}}break}}function kv(t,e,n){for(let r=e,s;(s=t[r])!=65535;r++)if(s==n)return r-e;return-1}function QP(t,e,n,r){let s=kv(n,r,e);return s<0||kv(n,r,t)<s}const rn=typeof process<"u"&&jv&&/\bparse\b/.test(jv.LOG);let Of=null;function $v(t,e,n){let r=t.cursor(Ze.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class AP{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?$v(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?$v(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],s=this.index[n];if(s==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=r.children[s],l=this.start[n]+r.positions[s];if(l>e)return this.nextStart=l,null;if(a instanceof He){if(l==e){if(l<this.safeFrom)return null;let o=l+a.length;if(o<=this.safeTo){let c=a.prop(oe.lookAhead);if(!c||o+c<this.fragment.to)return a}}this.index[n]++,l+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(l),this.index.push(0))}else this.index[n]++,this.nextStart=l+a.length}}}class PP{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new fu)}getActions(e){let n=0,r=null,{parser:s}=e.p,{tokenizers:a}=s,l=s.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,c=0;for(let u=0;u<a.length;u++){if(!(1<<u&l))continue;let d=a[u],h=this.tokens[u];if(!(r&&!d.fallback)&&((d.contextual||h.start!=e.pos||h.mask!=l||h.context!=o)&&(this.updateCachedToken(h,d,e),h.mask=l,h.context=o),h.lookAhead>h.end+25&&(c=Math.max(h.lookAhead,c)),h.value!=0)){let f=n;if(h.extended>-1&&(n=this.addActions(e,h.extended,h.end,n)),n=this.addActions(e,h.value,h.end,n),!d.extend&&(r=h,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return c&&e.setLookAhead(c),!r&&e.pos==this.stream.end&&(r=new fu,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new fu,{pos:r,p:s}=e;return n.start=r,n.end=Math.min(r+1,s.stream.end),n.value=r==s.stream.end?s.parser.eofTerm:0,n}updateCachedToken(e,n,r){let s=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(s,e),r),e.value>-1){let{parser:a}=r.p;for(let l=0;l<a.specialized.length;l++)if(a.specialized[l]==e.value){let o=a.specializers[l](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){o&1?e.extended=o>>1:e.value=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,n,r,s){for(let a=0;a<s;a+=3)if(this.actions[a]==e)return s;return this.actions[s++]=e,this.actions[s++]=n,this.actions[s++]=r,s}addActions(e,n,r,s){let{state:a}=e,{parser:l}=e.p,{data:o}=l;for(let c=0;c<2;c++)for(let u=l.stateSlot(a,c?2:1);;u+=3){if(o[u]==65535)if(o[u+1]==1)u=Cr(o,u+2);else{s==0&&o[u+1]==2&&(s=this.putAction(Cr(o,u+2),n,r,s));break}o[u]==n&&(s=this.putAction(Cr(o,u+1),n,r,s))}return s}}class _P{constructor(e,n,r,s){this.parser=e,this.input=n,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new RP(n,s),this.tokens=new PP(e,this.stream),this.topTerm=e.top[1];let{from:a}=s[0];this.stacks=[ld.start(this,e.top[0],a)],this.fragments=r.length&&this.stream.end-a>e.bufferLength*4?new AP(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],s,a;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let o=e[l];for(;;){if(this.tokens.mainToken=null,o.pos>n)r.push(o);else{if(this.advanceStack(o,r,e))continue;{s||(s=[],a=[]),s.push(o);let c=this.tokens.getMainToken(o);a.push(c.value,c.end)}}break}}if(!r.length){let l=s&&MP(s);if(l)return rn&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw rn&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&s){let l=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,a,r);if(l)return rn&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(r.length>l)for(r.sort((o,c)=>c.score-o.score);r.length>l;)r.pop();r.some(o=>o.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let l=0;l<r.length-1;l++){let o=r[l];for(let c=l+1;c<r.length;c++){let u=r[c];if(o.sameState(u)||o.buffer.length>500&&u.buffer.length>500)if((o.score-u.score||o.buffer.length-u.buffer.length)>0)r.splice(c--,1);else{r.splice(l--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let l=1;l<r.length;l++)r[l].pos<this.minStackPos&&(this.minStackPos=r[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let s=e.pos,{parser:a}=this,l=rn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,d=u?e.curContext.hash:0;for(let h=this.fragments.nodeAt(s);h;){let f=this.parser.nodeSet.types[h.type.id]==h.type?a.getGoto(e.state,h.type.id):-1;if(f>-1&&h.length&&(!u||(h.prop(oe.contextHash)||0)==d))return e.useNode(h,f),rn&&console.log(l+this.stackID(e)+` (via reuse of ${a.getName(h.type.id)})`),!0;if(!(h instanceof He)||h.children.length==0||h.positions[0]>0)break;let p=h.children[0];if(p instanceof He&&h.positions[0]==0)h=p;else break}}let o=a.stateSlot(e.state,4);if(o>0)return e.reduce(o),rn&&console.log(l+this.stackID(e)+` (via always-reduce ${a.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let u=0;u<c.length;){let d=c[u++],h=c[u++],f=c[u++],p=u==c.length||!r,x=p?e:e.split(),v=this.tokens.mainToken;if(x.apply(d,h,v?v.start:x.pos,f),rn&&console.log(l+this.stackID(x)+` (via ${d&65536?`reduce of ${a.getName(d&65535)}`:"shift"} for ${a.getName(h)} @ ${s}${x==e?"":", split"})`),p)return!0;x.pos>s?n.push(x):r.push(x)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return Nv(e,n),!0}}runRecovery(e,n,r){let s=null,a=!1;for(let l=0;l<e.length;l++){let o=e[l],c=n[l<<1],u=n[(l<<1)+1],d=rn?this.stackID(o)+" -> ":"";if(o.deadEnd&&(a||(a=!0,o.restart(),rn&&console.log(d+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let h=o.split(),f=d;for(let p=0;h.forceReduce()&&p<10&&(rn&&console.log(f+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));p++)rn&&(f=this.stackID(h)+" -> ");for(let p of o.recoverByInsert(c))rn&&console.log(d+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,r);this.stream.end>o.pos?(u==o.pos&&(u++,c=0),o.recoverByDelete(c,u),rn&&console.log(d+this.stackID(o)+` (via recover-delete ${this.parser.getName(c)})`),Nv(o,r)):(!s||s.score<o.score)&&(s=o)}return s}stackToTree(e){return e.close(),He.build({buffer:od.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(Of||(Of=new WeakMap)).get(e);return n||Of.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function Nv(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class EP{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const vf=t=>t;class n4{constructor(e){this.start=e.start,this.shift=e.shift||vf,this.reduce=e.reduce||vf,this.reuse=e.reuse||vf,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Qa extends iw{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let o=0;o<e.repeatNodeCount;o++)n.push("");let r=Object.keys(e.topRules).map(o=>e.topRules[o][1]),s=[];for(let o=0;o<n.length;o++)s.push([]);function a(o,c,u){s[o].push([c,c.deserialize(String(u))])}if(e.nodeProps)for(let o of e.nodeProps){let c=o[0];typeof c=="string"&&(c=oe[c]);for(let u=1;u<o.length;){let d=o[u++];if(d>=0)a(d,c,o[u++]);else{let h=o[u+-d];for(let f=-d;f>0;f--)a(o[u++],c,h);u++}}}this.nodeSet=new f0(n.map((o,c)=>Wt.define({name:c>=this.minRepeatTerm?void 0:o,id:c,props:s[c],top:r.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=ew;let l=Nl(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(Cv),this.states=Nl(e.states,Uint32Array),this.data=Nl(e.stateData),this.goto=Nl(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new ha(l,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let s=new _P(this,e,n,r);for(let a of this.wrappers)s=a(s,e,n,r);return s}getGoto(e,n,r=!1){let s=this.goto;if(n>=s[0])return-1;for(let a=s[n+1];;){let l=s[a++],o=l&1,c=s[a++];if(o&&r)return c;for(let u=a+(l>>1);a<u;a++)if(s[a]==e)return c;if(o)return-1}}hasAction(e,n){let r=this.data;for(let s=0;s<2;s++)for(let a=this.stateSlot(e,s?2:1),l;;a+=3){if((l=r[a])==65535)if(r[a+1]==1)l=r[a=Cr(r,a+2)];else{if(r[a+1]==2)return Cr(r,a+2);break}if(l==n||l==0)return Cr(r,a+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),s=r?n(r):void 0;for(let a=this.stateSlot(e,1);s==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=Cr(this.data,a+2);else break;s=n(Cr(this.data,a+1))}return s}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Cr(this.data,r+2);else break;if(!(this.data[r+2]&1)){let s=this.data[r+1];n.some((a,l)=>l&1&&a==s)||n.push(this.data[r],s)}}return n}configure(e){let n=Object.assign(Object.create(Qa.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let s=e.tokenizers.find(a=>a.from==r);return s?s.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,s)=>{let a=e.specializers.find(o=>o.from==r.external);if(!a)return r;let l=Object.assign(Object.assign({},r),{external:a.to});return n.specializers[s]=Cv(l),l})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let a of e.split(" ")){let l=n.indexOf(a);l>=0&&(r[l]=!0)}let s=null;for(let a=0;a<n.length;a++)if(!r[a])for(let l=this.dialects[n[a]],o;(o=this.data[l++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[o]=1;return new EP(e,r,s)}static deserialize(e){return new Qa(e)}}function Cr(t,e){return t[e]|t[e+1]<<16}function MP(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function Cv(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const DP=99,Tv=1,ZP=100,zP=101,Rv=2,r4=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],LP=58,BP=40,s4=95,XP=91,pu=45,UP=46,qP=35,YP=37,VP=38,WP=92,HP=10;function Qo(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function i4(t){return t>=48&&t<=57}const IP=new Yn((t,e)=>{for(let n=!1,r=0,s=0;;s++){let{next:a}=t;if(Qo(a)||a==pu||a==s4||n&&i4(a))!n&&(a!=pu||s>0)&&(n=!0),r===s&&a==pu&&r++,t.advance();else if(a==WP&&t.peek(1)!=HP)t.advance(),t.next>-1&&t.advance(),n=!0;else{n&&t.acceptToken(a==BP?ZP:r==2&&e.canShift(Rv)?Rv:zP);break}}}),GP=new Yn(t=>{if(r4.includes(t.peek(-1))){let{next:e}=t;(Qo(e)||e==s4||e==qP||e==UP||e==XP||e==LP&&Qo(t.peek(1))||e==pu||e==VP)&&t.acceptToken(DP)}}),FP=new Yn(t=>{if(!r4.includes(t.peek(-1))){let{next:e}=t;if(e==YP&&(t.advance(),t.acceptToken(Tv)),Qo(e)){do t.advance();while(Qo(t.next)||i4(t.next));t.acceptToken(Tv)}}}),JP=Vd({"AtKeyword import charset namespace keyframes media supports":N.definitionKeyword,"from to selector":N.keyword,NamespaceName:N.namespace,KeyframeName:N.labelName,KeyframeRangeName:N.operatorKeyword,TagName:N.tagName,ClassName:N.className,PseudoClassName:N.constant(N.className),IdName:N.labelName,"FeatureName PropertyName":N.propertyName,AttributeName:N.attributeName,NumberLiteral:N.number,KeywordQuery:N.keyword,UnaryQueryOp:N.operatorKeyword,"CallTag ValueName":N.atom,VariableName:N.variableName,Callee:N.operatorKeyword,Unit:N.unit,"UniversalSelector NestingSelector":N.definitionOperator,MatchOp:N.compareOperator,"ChildOp SiblingOp, LogicOp":N.logicOperator,BinOp:N.arithmeticOperator,Important:N.modifier,Comment:N.blockComment,ColorLiteral:N.color,"ParenthesizedContent StringLiteral":N.string,":":N.punctuation,"PseudoOp #":N.derefOperator,"; ,":N.separator,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace}),KP={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},e_={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},t_={__proto__:null,not:132,only:132},n_=Qa.deserialize({version:14,states:":^QYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO${QdO,59}O-kQ[O'#E^O-xQWO,5;_O-xQWO,5;_POOO'#EV'#EVP.TO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.zQXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/XQ`O1G/^O/rQXO1G/aO0YQXO1G/cO0pQXO1G/dO1WQWO,59|O1]Q[O'#DSO1dQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1kQpO,59]OOQS,59_,59_O${QdO,59aO1sQWO1G/mOOQS,59c,59cO1xQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2QQ[O,59jOOQS,59j,59jO2YQWO'#DjO2eQWO,5:VO2jQWO,5:]O&`Q[O,5:XO&`Q[O'#E_O2rQWO,5;`O2}QWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3`QWO1G0OO3eQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO3pQtO1G/iOOQO,5:x,5:xO4WQ[O,5:xOOQO-E8[-E8[O4eQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO4pQXO'#ErO4wQWO,59nO4|QtO'#EXO5tQdO'#EoO6OQWO,59ZO6TQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XO6]QWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6bQWO,5:yOOQO-E8]-E8]O6pQXO1G/xOOQS7+%j7+%jO6wQYO'#CsOOQO'#EQ'#EQO7SQ`O'#EPOOQO'#EP'#EPO7_QWO'#E`O7gQdO,5:jOOQS,5:j,5:jO7rQtO'#E]O${QdO'#E]O8sQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9WQpO<<HdO9`QWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9hQWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO9pQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3hQdO'#EaO7_QWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO9wQtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO:xQdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";[~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#wO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.`Op#yO|#zO~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/aOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/aOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/aO!S#{O~Oa#fP~P(aOa#cP~P${Oa$SOj#XO~O!Y$UO~Oh$VOo$VO~Op$XO#X#]O~O]!`Xa!^X!b!^X~O]$YO~Oa$ZO!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$`O~O!S$gO#X$bO#e$aO~Oj#XOt$iO!X$kO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$oO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$qOa#cX~P${Oa$sO~Oj#XOp$tO~Oa$uO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$wO~P.`OP#WOtgX!TgX~O#e$aOt!sX!T!sX~Ot$yO!TwO~O!S$}O#X$bO#e$aO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$iO!X%QO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%RO~OtoOa#fa~Ot$qOa#ca~Oa%UO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#skYOPdhotuvw!n#R#h#skSOPdhotuvw!n#R#h#sQmTR!tnQ{VR!xqQ!x}Q#Z!XR#x!zq![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SU$d#m$f$yR$x$cq!XZ]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#x!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ${$eR%X$zSgPwQ!phQ#r!nR$l#sZfPhw!n#sa!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$e#m$fR%V$yV$c#m$f$yQ!rjR#v!rQdOShPwU!ldh#sR#s!nQ$P#SU$p$P$v%SQ$v$YR%S$qQ#_!ZR$W#_Q$r$PR%T$rQpUS!vp$nR$n#|Q$j#qR%P$jQ!ogS#t!o#uR#u!pQ#f!_R$^#fQ$f#mR$|$fQ$z$eR%W$z_cOPdhw!n#s^UOPdhw!n#sQ!uoQ!}tQ#OuQ#PvQ#|#RR$_#hR$Q#SQ!VZQ!d]Q#V!TQ#q!m[$O#S$P$Y$q$v%SQ$R#UQ$T#XS$h#q$jQ$m#zR%O$iR#}#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$[#dR$]#e",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[JP],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[GP,FP,IP,1,2,3,4,new cd("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>KP[t]||-1},{term:58,get:t=>e_[t]||-1},{term:101,get:t=>t_[t]||-1}],tokenPrec:1200});let bf=null;function yf(){if(!bf&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,s=>"-"+s.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));bf=e.sort().map(r=>({type:"property",label:r}))}return bf||[]}const Qv=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),Av=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),r_=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),Jr=/^(\w[\w-]*|-\w[\w-]*|)$/,s_=/^-(-[\w-]*)?$/;function i_(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const Pv=new sw,a_=["Declaration"];function l_(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function a4(t,e,n){if(e.to-e.from>4096){let r=Pv.get(e);if(r)return r;let s=[],a=new Set,l=e.cursor(Ze.IncludeAnonymous);if(l.firstChild())do for(let o of a4(t,l.node,n))a.has(o.label)||(a.add(o.label),s.push(o));while(l.nextSibling());return Pv.set(e,s),s}else{let r=[],s=new Set;return e.cursor().iterate(a=>{var l;if(n(a)&&a.matchContext(a_)&&((l=a.node.nextSibling)===null||l===void 0?void 0:l.name)==":"){let o=t.sliceString(a.from,a.to);s.has(o)||(s.add(o),r.push({label:o,type:"variable"}))}}),r}}const o_=t=>e=>{let{state:n,pos:r}=e,s=bt(n).resolveInner(r,-1),a=s.type.isError&&s.from==s.to-1&&n.doc.sliceString(s.from,s.to)=="-";if(s.name=="PropertyName"||(a||s.name=="TagName")&&/^(Block|Styles)$/.test(s.resolve(s.to).name))return{from:s.from,options:yf(),validFor:Jr};if(s.name=="ValueName")return{from:s.from,options:Av,validFor:Jr};if(s.name=="PseudoClassName")return{from:s.from,options:Qv,validFor:Jr};if(t(s)||(e.explicit||a)&&i_(s,n.doc))return{from:t(s)||a?s.from:r,options:a4(n.doc,l_(s),t),validFor:s_};if(s.name=="TagName"){for(let{parent:c}=s;c;c=c.parent)if(c.name=="Block")return{from:s.from,options:yf(),validFor:Jr};return{from:s.from,options:r_,validFor:Jr}}if(!e.explicit)return null;let l=s.resolve(r),o=l.childBefore(r);return o&&o.name==":"&&l.name=="PseudoClassSelector"?{from:r,options:Qv,validFor:Jr}:o&&o.name==":"&&l.name=="Declaration"||l.name=="ArgList"?{from:r,options:Av,validFor:Jr}:l.name=="Block"||l.name=="Styles"?{from:r,options:yf(),validFor:Jr}:null},c_=o_(t=>t.name=="VariableName"),ud=Ca.define({name:"css",parser:n_.configure({props:[Id.add({Declaration:hu()}),b0.add({"Block KeyframeList":pw})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function l4(){return new O0(ud,ud.data.of({autocomplete:c_}))}const u_=54,d_=1,h_=55,f_=2,p_=56,m_=3,_v=4,g_=5,dd=6,o4=7,c4=8,u4=9,d4=10,x_=11,O_=12,v_=13,jf=57,b_=14,Ev=58,h4=20,y_=22,f4=23,j_=24,Tm=26,p4=27,S_=28,w_=31,k_=34,$_=36,N_=37,C_=0,T_=1,R_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Q_={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},Mv={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function A_(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function m4(t){return t==9||t==10||t==13||t==32}let Dv=null,Zv=null,zv=0;function Rm(t,e){let n=t.pos+e;if(zv==n&&Zv==t)return Dv;let r=t.peek(e);for(;m4(r);)r=t.peek(++e);let s="";for(;A_(r);)s+=String.fromCharCode(r),r=t.peek(++e);return Zv=t,zv=n,Dv=s?s.toLowerCase():r==P_||r==__?void 0:null}const g4=60,hd=62,T0=47,P_=63,__=33,E_=45;function Lv(t,e){this.name=t,this.parent=e}const M_=[dd,d4,o4,c4,u4],D_=new n4({start:null,shift(t,e,n,r){return M_.indexOf(e)>-1?new Lv(Rm(r,1)||"",t):t},reduce(t,e){return e==h4&&t?t.parent:t},reuse(t,e,n,r){let s=e.type.id;return s==dd||s==$_?new Lv(Rm(r,1)||"",t):t},strict:!1}),Z_=new Yn((t,e)=>{if(t.next!=g4){t.next<0&&e.context&&t.acceptToken(jf);return}t.advance();let n=t.next==T0;n&&t.advance();let r=Rm(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?b_:dd);let s=e.context?e.context.name:null;if(n){if(r==s)return t.acceptToken(x_);if(s&&Q_[s])return t.acceptToken(jf,-2);if(e.dialectEnabled(C_))return t.acceptToken(O_);for(let a=e.context;a;a=a.parent)if(a.name==r)return;t.acceptToken(v_)}else{if(r=="script")return t.acceptToken(o4);if(r=="style")return t.acceptToken(c4);if(r=="textarea")return t.acceptToken(u4);if(R_.hasOwnProperty(r))return t.acceptToken(d4);s&&Mv[s]&&Mv[s][r]?t.acceptToken(jf,-1):t.acceptToken(dd)}},{contextual:!0}),z_=new Yn(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(Ev);break}if(t.next==E_)e++;else if(t.next==hd&&e>=2){n>=3&&t.acceptToken(Ev,-2);break}else e=0;t.advance()}});function L_(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const B_=new Yn((t,e)=>{if(t.next==T0&&t.peek(1)==hd){let n=e.dialectEnabled(T_)||L_(e.context);t.acceptToken(n?g_:_v,2)}else t.next==hd&&t.acceptToken(_v,1)});function R0(t,e,n){let r=2+t.length;return new Yn(s=>{for(let a=0,l=0,o=0;;o++){if(s.next<0){o&&s.acceptToken(e);break}if(a==0&&s.next==g4||a==1&&s.next==T0||a>=2&&a<r&&s.next==t.charCodeAt(a-2))a++,l++;else if((a==2||a==r)&&m4(s.next))l++;else if(a==r&&s.next==hd){o>l?s.acceptToken(e,-l):s.acceptToken(n,-(l-2));break}else if((s.next==10||s.next==13)&&o){s.acceptToken(e,1);break}else a=l=0;s.advance()}})}const X_=R0("script",u_,d_),U_=R0("style",h_,f_),q_=R0("textarea",p_,m_),Y_=Vd({"Text RawText":N.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":N.angleBracket,TagName:N.tagName,"MismatchedCloseTag/TagName":[N.tagName,N.invalid],AttributeName:N.attributeName,"AttributeValue UnquotedAttributeValue":N.attributeValue,Is:N.definitionOperator,"EntityReference CharacterReference":N.character,Comment:N.blockComment,ProcessingInst:N.processingInstruction,DoctypeDecl:N.documentMeta}),V_=Qa.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:D_,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[Y_],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[X_,U_,q_,B_,Z_,z_,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function x4(t,e){let n=Object.create(null);for(let r of t.getChildren(f4)){let s=r.getChild(j_),a=r.getChild(Tm)||r.getChild(p4);s&&(n[e.read(s.from,s.to)]=a?a.type.id==Tm?e.read(a.from+1,a.to-1):e.read(a.from,a.to):"")}return n}function Bv(t,e){let n=t.getChild(y_);return n?e.read(n.from,n.to):" "}function Sf(t,e,n){let r;for(let s of n)if(!s.attrs||s.attrs(r||(r=x4(t.node.parent.firstChild,e))))return{parser:s.parser};return null}function O4(t=[],e=[]){let n=[],r=[],s=[],a=[];for(let o of t)(o.tag=="script"?n:o.tag=="style"?r:o.tag=="textarea"?s:a).push(o);let l=e.length?Object.create(null):null;for(let o of e)(l[o.name]||(l[o.name]=[])).push(o);return tQ((o,c)=>{let u=o.type.id;if(u==S_)return Sf(o,c,n);if(u==w_)return Sf(o,c,r);if(u==k_)return Sf(o,c,s);if(u==h4&&a.length){let d=o.node,h=d.firstChild,f=h&&Bv(h,c),p;if(f){for(let x of a)if(x.tag==f&&(!x.attrs||x.attrs(p||(p=x4(h,c))))){let v=d.lastChild,y=v.type.id==N_?v.from:d.to;if(y>h.to)return{parser:x.parser,overlay:[{from:h.to,to:y}]}}}}if(l&&u==f4){let d=o.node,h;if(h=d.firstChild){let f=l[c.read(h.from,h.to)];if(f)for(let p of f){if(p.tagName&&p.tagName!=Bv(d.parent,c))continue;let x=d.lastChild;if(x.type.id==Tm){let v=x.from+1,y=x.lastChild,g=x.to-(y&&y.isError?0:1);if(g>v)return{parser:p.parser,overlay:[{from:v,to:g}]}}else if(x.type.id==p4)return{parser:p.parser,overlay:[{from:x.from,to:x.to}]}}}}return null})}const W_=312,Xv=1,H_=2,I_=3,G_=4,F_=313,J_=315,K_=316,eE=5,tE=6,nE=0,Qm=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],v4=125,rE=59,Am=47,sE=42,iE=43,aE=45,lE=60,oE=44,cE=63,uE=46,dE=new n4({start:!1,shift(t,e){return e==eE||e==tE||e==J_?t:e==K_},strict:!1}),hE=new Yn((t,e)=>{let{next:n}=t;(n==v4||n==-1||e.context)&&t.acceptToken(F_)},{contextual:!0,fallback:!0}),fE=new Yn((t,e)=>{let{next:n}=t,r;Qm.indexOf(n)>-1||n==Am&&((r=t.peek(1))==Am||r==sE)||n!=v4&&n!=rE&&n!=-1&&!e.context&&t.acceptToken(W_)},{contextual:!0}),pE=new Yn((t,e)=>{let{next:n}=t;if(n==iE||n==aE){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(Xv);t.acceptToken(r?Xv:H_)}}else n==cE&&t.peek(1)==uE&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(I_))},{contextual:!0});function wf(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const mE=new Yn((t,e)=>{if(t.next!=lE||!e.dialectEnabled(nE)||(t.advance(),t.next==Am))return;let n=0;for(;Qm.indexOf(t.next)>-1;)t.advance(),n++;if(wf(t.next,!0)){for(t.advance(),n++;wf(t.next,!1);)t.advance(),n++;for(;Qm.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==oE)return;for(let r=0;;r++){if(r==7){if(!wf(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(G_,-n)}),gE=Vd({"get set async static":N.modifier,"for while do if else switch try catch finally return throw break continue default case":N.controlKeyword,"in of await yield void typeof delete instanceof":N.operatorKeyword,"let var const using function class extends":N.definitionKeyword,"import export from":N.moduleKeyword,"with debugger as new":N.keyword,TemplateString:N.special(N.string),super:N.atom,BooleanLiteral:N.bool,this:N.self,null:N.null,Star:N.modifier,VariableName:N.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":N.function(N.variableName),VariableDefinition:N.definition(N.variableName),Label:N.labelName,PropertyName:N.propertyName,PrivatePropertyName:N.special(N.propertyName),"CallExpression/MemberExpression/PropertyName":N.function(N.propertyName),"FunctionDeclaration/VariableDefinition":N.function(N.definition(N.variableName)),"ClassDeclaration/VariableDefinition":N.definition(N.className),PropertyDefinition:N.definition(N.propertyName),PrivatePropertyDefinition:N.definition(N.special(N.propertyName)),UpdateOp:N.updateOperator,"LineComment Hashbang":N.lineComment,BlockComment:N.blockComment,Number:N.number,String:N.string,Escape:N.escape,ArithOp:N.arithmeticOperator,LogicOp:N.logicOperator,BitOp:N.bitwiseOperator,CompareOp:N.compareOperator,RegExp:N.regexp,Equals:N.definitionOperator,Arrow:N.function(N.punctuation),": Spread":N.punctuation,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace,"InterpolationStart InterpolationEnd":N.special(N.brace),".":N.derefOperator,", ;":N.separator,"@":N.meta,TypeName:N.typeName,TypeDefinition:N.definition(N.typeName),"type enum interface implements namespace module declare":N.definitionKeyword,"abstract global Privacy readonly override":N.modifier,"is keyof unique infer":N.operatorKeyword,JSXAttributeValue:N.attributeValue,JSXText:N.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":N.angleBracket,"JSXIdentifier JSXNameSpacedName":N.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":N.attributeName,"JSXBuiltin/JSXIdentifier":N.standard(N.tagName)}),xE={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},OE={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},vE={__proto__:null,"<":187},bE=Qa.deserialize({version:14,states:"$=dO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ?NdO'#CiO+RO!bO'#CjO+aO#tO'#CjO+oO!0LbO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DwO0fQ^O'#EPOOQ?Mr'#EX'#EXO1PQWO'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQWO'#GpO1dQWO'#ElO1iQWO'#ElO3hQ?NdO'#JmO6[Q?NdO'#JnO6uQWO'#F[O6zQ&jO'#FsOOQ?Mr'#Fe'#FeO7VO,YO'#FeO7eQ7[O'#FzO9RQWO'#FyOOQ?Mr'#Jn'#JnOOQ?Mp'#Jm'#JmO9WQWO'#GtOOQU'#KZ'#KZO9cQWO'#IUO9hQ?MxO'#IVOOQU'#JZ'#JZOOQU'#IZ'#IZQ`Q^OOO`Q^OOO9pQMnO'#DsO9wQ^O'#D{O:OQ^O'#D}O9^QWO'#GpO:VQ7[O'#CoO:eQWO'#EkO:pQWO'#EvO:uQ7[O'#FdO;dQWO'#GpOOQO'#K['#K[O;iQWO'#K[O;wQWO'#GxO;wQWO'#GyO;wQWO'#G{O9^QWO'#HOO<nQWO'#HRO>VQWO'#CeO>gQWO'#H_O>oQWO'#HeO>oQWO'#HgO`Q^O'#HiO>oQWO'#HkO>oQWO'#HnO>tQWO'#HtO>yQ?MyO'#HzO%[Q^O'#H|O?UQ?MyO'#IOO?aQ?MyO'#IQO9hQ?MxO'#ISO?lQ?NdO'#CiO@nQ`O'#DiQOQWOOO%[Q^O'#D}OAUQWO'#EQO:VQ7[O'#EkOAaQWO'#EkOAlQpO'#FdOOQU'#Cg'#CgOOQ?Mp'#Dn'#DnOOQ?Mp'#Jq'#JqO%[Q^O'#JqOOQO'#Jt'#JtOOQO'#Id'#IdOBlQ`O'#EdOOQ?Mp'#Ec'#EcOOQ?Mp'#Jx'#JxOChQ?NQO'#EdOCrQ`O'#ETOOQO'#Js'#JsODWQ`O'#JtOEeQ`O'#ETOCrQ`O'#EdPErO#@ItO'#CbPOOO)CDx)CDxOOOO'#I['#I[OE}O!bO,59UOOQ?Mr,59U,59UOOOO'#I]'#I]OF]O#tO,59UO%[Q^O'#D`OOOO'#I_'#I_OFkO!0LbO,59xOOQ?Mr,59x,59xOFyQ^O'#I`OG^QWO'#JoOI]QrO'#JoO+}Q^O'#JoOIdQWO,5:OOIzQWO'#EmOJXQWO'#KOOJdQWO'#J}OJdQWO'#J}OJlQWO,5;ZOJqQWO'#J|OOQ?Mv,5:Z,5:ZOJxQ^O,5:ZOLvQ?NdO,5:cOMgQWO,5:kONQQ?MxO'#J{ONXQWO'#JzO9WQWO'#JzONmQWO'#JzONuQWO,5;YONzQWO'#JzO!#PQrO'#JnOOQ?Mr'#Ci'#CiO%[Q^O'#EPO!#oQrO,5:pOOQQ'#Ju'#JuOOQO-E<f-E<fO9^QWO,5=[O!$VQWO,5=[O!$[Q^O,5;WO!&_Q7[O'#EhO!'xQWO,5;WO!'}Q^O'#DvO!(XQ`O,5;aO!(aQ`O,5;aO%[Q^O,5;aOOQU'#FS'#FSOOQU'#FU'#FUO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bOOQU'#FY'#FYO!(oQ^O,5;sOOQ?Mr,5;x,5;xOOQ?Mr,5;y,5;yOOQ?Mr,5;{,5;{O%[Q^O'#IlO!*rQ?MxO,5<gO!&_Q7[O,5;bO!+aQ7[O,5;bO!-RQ7[O'#EZO%[Q^O,5;vOOQ?Mr,5;z,5;zO!-YQ&jO'#FiO!.VQ&jO'#KSO!-qQ&jO'#KSO!.^Q&jO'#KSOOQO'#KS'#KSO!.rQ&jO,5<ROOOS,5<_,5<_O!/TQ^O'#FuOOOS'#Ik'#IkO7VO,YO,5<PO!/[Q&jO'#FwOOQ?Mr,5<P,5<PO!/{Q!LQO'#CvOOQ?Mr'#Cz'#CzO!0`QWO'#CzO!0eO!0LbO'#DOO!1RQ7[O,5<dO!1YQWO,5<fO!2uQ$ISO'#GVO!3SQWO'#GWO!3XQWO'#GWO!4wQ$ISO'#G[O!5sQ`O'#G`OOQO'#Gk'#GkO!+hQ7[O'#GjOOQO'#Gm'#GmO!+hQ7[O'#GlO!6fQ!LQO'#JgOOQ?Mr'#Jg'#JgO!6pQWO'#JfO!7OQWO'#JeO!7WQWO'#CuOOQ?Mr'#Cx'#CxOOQ?Mr'#DS'#DSOOQ?Mr'#DU'#DUO1SQWO'#DWO!+hQ7[O'#F}O!+hQ7[O'#GPO!7`QWO'#GRO!7eQWO'#GSO!3XQWO'#GYO!+hQ7[O'#G_O!7jQWO'#EnO!8XQWO,5<eOOQ?Mp'#Cr'#CrO!8aQWO'#EoO!9ZQ`O'#EpOOQ?Mp'#J|'#J|O!9bQ?MxO'#K]O9hQ?MxO,5=`O`Q^O,5>pOOQU'#Jc'#JcOOQU,5>q,5>qOOQU-E<X-E<XO!;aQ?NdO,5:_O!9UQ`O,5:]O!=zQ?NdO,5:gO%[Q^O,5:gO!@bQ?NdO,5:iOOQO,5@v,5@vO!ARQ7[O,5=[O!AaQ?MxO'#JdO9RQWO'#JdO!ArQ?MxO,59ZO!A}Q`O,59ZO!BVQ7[O,59ZO:VQ7[O,59ZO!BbQWO,5;WO!BjQWO'#H^O!COQWO'#K`O%[Q^O,5;|O!9UQ`O,5<OO!CWQWO,5=wO!C]QWO,5=wO!CbQWO,5=wO9hQ?MxO,5=wO;wQWO,5=gOOQO'#Cv'#CvO!CpQ`O,5=dO!CxQ7[O,5=eO!DTQWO,5=gO!DYQpO,5=jO!DbQWO'#K[O>tQWO'#HTO9^QWO'#HVO!DgQWO'#HVO:VQ7[O'#HXO!DlQWO'#HXOOQU,5=m,5=mO!DqQWO'#HYO!ESQWO'#CoO!EXQWO,59PO!EcQWO,59PO!GhQ^O,59POOQU,59P,59PO!GxQ?MxO,59PO%[Q^O,59PO!JTQ^O'#HaOOQU'#Hb'#HbOOQU'#Hc'#HcO`Q^O,5=yO!JkQWO,5=yO`Q^O,5>PO`Q^O,5>RO!JpQWO,5>TO`Q^O,5>VO!JuQWO,5>YO!JzQ^O,5>`OOQU,5>f,5>fO%[Q^O,5>fO9hQ?MxO,5>hOOQU,5>j,5>jO# UQWO,5>jOOQU,5>l,5>lO# UQWO,5>lOOQU,5>n,5>nO# rQ`O'#D[O%[Q^O'#JqO# |Q`O'#JqO#!kQ`O'#DjO#!|Q`O'#DjO#%_Q^O'#DjO#%fQWO'#JpO#%nQWO,5:TO#%sQWO'#EqO#&RQWO'#KPO#&ZQWO,5;[O#&`Q`O'#DjO#&mQ`O'#ESOOQ?Mr,5:l,5:lO%[Q^O,5:lO#&tQWO,5:lO>tQWO,5;VO!A}Q`O,5;VO!BVQ7[O,5;VO:VQ7[O,5;VO#&|QWO,5@]O#'RQ(CYO,5:pOOQO-E<b-E<bO#(XQ?NQO,5;OOCrQ`O,5:oO#(cQ`O,5:oOCrQ`O,5;OO!ArQ?MxO,5:oOOQ?Mp'#Eg'#EgOOQO,5;O,5;OO%[Q^O,5;OO#(pQ?MxO,5;OO#({Q?MxO,5;OO!A}Q`O,5:oOOQO,5;U,5;UO#)ZQ?MxO,5;OPOOO'#IY'#IYP#)oO#@ItO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ?Mr1G.p1G.pOOOO-E<Z-E<ZO#)zQpO,59zOOOO-E<]-E<]OOQ?Mr1G/d1G/dO#*PQrO,5>zO+}Q^O,5>zOOQO,5?Q,5?QO#*ZQ^O'#I`OOQO-E<^-E<^O#*hQWO,5@ZO#*pQrO,5@ZO#*wQWO,5@iOOQ?Mr1G/j1G/jO%[Q^O,5@jO#+PQWO'#IfOOQO-E<d-E<dO#*wQWO,5@iOOQ?Mp1G0u1G0uOOQ?Mv1G/u1G/uOOQ?Mv1G0V1G0VO%[Q^O,5@gO#+eQ?MxO,5@gO#+vQ?MxO,5@gO#+}QWO,5@fO9WQWO,5@fO#,VQWO,5@fO#,eQWO'#IiO#+}QWO,5@fOOQ?Mp1G0t1G0tO!(XQ`O,5:rO!(dQ`O,5:rOOQQ,5:t,5:tO#-VQYO,5:tO#-_Q7[O1G2vO9^QWO1G2vOOQ?Mr1G0r1G0rO#-mQ?NdO1G0rO#.rQ?NbO,5;SOOQ?Mr'#GU'#GUO#/`Q?NdO'#JgO!$[Q^O1G0rO#1hQrO'#JrO%[Q^O'#JrO#1rQWO,5:bOOQ?Mr'#D['#D[OOQ?Mr1G0{1G0{O%[Q^O1G0{OOQ?Mr1G1e1G1eO#1wQWO1G0{O#4]Q?NdO1G0|O#4dQ?NdO1G0|O#6zQ?NdO1G0|O#7RQ?NdO1G0|O#9YQ?NdO1G0|O#9pQ?NdO1G0|O#<gQ?NdO1G0|O#<nQ?NdO1G0|O#?OQ?NdO1G0|O#?]Q?NdO1G0|O#AWQ?NdO1G0|O#DWQ07bO'#CiO#FRQ07bO1G1_O#FYQ07bO'#JnO#FmQ?NdO,5?WOOQ?Mp-E<j-E<jO#GaQ?NdO1G0|OOQ?Mr1G0|1G0|O#IiQ7[O'#JwO#IsQWO,5:uO#IxQ?NdO1G1bO#JlQ&jO,5<VO#JtQ&jO,5<WO#J|Q&jO'#FnO#KeQWO'#FmOOQO'#KT'#KTOOQO'#Ij'#IjO#KjQ&jO1G1mOOQ?Mr1G1m1G1mOOOS1G1x1G1xO#K{Q07bO'#JmO#LVQWO,5<aO!(oQ^O,5<aOOOS-E<i-E<iOOQ?Mr1G1k1G1kO#L[Q`O'#KSOOQ?Mr,5<c,5<cO#LdQ`O,5<cOOQ?Mr,59f,59fO!&_Q7[O'#DQOOOO'#I^'#I^O#LiO!0LbO,59jOOQ?Mr,59j,59jO%[Q^O1G2OO!7eQWO'#InO#LtQ7[O,5<xOOQ?Mr,5<u,5<uO!+hQ7[O'#IqO#MdQ7[O,5=UO!+hQ7[O'#IsO#NVQ7[O,5=WO!&_Q7[O,5=YOOQO1G2Q1G2QO#NaQpO'#CrO#NtQ$ISO'#EoO$ sQ`O'#G`O$!aQpO,5<qO$!hQWO'#KWO9WQWO'#KWO$!vQWO,5<sO!+hQ7[O,5<rO$!{QWO'#GXO$#^QWO,5<rO$#cQpO'#GUO$#pQpO'#KXO$#zQWO'#KXO!&_Q7[O'#KXO$$PQWO,5<vO$$UQ`O'#GaO!5nQ`O'#GaO$$gQWO'#GcO$$lQWO'#GeO!3XQWO'#GhO$$qQ?MxO'#IpO$$|Q`O,5<zOOQ?Mv,5<z,5<zO$%TQ`O'#GaO$%cQ`O'#GbO$%kQ`O'#GbO$%pQ7[O,5=UO$&QQ7[O,5=WOOQ?Mr,5=Z,5=ZO!+hQ7[O,5@QO!+hQ7[O,5@QO$&bQWO'#IuO$&mQWO,5@PO$&uQWO,59aO$'iQ!LSO,59rOOQ?Mr'#Jk'#JkO$([Q7[O,5<iO$(}Q7[O,5<kO@fQWO,5<mOOQ?Mr,5<n,5<nO$)XQWO,5<tO$)^Q7[O,5<yO$)nQWO'#JzO!$[Q^O1G2PO$)sQWO1G2PO9WQWO'#J}O9WQWO'#EqO%[Q^O'#EqO9WQWO'#IwO$)xQ?MxO,5@wOOQU1G2z1G2zOOQU1G4[1G4[OOQ?Mr1G/y1G/yOOQ?Mr1G/w1G/wO$+zQ?NdO1G0ROOQU1G2v1G2vO!&_Q7[O1G2vO%[Q^O1G2vO#-bQWO1G2vO$.OQ7[O'#EhOOQ?Mp,5@O,5@OO$.YQ?MxO,5@OOOQU1G.u1G.uO!ArQ?MxO1G.uO!A}Q`O1G.uO!BVQ7[O1G.uO$.kQWO1G0rO$.pQWO'#CiO$.{QWO'#KaO$/TQWO,5=xO$/YQWO'#KaO$/_QWO'#KaO$/mQWO'#I}O$/{QWO,5@zO$0TQrO1G1hOOQ?Mr1G1j1G1jO9^QWO1G3cO@fQWO1G3cO$0[QWO1G3cO$0aQWO1G3cOOQU1G3c1G3cO!DTQWO1G3RO!&_Q7[O1G3OO$0fQWO1G3OOOQU1G3P1G3PO!&_Q7[O1G3PO$0kQWO1G3PO$0sQ`O'#G}OOQU1G3R1G3RO!5nQ`O'#IyO!DYQpO1G3UOOQU1G3U1G3UOOQU,5=o,5=oO$0{Q7[O,5=qO9^QWO,5=qO$$lQWO,5=sO9RQWO,5=sO!A}Q`O,5=sO!BVQ7[O,5=sO:VQ7[O,5=sO$1ZQWO'#K_O$1fQWO,5=tOOQU1G.k1G.kO$1kQ?MxO1G.kO@fQWO1G.kO$1vQWO1G.kO9hQ?MxO1G.kO$4OQrO,5@|O$4]QWO,5@|O9WQWO,5@|O$4hQ^O,5={O$4oQWO,5={OOQU1G3e1G3eO`Q^O1G3eOOQU1G3k1G3kOOQU1G3m1G3mO>oQWO1G3oO$4tQ^O1G3qO$8xQ^O'#HpOOQU1G3t1G3tO$9VQWO'#HvO>tQWO'#HxOOQU1G3z1G3zO$9_Q^O1G3zO9hQ?MxO1G4QOOQU1G4S1G4SOOQ?Mp'#G]'#G]O9hQ?MxO1G4UO9hQ?MxO1G4WO$=fQWO,5@]O!(oQ^O,5;]O9WQWO,5;]O>tQWO,5:UO!(oQ^O,5:UO!A}Q`O,5:UO$=kQ07bO,5:UOOQO,5;],5;]O$=uQ`O'#IaO$>]QWO,5@[OOQ?Mr1G/o1G/oO$>eQ`O'#IgO$>oQWO,5@kOOQ?Mp1G0v1G0vO#!|Q`O,5:UOOQO'#Ic'#IcO$>wQ`O,5:nOOQ?Mv,5:n,5:nO#&wQWO1G0WOOQ?Mr1G0W1G0WO%[Q^O1G0WOOQ?Mr1G0q1G0qO>tQWO1G0qO!A}Q`O1G0qO!BVQ7[O1G0qOOQ?Mp1G5w1G5wO!ArQ?MxO1G0ZOOQO1G0j1G0jO%[Q^O1G0jO$?OQ?MxO1G0jO$?ZQ?MxO1G0jO!A}Q`O1G0ZOCrQ`O1G0ZO$?iQ?MxO1G0jOOQO1G0Z1G0ZO$?}Q?NdO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$@XQpO,5<gO$@aQrO1G4fOOQO1G4l1G4lO%[Q^O,5>zO$@kQWO1G5uO$@sQWO1G6TO$@{QrO1G6UO9WQWO,5?QO$AVQ?NdO1G6RO%[Q^O1G6RO$AgQ?MxO1G6RO$AxQWO1G6QO$AxQWO1G6QO9WQWO1G6QO$BQQWO,5?TO9WQWO,5?TOOQO,5?T,5?TO$BfQWO,5?TO$)nQWO,5?TOOQO-E<g-E<gOOQQ1G0^1G0^OOQQ1G0`1G0`O#-YQWO1G0`OOQU7+(b7+(bO!&_Q7[O7+(bO%[Q^O7+(bO$BtQWO7+(bO$CPQ7[O7+(bO$C_Q?NdO,5=UO$EgQ?NdO,5=WO$GoQ?NdO,5=UO$I}Q?NdO,5=WO$L]Q?NdO,59rO$NbQ?NdO,5<iO%!jQ?NdO,5<kO%$rQ?NdO,5<yOOQ?Mr7+&^7+&^O%'QQ?NdO7+&^O%'tQ^O'#IbO%(RQWO,5@^O%(ZQrO,5@^OOQ?Mr1G/|1G/|O%(eQWO7+&gOOQ?Mr7+&g7+&gO%(jQ07bO,5:cO%[Q^O7+&yO%(tQ07bO,5:_O%)RQ07bO,5:gO%)]Q07bO,5:iO%)gQ7[O'#IeO%)qQWO,5@cOOQ?Mr1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%)yQtO,5<YO!(oQ^O,5<XOOQO-E<h-E<hOOQ?Mr7+'X7+'XOOOS7+'d7+'dOOOS1G1{1G1{O%*UQWO1G1{OOQ?Mr1G1}1G1}O%*ZQpO,59lOOOO-E<[-E<[OOQ?Mr1G/U1G/UO%*bQ?NdO7+'jOOQ?Mr,5?Y,5?YO%+UQpO,5?YOOQ?Mr1G2d1G2dP!&_Q7[O'#InPOQ?Mr-E<l-E<lO%+tQ7[O,5?]OOQ?Mr-E<o-E<oO%,gQ7[O,5?_OOQ?Mr-E<q-E<qO%,qQpO1G2tO%,xQpO'#CrO%-`Q7[O'#J}O%-gQ^O'#EqOOQ?Mr1G2]1G2]O%-qQWO'#ImO%.VQWO,5@rO%.VQWO,5@rO%._QWO,5@rO%.jQWO,5@rOOQO1G2_1G2_O%.xQ7[O1G2^O!+hQ7[O1G2^O%/YQ$ISO'#IoO%/gQWO,5@sO!&_Q7[O,5@sO%/oQpO,5@sOOQ?Mr1G2b1G2bOOQ?Mp,5<{,5<{OOQ?Mp,5<|,5<|O$)nQWO,5<|OCcQWO,5<|O!A}Q`O,5<{OOQO'#Gd'#GdO%/yQWO,5<}OOQ?Mp,5=P,5=PO$)nQWO,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ?Mv1G2f1G2fO!5nQ`O,5<{O%0RQWO,5<|O$$gQWO,5<}O!5nQ`O,5<|O!+hQ7[O'#IqO%0uQ7[O1G2pO!+hQ7[O'#IsO%1hQ7[O1G2rO%1rQ7[O1G5lO%1|Q7[O1G5lOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9UQ`O,59tO%[Q^O,59tOOQ?Mr,5<h,5<hO%2ZQWO1G2XO!+hQ7[O1G2`O%2`Q?NdO7+'kOOQ?Mr7+'k7+'kO!$[Q^O7+'kO%3SQWO,5;]OOQ?Mp,5?c,5?cOOQ?Mp-E<u-E<uO%3XQpO'#KYO#&wQWO7+(bO4UQrO7+(bO$BwQWO7+(bO%3cQ?NbO'#CiO%3vQ?NbO,5=QO%4hQWO,5=QOOQ?Mp1G5j1G5jOOQU7+$a7+$aO!ArQ?MxO7+$aO!A}Q`O7+$aO!$[Q^O7+&^O%4mQWO'#I|O%5UQWO,5@{OOQO1G3d1G3dO9^QWO,5@{O%5UQWO,5@{O%5^QWO,5@{OOQO,5?i,5?iOOQO-E<{-E<{OOQ?Mr7+'S7+'SO%5cQWO7+(}O9hQ?MxO7+(}O9^QWO7+(}O@fQWO7+(}OOQU7+(m7+(mO%5hQ?NbO7+(jO!&_Q7[O7+(jO%5rQpO7+(kOOQU7+(k7+(kO!&_Q7[O7+(kO%5yQWO'#K^O%6UQWO,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQU7+(p7+(pO%7eQ`O'#HWOOQU1G3]1G3]O!&_Q7[O1G3]O%[Q^O1G3]O%7lQWO1G3]O%7wQ7[O1G3]O9hQ?MxO1G3_O$$lQWO1G3_O9RQWO1G3_O!A}Q`O1G3_O!BVQ7[O1G3_O%8VQWO'#I{O%8kQWO,5@yO%8sQ`O,5@yOOQ?Mp1G3`1G3`OOQU7+$V7+$VO@fQWO7+$VO9hQ?MxO7+$VO%9OQWO7+$VO%[Q^O1G6hO%[Q^O1G6iO%9TQ?MxO1G6hO%9_Q^O1G3gO%9fQWO1G3gO%9kQ^O1G3gOOQU7+)P7+)PO9hQ?MxO7+)ZO`Q^O7+)]OOQU'#Kd'#KdOOQU'#JO'#JOO%9rQ^O,5>[OOQU,5>[,5>[O%[Q^O'#HqO%:PQWO'#HsOOQU,5>b,5>bO9WQWO,5>bOOQU,5>d,5>dOOQU7+)f7+)fOOQU7+)l7+)lOOQU7+)p7+)pOOQU7+)r7+)rO%:UQ`O1G5wO%:jQ07bO1G0wO%:tQWO1G0wOOQO1G/p1G/pO%;PQ07bO1G/pO>tQWO1G/pO!(oQ^O'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!A}Q`O1G/pOOQO-E<a-E<aOOQ?Mv1G0Y1G0YOOQ?Mr7+%r7+%rO#&wQWO7+%rOOQ?Mr7+&]7+&]O>tQWO7+&]O!A}Q`O7+&]OOQO7+%u7+%uO$?}Q?NdO7+&UOOQO7+&U7+&UO%[Q^O7+&UO%;ZQ?MxO7+&UO!ArQ?MxO7+%uO!A}Q`O7+%uO%;fQ?MxO7+&UO%;tQ?NdO7++mO%[Q^O7++mO%<UQWO7++lO%<UQWO7++lOOQO1G4o1G4oO9WQWO1G4oO%<^QWO1G4oOOQQ7+%z7+%zO#&wQWO<<K|O4UQrO<<K|O%<lQWO<<K|OOQU<<K|<<K|O!&_Q7[O<<K|O%[Q^O<<K|O%<tQWO<<K|O%=PQ?NdO,5?]O%?XQ?NdO,5?_O%AaQ?NdO1G2^O%CoQ?NdO1G2pO%EwQ?NdO1G2rO%HPQrO,5>|O%[Q^O,5>|OOQO-E<`-E<`O%HZQWO1G5xOOQ?Mr<<JR<<JRO%HcQ07bO1G0rO%JjQ07bO1G0|O%JqQ07bO1G0|O%LrQ07bO1G0|O%LyQ07bO1G0|O%NkQ07bO1G0|O& RQ07bO1G0|O&#cQ07bO1G0|O&#jQ07bO1G0|O&%eQ07bO1G0|O&%rQ07bO1G0|O&'mQ07bO1G0|O&(QQ?NdO<<JeO&)VQ07bO1G0|O&*xQ07bO'#JgO&,{Q07bO1G1bO&-YQ07bO1G0RO&-dQ7[O,5?POOQO-E<c-E<cO!(oQ^O'#FpOOQO'#KU'#KUOOQO1G1t1G1tO&-nQWO1G1sO&-sQ07bO,5?WOOOS7+'g7+'gOOOO1G/W1G/WOOQ?Mr1G4t1G4tO!+hQ7[O7+(`O&0TQrO'#CiO&0_QWO,5?XO9WQWO,5?XOOQO-E<k-E<kO&0mQWO1G6^O&0mQWO1G6^O&0uQWO1G6^O&1QQ7[O7+'xO&1bQpO,5?ZO&1lQWO,5?ZO!&_Q7[O,5?ZOOQO-E<m-E<mO&1qQpO1G6_O&1{QWO1G6_OOQ?Mp1G2h1G2hO$)nQWO1G2hOOQ?Mp1G2g1G2gO&2TQWO1G2iO!&_Q7[O1G2iOOQ?Mp1G2n1G2nO!A}Q`O1G2gOCcQWO1G2hO&2YQWO1G2iO&2bQWO1G2hO&3UQ7[O,5?]OOQ?Mr-E<p-E<pO&3wQ7[O,5?_OOQ?Mr-E<r-E<rO!+hQ7[O7++WOOQ?Mr1G/`1G/`O&4RQWO1G/`OOQ?Mr7+'s7+'sO&4WQ7[O7+'zO&4hQ?NdO<<KVOOQ?Mr<<KV<<KVO&5[QWO1G0wO!&_Q7[O'#IvO&5aQWO,5@tO&7cQrO<<K|O!&_Q7[O1G2lOOQU<<G{<<G{O!ArQ?MxO<<G{O&7jQ?NdO<<IxOOQ?Mr<<Ix<<IxOOQO,5?h,5?hO&8^QWO,5?hO&8cQWO,5?hOOQO-E<z-E<zO&8qQWO1G6gO&8qQWO1G6gO9^QWO1G6gO@fQWO<<LiOOQU<<Li<<LiO&8yQWO<<LiO9hQ?MxO<<LiOOQU<<LU<<LUO%5hQ?NbO<<LUOOQU<<LV<<LVO%5rQpO<<LVO&9OQ`O'#IxO&9ZQWO,5@xO!(oQ^O,5@xOOQU1G3T1G3TO%-gQ^O'#JqOOQO'#Iz'#IzO9hQ?MxO'#IzO&9cQ`O,5=rOOQU,5=r,5=rO&9jQ`O'#EdO&:OQWO7+(wO&:TQWO7+(wOOQU7+(w7+(wO!&_Q7[O7+(wO%[Q^O7+(wO&:]QWO7+(wOOQU7+(y7+(yO9hQ?MxO7+(yO$$lQWO7+(yO9RQWO7+(yO!A}Q`O7+(yO&:hQWO,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&:sQWO1G6eO9hQ?MxO<<GqOOQU<<Gq<<GqO@fQWO<<GqO&:{QWO7+,SO&;QQWO7+,TO%[Q^O7+,SO%[Q^O7+,TOOQU7+)R7+)RO&;VQWO7+)RO&;[Q^O7+)RO&;cQWO7+)ROOQU<<Lu<<LuOOQU<<Lw<<LwOOQU-E<|-E<|OOQU1G3v1G3vO&;hQWO,5>]OOQU,5>_,5>_O&;mQWO1G3|O9WQWO7+&cO!(oQ^O7+&cOOQO7+%[7+%[O&;rQ07bO1G6UO>tQWO7+%[OOQ?Mr<<I^<<I^OOQ?Mr<<Iw<<IwO>tQWO<<IwOOQO<<Ip<<IpO$?}Q?NdO<<IpO%[Q^O<<IpOOQO<<Ia<<IaO!ArQ?MxO<<IaO&;|Q?MxO<<IpO&<XQ?NdO<= XO&<iQWO<= WOOQO7+*Z7+*ZO9WQWO7+*ZOOQUANAhANAhO&<qQrOANAhO!&_Q7[OANAhO#&wQWOANAhO4UQrOANAhO&<xQWOANAhO%[Q^OANAhO&=QQ?NdO7+'xO&?`Q?NdO,5?]O&AhQ?NdO,5?_O&CpQ?NdO7+'zO&FOQrO1G4hO&FYQ07bO7+&^O&HZQ07bO,5=UO&J_Q07bO,5=WO&JoQ07bO,5=UO&KPQ07bO,5=WO&KaQ07bO,59rO&MdQ07bO,5<iO' dQ07bO,5<kO'#dQ07bO,5<yO'%VQ07bO7+'jO'%dQ07bO7+'kO'%qQWO,5<[OOQO7+'_7+'_O'%vQ7[O<<KzOOQO1G4s1G4sO'%}QWO1G4sO'&YQWO1G4sO'&hQWO7++xO'&hQWO7++xO!&_Q7[O1G4uO'&pQpO1G4uO'&zQWO7++yOOQ?Mp7+(S7+(SO$)nQWO7+(TO''SQpO7+(TOOQ?Mp7+(R7+(RO$)nQWO7+(SO''ZQWO7+(TO!&_Q7[O7+(TOCcQWO7+(SO''`Q7[O<<NrOOQ?Mr7+$z7+$zO''jQpO,5?bOOQO-E<t-E<tO''tQ?NbO7+(WOOQUAN=gAN=gO9^QWO1G5SOOQO1G5S1G5SO'(UQWO1G5SO'(ZQWO7+,RO'(ZQWO7+,RO9hQ?MxOANBTO@fQWOANBTOOQUANBTANBTOOQUANApANApOOQUANAqANAqO'(cQWO,5?dOOQO-E<v-E<vO'(nQ07bO1G6dOOQO,5?f,5?fOOQO-E<x-E<xOOQU1G3^1G3^O%-gQ^O,5<}OOQU<<Lc<<LcO!&_Q7[O<<LcO&:OQWO<<LcO'(xQWO<<LcO%[Q^O<<LcOOQU<<Le<<LeO9hQ?MxO<<LeO$$lQWO<<LeO9RQWO<<LeO')QQ`O1G5RO')]QWO7+,POOQUAN=]AN=]O9hQ?MxOAN=]OOQU<= n<= nOOQU<= o<= oO')eQWO<= nO')jQWO<= oOOQU<<Lm<<LmO')oQWO<<LmO')tQ^O<<LmOOQU1G3w1G3wO>tQWO7+)hO'){QWO<<I}O'*WQ07bO<<I}OOQO<<Hv<<HvOOQ?MrAN?cAN?cOOQOAN?[AN?[O$?}Q?NdOAN?[OOQOAN>{AN>{O%[Q^OAN?[OOQO<<Mu<<MuOOQUG27SG27SO!&_Q7[OG27SO#&wQWOG27SO'*bQrOG27SO4UQrOG27SO'*iQWOG27SO'*qQ07bO<<JeO'+OQ07bO1G2^O',qQ07bO,5?]O'.qQ07bO,5?_O'0qQ07bO1G2pO'2qQ07bO1G2rO'4qQ07bO<<KVO'5OQ07bO<<IxOOQO1G1v1G1vO!+hQ7[OANAfOOQO7+*_7+*_O'5]QWO7+*_O'5hQWO<= dO'5pQpO7+*aOOQ?Mp<<Ko<<KoO$)nQWO<<KoOOQ?Mp<<Kn<<KnO'5zQpO<<KoO$)nQWO<<KnOOQO7+*n7+*nO9^QWO7+*nO'6RQWO<= mOOQUG27oG27oO9hQ?MxOG27oO!(oQ^O1G5OO'6ZQWO7+,OO&:OQWOANA}OOQUANA}ANA}O!&_Q7[OANA}O'6cQWOANA}OOQUANBPANBPO9hQ?MxOANBPO$$lQWOANBPOOQO'#H['#H[OOQO7+*m7+*mOOQUG22wG22wOOQUANEYANEYOOQUANEZANEZOOQUANBXANBXO'6kQWOANBXOOQU<<MS<<MSO!(oQ^OAN?iOOQOG24vG24vO$?}Q?NdOG24vO#&wQWOLD,nOOQULD,nLD,nO!&_Q7[OLD,nO'6pQrOLD,nO'6wQ07bO7+'xO'8jQ07bO,5?]O':jQ07bO,5?_O'<jQ07bO7+'zO'>]Q7[OG27QOOQO<<My<<MyOOQ?MpANAZANAZO$)nQWOANAZOOQ?MpANAYANAYOOQO<<NY<<NYOOQULD-ZLD-ZO'>mQ07bO7+*jOOQUG27iG27iO&:OQWOG27iO!&_Q7[OG27iOOQUG27kG27kO9hQ?MxOG27kOOQUG27sG27sO'>wQ07bOG25TOOQOLD*bLD*bOOQU!$(!Y!$(!YO#&wQWO!$(!YO!&_Q7[O!$(!YO'?RQ?NdOG27QOOQ?MpG26uG26uOOQULD-TLD-TO&:OQWOLD-TOOQULD-VLD-VOOQU!)9Et!)9EtO#&wQWO!)9EtOOQU!$(!o!$(!oOOQU!.K;`!.K;`O'AaQ07bOG27QO!(oQ^O'#DwO1PQWO'#EUO'CSQrO'#JmO'CZQMnO'#DsO'CbQ^O'#D{O'CiQrO'#CiO'FPQrO'#CiO!(oQ^O'#D}O'FaQ^O,5;WO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O'#IlO'HdQWO,5<gO'HlQ7[O,5;bO'JVQ7[O,5;bO!(oQ^O,5;vO!&_Q7[O'#GjO'HlQ7[O'#GjO!&_Q7[O'#GlO'HlQ7[O'#GlO1SQWO'#DWO1SQWO'#DWO!&_Q7[O'#F}O'HlQ7[O'#F}O!&_Q7[O'#GPO'HlQ7[O'#GPO!&_Q7[O'#G_O'HlQ7[O'#G_O!(oQ^O,5:gO'J^Q`O'#D[O!(oQ^O,5@jO'FaQ^O1G0rO'JhQ07bO'#CiO!(oQ^O1G2OO!&_Q7[O'#IqO'HlQ7[O'#IqO!&_Q7[O'#IsO'HlQ7[O'#IsO'JrQpO'#CrO!&_Q7[O,5<rO'HlQ7[O,5<rO'FaQ^O1G2PO!(oQ^O7+&yO!&_Q7[O1G2^O'HlQ7[O1G2^O!&_Q7[O'#IqO'HlQ7[O'#IqO!&_Q7[O'#IsO'HlQ7[O'#IsO!&_Q7[O1G2`O'HlQ7[O1G2`O'FaQ^O7+'kO'FaQ^O7+&^O!&_Q7[OANAfO'HlQ7[OANAfO'KVQWO'#ElO'K[QWO'#ElO'KdQWO'#F[O'KiQWO'#EvO'KnQWO'#KOO'KyQWO'#J|O'LUQWO,5;WO'LZQ7[O,5<dO'LbQWO'#GWO'LgQWO'#GWO'LlQWO,5<eO'LtQWO,5;WO'L|Q07bO1G1_O'MTQWO,5<rO'MYQWO,5<rO'M_QWO,5<tO'MdQWO,5<tO'MiQWO1G2PO'MnQWO1G0rO'MsQ7[O<<KzO'MzQ7[O<<KzO7eQ7[O'#FzO9RQWO'#FyOAaQWO'#EkO!(oQ^O,5;sO!3XQWO'#GWO!3XQWO'#GWO!3XQWO'#GYO!3XQWO'#GYO!+hQ7[O7+(`O!+hQ7[O7+(`O%,qQpO1G2tO%,qQpO1G2tO!&_Q7[O,5=YO!&_Q7[O,5=Y",stateData:"( O~O'wOS'xOSTOS'yRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(OSO(QTO(TUO([VO(j[O(yiO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y:lO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O'y!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'u]X([]X(m]X(t]X(u]X~O!d%PX~P(qO_!}O(Q#PO(R!}O(S#PO~O_#QO(S#PO(T#PO(U#QO~Ou#SO!R#TO(]#TO(^#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O:pO(QTO(TUO([VO(j[O(yiO~O!X#ZO!Y#WO!V(cP!V(qP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(QTO(TUO([VO(j[O(yiO~Om#mO!X#iO!y]O#f#lO#g#iO(O:qO!h(nP~P.iO!i#oO(O#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$]OR#zO[$cOo$QO}#yO!P#{O!Y$`O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~Oa(aX'u(aX's(aX!h(aX!V(aX![(aX%f(aX!d(aX~P1qO#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX![(bX%f(bX~Oa(bX'u(bX's(bX!V(bX!h(bXs(bX!d(bX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{%[O!P$|O![$}O!f%aO!i$yO#g%bO$V%_O$r%]O$t%^O$w%`O(O$sO(QTO(TUO([$vO(t%OO(u%QOg(XP~O!i%cO~O!P%fO![%gO(O%eO~O!d%kO~Oa%lO'u%lO~O}%pO~P%[O(P!lO~P%[O%k%tO~P%[Oh%WO!i%cO(O%eO(P!lO~Oe%{O!i%cO(O%eO~O#s$SO~O}&QO![%}O!i&PO%g&TO(O%eO(P!lO(QTO(TUO`)SP~O!u#sO~O%p&VO!P)OX![)OX(O)OX~O(O&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(P!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'u%lO~Oa%lO't&{O'u%lO~Oa%lO't&}O'u%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(P!lO(QTO(TUO~Op'RO!P'QO!X'UO(`'PO!Z(dP!Z(sP~P@YOk'_O![']O(O%eO~Oe'dO!i%cO(O%eO~O}&QO!i&PO~Op!nO!P!oO!y:lO#Q!pO#R!pO#T!pO#U!pO(P!lO(QTO(TUO(`!mO(j!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%WO!d#vO!i%cO'u%lO(m'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(QTO(TUO(`!mO(j!sO~O![XOp(hX!P(hX!_(hX!`(hX!a(hX!y(hX#Q(hX#R(hX#S(hX#T(hX#U(hX#X(hX#Y(hX(P(hX(Q(hX(T(hX(`(hX(j(hX~O!`'iO!a'iO(P!lO~PCrO'z'uO'{'uO'|'wO~O_!}O(Q'yO(R!}O(S'yO~O_#QO(S'yO(T'yO(U#QO~Ou#SO!R#TO(]#TO(^'}O~O!X(PO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(RO!V(cX~OP$]OR#zO[$cOo$QO}#yO!P#{O!Y(RO!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~O!V(cX~PGfO!V(WO~O!V(pX!Y(pX!d(pX!h(pX(m(pX~O#](pX#h#aX!Z(pX~PIiO#](XO!V(rX!Y(rX~O!Y(YO!V(qX~O!V(]O~O#]$eO~PIiO!Z(^O~P`OR#zO}#yO!P#{O!i#xO([VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(m!ka(t!ka(u!ka~Oa!ka'u!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKPO!h(_O~O!d#vO#](`O(m'mO!Y(oXa(oX'u(oX~O!h(oX~PMlO!P%fO![%gO!y]O#f(eO#g(dO(O%eO~O!Y(fO!h(nX~O!h(hO~O!P%fO![%gO#g(dO(O%eO~OP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O!d#vO!h(bX~P! YOR(jO}(iO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(O!xa~P!#ZO!u(nO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~O#h(tO~O!X(vO!h(fP~P%[O(`(xO(j[O~O!P(zO!i#xO(`(xO(j[O~OP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![!eO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y<dO~O!Y$`Oa$oa'u$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)`O~P!&_Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{%[O!P$|O![$}O!f%aO!i$yO#g%bO$V%_O$r%]O$t%^O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~Og(kP~P!+hO})eO!d)dO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)dO![(vX$Y(vX$[(vX$^(vX$e(vX~O})eO~P!-qO})eO![(vX$Y(vX$[(vX$^(vX$e(vX~O![)gO$Y)kO$[)fO$^)fO$e)lO~O!X)oO~P!(oO$[$hO$^$gO$e)sO~Ok$xX}$xX!P$xX#P$xX(t$xX(u$xX~OgjXg$xXkjX!YjX#]jX~P!/gOp)uO~Ou)vO(])wO(^)yO~Ok*SO}){O!P)|O(t%OO(u%QO~Og)zO~P!0pOg*TO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P*VO![*WO!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(QTO(TUO([$vO(t%OO(u%QO~O!X*ZO(O*UO!h(zP~P!1_O#h*]O~O!i*^O~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(O*`O(QTO(TUO([$vO(t%OO(u%QO~O!X*cO!V({P~P!3^Oo*oO!P*gO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO(`!mO~O!Z*lO~P!5RO#P$dOk(ZX}(ZX!P(ZX(t(ZX(u(ZX!Y(ZX#](ZX~Og(ZX#}(ZX~P!5zOk*tO#]*sOg(YX!Y(YX~O!Y*uOg(XX~O(O&WOg(XP~O!i*|O~O(O(rO~Om+QO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(O%eO!h(nP~O!d#vO#h+RO~O!P%fO!X+TO!Y(YO![%gO(O%eO!V(qP~Op'XO!P+VO!X+UO(QTO(TUO(`(xO~O!Z(sP~P!8uO!Y+WOa)PX'u)PX~OP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~Oa!ga!Y!ga'u!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9mOR#zO}#yO!P#{O!i#xO([VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(m!oa(t!oa(u!oa~Oa!oa'u!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<TOR#zO}#yO!P#{O!i#xO([VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(m!qa(t!qa(u!qa~Oa!qa'u!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>kOh%WOk+aO![']O%f+`O~O!d+cOa(WX![(WX'u(WX!Y(WX~Oa%lO![XO'u%lO~Oh%WO!i%cO~Oh%WO!i%cO(O%eO~O!d#vO#h(tO~Ob+nO%g+oO(O+kO(QTO(TUO!Z)TP~O!Y+pO`)SX~O[+tO~O`+uO~O![%}O(O%eO(P!lO`)SP~Oh%WO#]+zO~Oh%WOk+}O![$}O~O![,PO~O},RO![XO~O%k%tO~O!u,WO~Oe,]O~Ob,^O(O#nO(QTO(TUO!Z)RP~Oe%{O~O%g!QO(O&WO~P=RO[,cO`,bO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(QTO(TUO([VO(j[O(yiO~O![!eO!r!gO$V!kO(O!dO~P!EkO`,bOa%lO'u%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa,hO!rwO#t!OO%i!OO%j!OO%k!OO~P!HTO!i&lO~O&Y,nO~O![,pO~O&k,rO&m,sOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(O&ha(Q&ha(T&ha([&ha(j&ha(y&ha!Z&ha&a&hab&ha&f&ha~O(O,xO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# ZO!d,}O#],|Oh(eX!Y#eX!Y(eX!Z#eX!Z(eX!d(eX!i(eX~Oh%WO!d-PO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(QTO(TUO(`!mO~OP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![!eO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(QTO(TUO([VO(j[O(y<dO~O(O;fO~P##_O!Y-TO!Z(dX~O!Z-VO~O!d,}O#],|O!Y#eX!Z#eX~O!Y-WO!Z(sX~O!Z-YO~O!`-ZO!a-ZO(P!lO~P#!|O!Z-^O~P'_Ok-aO![']O~O!V-fO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(P!xa(Q!xa(T!xa(`!xa(j!xa~P!#ZO!m-kO#]-iO~PCSO!`-mO!a-mO(P!lO~PCrOa%lO#]-iO'u%lO~Oa%lO!d#vO#]-iO'u%lO~Oa%lO!d#vO!m-kO#]-iO'u%lO(m'mO~O'z'uO'{'uO'|-rO~Os-sO~O!V'Sa!Y'Sa~P!9mO!X-wO!V'SX!Y'SX~P%[O!Y(RO!V(ca~O!V(ca~PGfO!Y(YO!V(qa~O!P%fO!X-{O![%gO(O%eO!V'YX!Y'YX~O#]-}O!Y(oa!h(oaa(oa'u(oa~O!d#vO~P#+eO!Y(fO!h(na~O!P%fO![%gO#g.RO(O%eO~Om.WO!P%fO!X.TO![%gO!y]O#f.VO#g.TO(O%eO!Y']X!h']X~OR.[O!i#xO~Oh%WOk._O![']O%f.^O~Oa#`i!Y#`i'u#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9mOk<pO}){O!P)|O(t%OO(u%QO~O#h#[aa#[a#]#[a'u#[a!Y#[a!h#[a![#[a!V#[a~P#.aO#h(ZXP(ZXR(ZX[(ZXa(ZXo(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX'u(ZX([(ZX(m(ZX!h(ZX!V(ZX's(ZXs(ZX![(ZX%f(ZX!d(ZX~P!5zO!Y.lO!h(fX~P!9mO!h.oO~O!V.qO~OP$]OR#zO}#yO!P#{O!i#xO!m$]O([VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#1|O#k$OO~P#1|OP$]OR#zO}#yO!P#{O!i#xO!m$]O#k$OO#l$PO#m$PO#n$PO([VO[#jia#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~Oo#ji~P#4kOo$QO~P#4kOP$]OR#zOo$QO}#yO!P#{O!i#xO!m$]O#k$OO#l$PO#m$PO#n$PO#o$RO([VOa#ji!Y#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O[#ji#O#ji#p#ji#q#ji#r#ji#s#ji~P#7YO[$cO#O$SO#p$SO#q$SO#r$bO#s$SO~P#7YOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO([VO(u#}Oa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji(t#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$VO~P#:WO#w#ji~P#:WOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO([VOa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w#ji(t#ji(u#ji~P#<uO#w$VO(t#|O(u#}O~P#<uOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO([VO(t#|O(u#}O~Oa#ji!Y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~P#?jOP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X!Y]X!Z]X~O#}]X~P#BQOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO#w:{O#y:}O#z;OO([VO(m$ZO(t#|O(u#}O~O#}.sO~P#D_O#P$dO#];TO$P;TO#}(bX!Z(bX~P! YOa'`a!Y'`a'u'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9mOP#jiR#ji[#jia#jio#ji!Y#ji!i#ji!m#ji#O#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji([#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~P#.aO!Y.wOg(kX~P!0pOg.yO~Oa$Oi!Y$Oi'u$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9mO$[.zO$^.zO~O$[.{O$^.{O~O!d)dO#].|O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X.}O~O![)gO$Y/PO$[)fO$^)fO$e/QO~O!Y;PO!Z(aX~P#D_O!Z/RO~O!d)dO$e(vX~O$e/TO~Ou)vO(])wO(^/WO~O!V/[O~P!&_O(t%OOk%^a}%^a!P%^a(u%^a!Y%^a#]%^a~Og%^a#}%^a~P#L{O(u%QOk%`a}%`a!P%`a(t%`a!Y%`a#]%`a~Og%`a#}%`a~P#MnO!YfX!dfX!hfX!h$xX(mfX~P!/gO!X/eO!Y(YO(O/dO!V(qP!V({P~P!1_Oo*oO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO~Op'XO!P/fO!X+UO!Z*lO(QTO(TUO(`;cO!Z(sP~P$ XO!h/gO~P#.aO!Y/hO!d#vO(m'mO!h(zX~O!h/mO~O!P%fO!X*ZO![%gO(O%eO!h(zP~O#h/oO~O!V$xX!Y$xX!d%PX~P!/gO!Y/pO!V({X~P#.aO!d/rO~O!V/tO~Oh%WOo/xO!d#vO!i%cO(m'mO~O(O/zO~O!d+cO~Oa%lO!Y0OO'u%lO~O!Z0QO~P!5RO!`0RO!a0RO(P!lO(`!mO~O!P0TO(`!mO~O#X0UO~Og%^a!Y%^a#]%^a#}%^a~P!0pOg%`a!Y%`a#]%`a#}%`a~P!0pO(O&WOg'iX!Y'iX~O!Y*uOg(Xa~Og0_O~OR0`O}0`O!P0aO#P$dOkza(tza(uza!Yza#]za~Ogza#}za~P$&zO}){O!P)|Ok$qa(t$qa(u$qa!Y$qa#]$qa~Og$qa#}$qa~P$'sO}){O!P)|Ok$sa(t$sa(u$sa!Y$sa#]$sa~Og$sa#}$sa~P$(fO#h0dO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0pO!d#vO~O#h0gO~O!Y+WOa)Pa'u)Pa~OR#zO}#yO!P#{O!i#xO([VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(m!oi(t!oi(u!oi~Oa!oi'u!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$*TOh%WOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(QTO(TUO([$vO(t%OO(u%QO~Om0pO(O0oO~P$,kO!d+cOa(Wa![(Wa'u(Wa!Y(Wa~O#h0vO~O[]X!YfX!ZfX~O!Y0wO!Z)TX~O!Z0yO~O[0zO~Ob0|O(O+kO(QTO(TUO~O![%}O(O%eO`'qX!Y'qX~O!Y+pO`)Sa~O!h1PO~P!9mO[1SO~O`1TO~O#]1WO~Ok1ZO![$}O~O(`(xO!Z)QP~Oh%WOk1dO![1aO%f1cO~O[1nO!Y1lO!Z)RX~O!Z1oO~O`1qOa%lO'u%lO~O(O#nO(QTO(TUO~O#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O#s1tO&W1uOa(bX~P$2RO#]$eO#s1tO&W1uO~Oa1wO~P%[Oa1yO~O&a1|OP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(O&_i(Q&_i(T&_i([&_i(j&_i(y&_i!Z&_ib&_i&f&_i~Ob2SO!Z2QO&f2RO~P`O![XO!i2UO~O&m,sOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(O&hi(Q&hi(T&hi([&hi(j&hi(y&hi!Z&hi&a&hib&hi&f&hi~O!V2[O~O!Y!^a!Z!^a~P#D_Op!nO!P!oO!X2bO(`!mO!Y'TX!Z'TX~P@YO!Y-TO!Z(da~O!Y'ZX!Z'ZX~P!8uO!Y-WO!Z(sa~O!Z2iO~P'_Oa%lO#]2rO'u%lO~Oa%lO!d#vO#]2rO'u%lO~Oa%lO!d#vO!m2vO#]2rO'u%lO(m'mO~Oa%lO'u%lO~P!9mO!Y$`Os$oa~O!V'Si!Y'Si~P!9mO!Y(RO!V(ci~O!Y(YO!V(qi~O!V(ri!Y(ri~P!9mO!Y(oi!h(oia(oi'u(oi~P!9mO#]2xO!Y(oi!h(oia(oi'u(oi~O!Y(fO!h(ni~O!P%fO![%gO!y]O#f2}O#g2|O(O%eO~O!P%fO![%gO#g2|O(O%eO~Ok3UO![']O%f3TO~Oh%WOk3UO![']O%f3TO~O#h%^aP%^aR%^a[%^aa%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#L{O#h%`aP%`aR%`a[%`aa%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#MnO#h%^aP%^aR%^a[%^aa%^ao%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.aO#h%`aP%`aR%`a[%`aa%`ao%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.aO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'uza([za(mza!hza!Vza'szasza![za%fza!dza~P$&zO#h$qaP$qaR$qa[$qaa$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'u$qa([$qa(m$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$'sO#h$saP$saR$sa[$saa$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'u$sa([$sa(m$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$(fO#h%RaP%RaR%Ra[%Raa%Rao%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'u%Ra([%Ra(m%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.aOa#`q!Y#`q'u#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9mO!X3^O!Y'UX!h'UX~P%[O!Y.lO!h(fa~O!Y.lO!h(fa~P!9mO!V3aO~O#}!ka!Z!ka~PKPO#}!ga!Y!ga!Z!ga~P#D_O#}!oa!Z!oa~P!<TO#}!qa!Z!qa~P!>kOg'XX!Y'XX~P!+hO!Y.wOg(ka~OSfO![3uO$c3vO~O!Z3zO~Os3{O~P#.aOa$lq!Y$lq'u$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9mO!V3|O~P#.aO}){O!P)|O(u%QOk'ea(t'ea!Y'ea#]'ea~Og'ea#}'ea~P%+]O}){O!P)|Ok'ga(t'ga(u'ga!Y'ga#]'ga~Og'ga#}'ga~P%,OO(m$ZO~P#.aO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/gO(O;lO~P!1_OmkO(O4OO~P.iO!P%fO!X4QO![%gO(O%eO!Y'aX!h'aX~O!Y/hO!h(za~O!Y/hO!d#vO!h(za~O!Y/hO!d#vO(m'mO!h(za~Og$zi!Y$zi#]$zi#}$zi~P!0pO!X4YO!V'cX!Y'cX~P!3^O!Y/pO!V({a~O!Y/pO!V({a~P#.aO!d#vO#s4bO~Oo4eO!d#vO(m'mO~O(t%OOk%^i}%^i!P%^i(u%^i!Y%^i#]%^i~Og%^i#}%^i~P%0^O(u%QOk%`i}%`i!P%`i(t%`i!Y%`i#]%`i~Og%`i#}%`i~P%1POg(Yi!Y(Yi~P!0pO#]4lOg(Yi!Y(Yi~P!0pO!h4oO~Oa$mq!Y$mq'u$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9mO!V4sO~O!Y4tO![(|X~P#.aOa$xX![$xX%Z]X'u$xX!Y$xX~P!/gO%Z4wOalXklX}lX!PlX![lX'ulX(tlX(ulX!YlX~O%Z4wO~Ob4}O%g5OO(O+kO(QTO(TUO!Y'pX!Z'pX~O!Y0wO!Z)Ta~O[5SO~O`5TO~Oa%lO'u%lO~P#.aO![$}O~P#.aO!Y5]O#]5_O!Z)QX~O!Z5`O~Op!nO!P5aO!_!yO!`!vO!a!vO!y:lO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5fO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O!Z5eO~P%6ZOk5kO![1aO%f5jO~Oh%WOk5kO![1aO%f5jO~Ob5rO(O#nO(QTO(TUO!Y'oX!Z'oX~O!Y1lO!Z)Ra~O(QTO(TUO(`5tO~O`5xO~O#s5{O&W5|O~PMlO!h5}O~P%[Oa6PO~Oa6PO~P%[Ob2SO!Z6UO&f2RO~P`O!d6WO~O!d6YOh(ei!Y(ei!Z(ei!d(ei!i(ei~O!Y#ei!Z#ei~P#D_O#]6ZO!Y#ei!Z#ei~O!Y!^i!Z!^i~P#D_Oa%lO#]6dO'u%lO~Oa%lO!d#vO#]6dO'u%lO~O!Y(oq!h(oqa(oq'u(oq~P!9mO!Y(fO!h(nq~O!P%fO![%gO#g6kO(O%eO~O![']O%f6nO~Ok6rO![']O%f6nO~O#h'eaP'eaR'ea['eaa'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'u'ea(['ea(m'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%+]O#h'gaP'gaR'ga['gaa'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'u'ga(['ga(m'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%,OO#h$ziP$ziR$zi[$zia$zio$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'u$zi([$zi(m$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.aO#h%^iP%^iR%^i[%^ia%^io%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'u%^i([%^i(m%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%0^O#h%`iP%`iR%`i[%`ia%`io%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'u%`i([%`i(m%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%1PO!Y'Ua!h'Ua~P!9mO!Y.lO!h(fi~O#}#`i!Y#`i!Z#`i~P#D_OP$]OR#zO}#yO!P#{O!i#xO!m$]O([VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#k#ji~P%HpO#k:tO~P%HpOP$]OR#zO}#yO!P#{O!i#xO!m$]O#k:tO#l:uO#m:uO#n:uO([VO[#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~Oo#ji~P%JxOo:vO~P%JxOP$]OR#zOo:vO}#yO!P#{O!i#xO!m$]O#k:tO#l:uO#m:uO#n:uO#o:wO([VO#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O[#ji#O#ji#p#ji#q#ji#r#ji#s#ji~P%MQO[;SO#O:xO#p:xO#q:xO#r;RO#s:xO~P%MQOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO([VO(u#}O#y#ji#z#ji#}#ji(m#ji(t#ji!Y#ji!Z#ji~O#w:{O~P& iO#w#ji~P& iOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO([VO#y#ji#z#ji#}#ji(m#ji!Y#ji!Z#ji~O#w#ji(t#ji(u#ji~P&#qO#w:{O(t#|O(u#}O~P&#qOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO#w:{O#y:}O([VO(t#|O(u#}O~O#z#ji#}#ji(m#ji!Y#ji!Z#ji~P&&POa#{y!Y#{y'u#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9mOk<qO}){O!P)|O(t%OO(u%QO~OP#jiR#ji[#jio#ji!i#ji!m#ji#O#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji([#ji(m#ji!Y#ji!Z#ji~P&(tO#P$dOP(ZXR(ZX[(ZXk(ZXo(ZX}(ZX!P(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX#}(ZX([(ZX(m(ZX(t(ZX(u(ZX!Y(ZX!Z(ZX~O#}$Oi!Y$Oi!Z$Oi~P#D_O#}!oi!Z!oi~P$*TOg'Xa!Y'Xa~P!0pO!Z7UO~O!Y'`a!Z'`a~P#D_OP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!d%WX#s%WX~P&-}O!d#vO(m'mO!Y'aa!h'aa~O!Y/hO!h(zi~O!Y/hO!d#vO!h(zi~Og$zq!Y$zq#]$zq#}$zq~P!0pO!V'ca!Y'ca~P#.aO!d7]O~O!Y/pO!V({i~P#.aO!Y/pO!V({i~O!V7aO~O!d#vO#s7fO~Oo7gO!d#vO(m'mO~O}){O!P)|O(u%QOk'fa(t'fa!Y'fa#]'fa~Og'fa#}'fa~P&2mO}){O!P)|Ok'ha(t'ha(u'ha!Y'ha#]'ha~Og'ha#}'ha~P&3`O!V7iO~Og$|q!Y$|q#]$|q#}$|q~P!0pOa$my!Y$my'u$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9mO!d6YO~O!Y4tO![(|a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa([$Sa(m$Sa(t$Sa(u$Sa~O%f6nO~P&5iOa#`y!Y#`y'u#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9mO[7nO~Ob7pO(O+kO(QTO(TUO~O!Y0wO!Z)Ti~O`7tO~O(`(xO!Y'lX!Z'lX~O!Y5]O!Z)Qa~O!Z7}O~P%6ZOp!nO!P8OO(QTO(TUO(`!mO(j!sO~O![1aO~O![1aO%f8QO~Ok8TO![1aO%f8QO~O[8YO!Y'oa!Z'oa~O!Y1lO!Z)Ri~O!h8^O~O!h8_O~O!h8bO~O!h8bO~P%[Oa8dO~O!d8eO~O!h8fO~O!Y(ri!Z(ri~P#D_Oa%lO#]8nO'u%lO~O!Y(oy!h(oya(oy'u(oy~P!9mO!Y(fO!h(ny~O%f8qO~P&5iO![']O%f8qO~O#h$zqP$zqR$zq[$zqa$zqo$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'u$zq([$zq(m$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.aO#h'faP'faR'fa['faa'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'u'fa(['fa(m'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&2mO#h'haP'haR'ha['haa'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'u'ha(['ha(m'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&3`O#h$|qP$|qR$|q[$|qa$|qo$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'u$|q([$|q(m$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.aO!Y'Ui!h'Ui~P!9mO#}#`q!Y#`q!Z#`q~P#D_O(t%OOP%^aR%^a[%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a([%^a(m%^a!Y%^a!Z%^a~Ok%^a}%^a!P%^a(u%^a~P&FgO(u%QOP%`aR%`a[%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a([%`a(m%`a!Y%`a!Z%`a~Ok%`a}%`a!P%`a(t%`a~P&HkOk<qO}){O!P)|O(u%QO~P&FgOk<qO}){O!P)|O(t%OO~P&HkOR0`O}0`O!P0aO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za([za(mza(tza(uza!Yza!Zza~O}){O!P)|OP$qaR$qa[$qak$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa([$qa(m$qa(t$qa(u$qa!Y$qa!Z$qa~O}){O!P)|OP$saR$sa[$sak$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa([$sa(m$sa(t$sa(u$sa!Y$sa!Z$sa~OP%RaR%Ra[%Rao%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra([%Ra(m%Ra!Y%Ra!Z%Ra~P&(tO#}$lq!Y$lq!Z$lq~P#D_O#}$mq!Y$mq!Z$mq~P#D_O!Z9OO~O#}9PO~P!0pO!d#vO!Y'ai!h'ai~O!d#vO(m'mO!Y'ai!h'ai~O!Y/hO!h(zq~O!V'ci!Y'ci~P#.aO!Y/pO!V({q~O!V9VO~P#.aO!V9VO~Og(Yy!Y(Yy~P!0pO!Y'ja!['ja~P#.aOa%Yq![%Yq'u%Yq!Y%Yq~P#.aO[9[O~O!Y0wO!Z)Tq~O#]9`O!Y'la!Z'la~O!Y5]O!Z)Qi~P#D_O![1aO%f9dO~O(QTO(TUO(`9iO~O!Y1lO!Z)Rq~O!h9lO~O!h9mO~O!h9nO~O!h9nO~P%[O#]9qO!Y#ey!Z#ey~O!Y#ey!Z#ey~P#D_O%f9vO~P&5iO![']O%f9vO~O#}#{y!Y#{y!Z#{y~P#D_OP$ziR$zi[$zio$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi([$zi(m$zi!Y$zi!Z$zi~P&(tO}){O!P)|O(u%QOP'eaR'ea['eak'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(['ea(m'ea(t'ea!Y'ea!Z'ea~O}){O!P)|OP'gaR'ga['gak'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(['ga(m'ga(t'ga(u'ga!Y'ga!Z'ga~O(t%OOP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i([%^i(m%^i(u%^i!Y%^i!Z%^i~O(u%QOP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i([%`i(m%`i(t%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#D_O#}#`y!Y#`y!Z#`y~P#D_O!d#vO!Y'aq!h'aq~O!Y/hO!h(zy~O!V'cq!Y'cq~P#.aO!V:PO~P#.aO!Y0wO!Z)Ty~O!Y5]O!Z)Qq~O![1aO%f:WO~O!h:ZO~O%f:`O~P&5iOP$zqR$zq[$zqo$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq([$zq(m$zq!Y$zq!Z$zq~P&(tO}){O!P)|O(u%QOP'faR'fa['fak'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(['fa(m'fa(t'fa!Y'fa!Z'fa~O}){O!P)|OP'haR'ha['hak'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(['ha(m'ha(t'ha(u'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q([$|q(m$|q!Y$|q!Z$|q~P&(tOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0pO!Y'lq!Z'lq~P#D_O!Y#e!Z!Z#e!Z~P#D_O#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'u%b!Z([%b!Z(m%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.aOP%b!ZR%b!Z[%b!Zo%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z([%b!Z(m%b!Z!Y%b!Z!Z%b!Z~P&(tOs(aX~P1qO}%pO~P!(oO(P!lO~P!(oO!VfX!YfX#]fX~P&-}OP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!dfX!h]X!hfX(mfX~P'CvOP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![XO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y<dO~O!Y;PO!Z$oa~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;ZO!P$|O![$}O!f<kO!i$yO#g;aO$V%_O$r;]O$t;_O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~O#t)`O~P'HlOo!bX(m!bX~P# ZO!Z]X!ZfX~P'CvO!VfX!V$xX!YfX!Y$xX#]fX~P!/gO#h:sO~O!d#vO#h:sO~O#];TO~O#s:xO~O#];dO!Y(rX!Z(rX~O#];TO!Y(pX!Z(pX~O#h;eO~Og;gO~P!0pO#h;mO~O#h;nO~O!d#vO#h;oO~O!d#vO#h;eO~O#};pO~P#D_O#h;qO~O#h;rO~O#h;wO~O#h;xO~O#h;yO~O#h;zO~O#};{O~P!0pO#};|O~P!0pO#P#Q#R#T#U#X#f#g#r(y$r$t$w%Z%e%f%g%n%p%s%t%v%x~'yT#l!U'w(P#mp#k#no}'x$['x(O$^(`~",goto:"$2y)XPPPPPP)YPP)]P)nP+O/PPPPP5wPP6_PP<U?kP@OP@OPPP@OPBOP@OP@OP@OPBSPBXPBvPGoPPPGsPPPPGsJuPPPJ{KwPGsPGsPPNVGsPPPGsPGsP!!^GsP!%s!&x!'RP!'u!'y!'u!+VPPPPPPP!+v!&xPP!,W!-QP!/tGsGs!/y!3U!7l!7l!;jPPP!;rGsPPPPPPPPPPP!?QP!@_PPGs!ApPGsPGsGsGsGsGsPGs!CSP!F]P!IbP!If!Ip!It!ItP!FYP!Ix!IxP!L}P!MRGsGs!MX#!]BS@OP@OP@O@OP##i@O@O#%s@O#(c@O#*g@O@O#+V#-c#-c#-h#-q#-c#-zP#-cP@O#.d@O#2T@O@O5wPPP#5zPPP#6e#6eP#6eP#6{#6ePP#7RP#6xP#6x#7f#6x#8Q#8W5t)]#8Z)]P#8b#8b#8bP)]P)]P)]P)]PP)]P#8h#8kP#8k)]P#8oP#8rP)]P)]P)]P)]P)]P)])]PP#8x#9O#9Z#9a#9g#9m#9s#:R#:X#:c#:i#:s#:y#;Z#;a#<R#<e#<k#<q#=P#=f#?T#?c#?j#AO#A^#Bx#CW#C^#Cd#Cj#Ct#Cz#DQ#D[#Dn#DtPPPPPPPPPP#DzPPPPPPP#Eo#Hv#JV#J^#JfPPP$ lP$ u$$m$+V$+Y$+]$+x$+{$,S$,[P$,b$,eP$-R$-V$-}$/]$/b$/xPP$/}$0T$0XP$0[$0`$0d$1Y$1q$2Y$2^$2a$2d$2j$2m$2q$2uR!|RoqOXst!Z#d%k&o&q&r&t,k,p1|2PY!vQ']-]1a5dQ%rvQ%zyQ&R|Q&g!VS'T!e-TQ'c!iS'i!r!yU*f$}*W*kQ+i%{Q+v&TQ,[&aQ-Z'[Q-e'dQ-m'jQ0R*mQ1k,]R;b:o%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5a5k5{5|6P6d8O8T8d8nS#q]:l!r)[$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gU*y%[;Y;ZQ+n%}Q,^&dQ,e&lQ0m+aQ0q+cQ0|+oQ1s,cQ3Q._Q4}0wQ5r1lQ6p3UQ7p5OR8t6r'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gt!nQ!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5d5f$z$ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qQ&U|Q'R!eU'X%g*W-WQ+n%}Q,^&dQ0c*|Q0|+oQ1R+uQ1r,bQ1s,cQ4}0wQ5W1TQ5r1lQ5u1nQ5v1qQ7p5OQ7s5TQ8]5xQ9_7tR9j8YrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR,`&h&x^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<f<g[#]WZ#W#Z'U(P!b%hm#h#i#l$y%c%f(Y(d(e(f*V*Z*^+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6Y6kQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(m#sS+h%z%{Q+l%}Q,V&_Q,Z&aS-d'c'dQ.a(nQ0u+iQ0{+oQ0}+pQ1Q+tQ1f,WS1j,[,]Q2n-eQ4|0wQ5Q0zQ5V1SQ5q1kQ7o5OQ7r5SQ9Z7nR:R9[!O${i$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m!S%wy!i!u%y%z%{'S'b'c'd'h'r*e+h+i-Q-d-e-l/y0u2g2n2u4dQ+b%uQ+{&XQ,O&YQ,Y&aQ.`(mQ1e,VU1i,Z,[,]Q3V.aQ5l1fS5p1j1kQ8X5q#[<h#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qo<i;R;S;V;X;];_;a;i;k;n;r;t;v;x;|W%Ui%W*u<dS&X!Q&fQ&Y!RQ&Z!SR+y&V${%Ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qT)w$v)xV*y%[;Y;ZW'X!e%g*W-WS(y#y#zQ+]%pQ+s&QS.Y(i(jQ1[,PQ4m0`R7x5]'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<g$i$_c#Y#e%o%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)X)Z)])c)m+^+r-R-p-u-z-|.k.n.r.t.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4q4z6]6c6h6w6x7R7S7z8h8l8v8|8}9s:T:[:m<ZT#TV#U'PkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ'V!eR2c-Tv!nQ!e!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5d5fU*e$}*W*kS/y*f*mQ0S*nQ1^,RQ4d0RR4g0UnqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&v!^Q's!xS(o#u:sQ+f%xQ,T&[Q,U&^Q-b'aQ-o'lS.j(t;eS0f+R;oQ0s+gQ1`,SQ2T,rQ2V,sQ2_-OQ2l-cQ2o-gS4r0g;yQ4x0tS4{0v;zQ6[2aQ6`2mQ6e2tQ7m4yQ8i6^Q8j6aQ8m6fR9p8f$d$^c#Y#e%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)X)Z)])c)m+^+r-R-p-u-z-|.k.n.r.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4q4z6]6c6h6w6x7R7S7z8h8l8v8|8}9s:T:[:m<ZS(k#p'fQ({#zS+[%o.tS.Z(j(lR3O.['OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gS#q]:lQ&q!XQ&r!YQ&t![Q&u!]R1{,nQ'^!hQ+_%uQ-`'`S.](m+bQ2j-_W3S.`.a0l0nQ6_2kW6l3P3R3V4vU8p6m6o6qU9u8r8s8uS:^9t9wQ:f:_R:i:gU!wQ']-]T5b1a5d!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(f,k,p.S1|2P]!pQ!r']-]1a5dT#q]:l%[{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nS(y#y#zS.Y(i(j!s<Q$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gU$fd)[,eS(l#p'fU*r%S(s3pU0b*x.f6}Q4v0mQ6m3QQ8s6pR9w8tm!tQ!r!v!y!z']'i'j'k-]-m1a5d5fQ'q!uS(b#g1vS-k'h'tQ/k*YQ/w*eQ2v-nQ4U/lS4_/x0SQ7X4PS7d4e4gQ9R7YR9Y7gQ#wbQ'p!uS(a#g1vS(c#m+QQ+S%dQ+d%vQ+j%|U-j'h'q'tQ.O(bQ/j*YQ/v*eQ/|*hQ0r+eQ1g,XS2s-k-nQ2{.WS4T/k/lS4^/w0SQ4a/{Q4c/}Q5n1hQ6g2vQ7W4PQ7[4US7`4_4gQ7e4fQ8V5oS9Q7X7YQ9U7aQ9W7dQ9g8WQ9}9RQ:O9VQ:Q9YQ:Y9hQ:b:PQ<T<OQ<`<XR<a<YV!wQ']-]%[aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nS#wz!j!r;}$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gR<T<f%[bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nQ%dj!S%vy!i!u%y%z%{'S'b'c'd'h'r*e+h+i-Q-d-e-l/y0u2g2n2u4dS%|z!jQ+e%wQ,X&aW1h,Y,Z,[,]U5o1i1j1kS8W5p5qQ9h8X!r<O$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ<X<eR<Y<f%OeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nY#bWZ#W#Z(P!b%hm#h#i#l$y%c%f(Y(d(e(f*V*Z*^+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6Y6kQ,f&l!p<P$[$n)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gR<S'UU'Y!e%g*WR2e-W%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5a5k5{5|6P6d8O8T8d8n!r)[$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ,e&lQ0m+aQ3Q._Q6p3UR8t6r!b$Uc#Y%o(O(U(p(u)W)X)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:m!P:z)Z)m-R.t2]2`3b3l3m3q3y6]6x7R7S7z8h8v8|8}:T:[<Z!f$Wc#Y%o(O(U(p(u)T)U)W)X)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:m!T:|)Z)m-R.t2]2`3b3i3j3l3m3q3y6]6x7R7S7z8h8v8|8}:T:[<Z!^$[c#Y%o(O(U(p(u)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:mQ3}/cz<g)Z)m-R.t2]2`3b3q3y6]6x7R7S7z8h8v8|8}:T:[<ZQ<l<nR<m<o'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gS$oh$pR3v.|'VgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gT$kf$qQ$ifS)f$l)jR)r$qT$jf$qT)h$l)j'VhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gT$oh$pQ$rhR)q$p%[jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8n!s<e$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<g#elOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_(z)o+V+a,h,k,p-a._.}/f0a1d1t1u1w1y1|2P2R3U3u5a5k5{5|6P6r8O8T8d!O%Si$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m#[(s#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qQ*}%`Q/Y){o3p;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!O$zi$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mQ*_${U*h$}*W*kQ+O%aQ/}*i#[<V#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn<W;R;S;V;X;];_;a;i;k;n;r;t;v;x;|Q<[<hQ<]<iQ<^<jR<_<k!O%Si$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m#[(s#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qo3p;R;S;V;X;];_;a;i;k;n;r;t;v;x;|noOXst!Z#d%k&o&q&r&t,k,p1|2PS*b$|*VQ,y&{Q,z&}R4X/p$z%Ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qQ+|&YQ1Y,OQ5Z1XR7w5[V*j$}*W*kU*j$}*W*kT5c1a5dU/{*g/f5aT4f0T8OQ+d%vQ/|*hQ0r+eQ1g,XQ5n1hQ8V5oQ9g8WR:Y9h!O%Pi$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mr*O$w)a*P*q+P/n0Z0[3s4V4p7V7h9|<U<b<cS0V*p0W#[;U#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn;V;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!^;h(q)_*X*a.b.e.i/U/Z/c/s0k1V1X3Y4W4[5Y5[6s6v7^7b7j7l9T9X:a<n<o`;i3o6y6|7Q8w9x9{:jS;s.d3ZT;t6{8z!O%Ri$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mv*Q$w)a*R*p+P/_/n0Z0[3s4V4h4p7V7h9|<U<b<cS0X*q0Y#[;W#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn;X;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!b;j(q)_*X*a.c.d.i/U/Z/c/s0k1V1X3W3Y4W4[5Y5[6s6t6v7^7b7j7l9T9X:a<n<od;k3o6z6{7Q8w8x9x9y9{:jS;u.e3[T;v6|8{rnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ&c!UR,h&lrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR&c!UQ,Q&ZR1U+ysnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ1b,VS5i1e1fU8P5g5h5lS9c8R8SS:U9b9eQ:c:VR:h:dQ&j!VR,a&fR5u1nS&O|&TR0}+pQ&o!WR,k&pR,q&uT1},p2PR,u&vQ,t&vR2W,uQ'v!{R-q'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)x$vR/V)xQ#UVR'|#UQ#XWU(S#X(T-xQ(T#YR-x(UQ-U'VR2d-UQ.m(uS3_.m3`R3`.nQ-]']R2h-]Y!rQ']-]1a5dR'g!rQ.x)aR3t.xU#_W%f*VU(Z#_([-yQ([#`R-y(VQ-X'YR2f-Xt`OXst!V!Z#d%k&f&h&o&q&r&t,k,p1|2PS#hZ%cU#r`#h.SR.S(fQ(g#jQ.P(cW.X(g.P2y6iQ2y.QR6i2zQ)j$lR/O)jQ$phR)p$pQ$acU)^$a-t;QQ-t:mR;Q)mQ/i*YW4R/i4S7Z9SU4S/j/k/lS7Z4T4UR9S7[$X)}$w(q)_)a*X*a*p*q*z*{+P.d.e.g.h.i/U/Z/_/a/c/n/s0Z0[0k1V1X3W3X3Y3o3s4V4W4[4h4j4p5Y5[6s6t6u6v6{6|7O7P7Q7V7^7b7h7j7l8w8x8y9T9X9x9y9z9{9|:a:j<U<b<c<n<oQ/q*aU4Z/q4]7_Q4]/sR7_4[S*k$}*WR0P*kr*P$w)a*p*q+P/n0Z0[3s4V4p7V7h9|<U<b<c!^.b(q)_*X*a.d.e.i/U/Z/c/s0k1V1X3Y4W4[5Y5[6s6v7^7b7j7l9T9X:a<n<oU/`*P.b6ya6y3o6{6|7Q8w9x9{:jQ0W*pQ3Z.dU4i0W3Z8zR8z6{v*R$w)a*p*q+P/_/n0Z0[3s4V4h4p7V7h9|<U<b<c!b.c(q)_*X*a.d.e.i/U/Z/c/s0k1V1X3W3Y4W4[5Y5[6s6t6v7^7b7j7l9T9X:a<n<oU/b*R.c6ze6z3o6{6|7Q8w8x9x9y9{:jQ0Y*qQ3[.eU4k0Y3[8{R8{6|Q*v%VR0^*vQ4u0kR7k4uQ+X%iR0j+XQ5^1[S7y5^9aR9a7zQ,S&[R1_,SQ5d1aR7|5dQ1m,^S5s1m8ZR8Z5uQ0x+lW5P0x5R7q9]Q5R0{Q7q5QR9]7rQ+q&OR1O+qQ2P,pR6T2PYrOXst#dQ&s!ZQ+Z%kQ,j&oQ,l&qQ,m&rQ,o&tQ1z,kS1},p2PR6S1|Q%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Y%jQ+f%xQ+x&UQ,`&jQ,w&yW-h'h'p'q'tQ-o'lQ0O*jQ0s+gS1p,a,dQ2X,vQ2Y,yQ2Z,zQ2o-gW2q-j-k-n-pQ4x0tQ5U1RQ5X1VQ5m1gQ5w1rQ6R1{U6b2p2s2vQ6e2tQ7m4yQ7u5WQ7v5YQ7{5cQ8U5nQ8[5vS8k6c6gQ8m6fQ9^7sQ9f8VQ9k8]Q9r8lQ:S9_Q:X9gQ:]9sR:e:YQ%xyQ'a!iQ'l!uU+g%y%z%{Q-O'SU-c'b'c'dS-g'h'rQ/u*eS0t+h+iQ2a-QS2m-d-eQ2t-lQ4`/yQ4y0uQ6^2gQ6a2nQ6f2uR7c4dS$xi<dR*w%WU%Vi%W<dR0]*uQ$wiS(q#v+cS)_$b$cQ)a$dQ*X$yS*a$|*VQ*p%PQ*q%RQ*z%]Q*{%^Q+P%bQ.d;UQ.e;WQ.g;[Q.h;^Q.i;`Q/U)vS/Z)|/]Q/_*OQ/a*QQ/c*SQ/n*]S/s*c/eQ0Z*sQ0[*th0k+`.^1c3T5j6n8Q8q9d9v:W:`Q1V+zQ1X+}Q3W;hQ3X;jQ3Y;mS3o;R;SQ3s.wQ4V/oQ4W/pQ4[/rQ4h0VQ4j0XQ4p0dQ5Y1WQ5[1ZQ6s;qQ6t;sQ6u;uQ6v;wQ6{;VQ6|;XQ7O;]Q7P;_Q7Q;aQ7V3}Q7^4YQ7b4bQ7h4lQ7j4tQ7l4wQ8w;nQ8x;iQ8y;kQ9T7]Q9X7fQ9x;rQ9y;tQ9z;vQ9{;xQ9|9PQ:a;{Q:j;|Q<U<dQ<b<lQ<c<mQ<n<pR<o<qQ*x%[Q.f;YR6};ZnpOXst!Z#d%k&o&q&r&t,k,p1|2PQ!fPS#fZ#oQ&y!`U'e!o5a8OQ'{#SQ(|#{Q)n$nS,d&h&kQ,i&lQ,v&xQ,{'QQ-_'_Q.p(zQ/S)oS0h+V/fQ0n+aQ1x,hQ2k-aQ3R._Q3x.}Q4n0aQ5h1dQ5y1tQ5z1uQ6O1wQ6Q1yQ6V2RQ6q3UQ7T3uQ8S5kQ8`5{Q8a5|Q8c6PQ8u6rQ9e8TR9o8d#YcOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_(z+V+a,h,k,p-a._/f0a1d1t1u1w1y1|2P2R3U5a5k5{5|6P6r8O8T8dQ#YWQ#eYQ%ouQ%qvS%sw!gS(O#W(RQ(U#ZQ(p#uQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)X$YQ)Z$[Q)]$`Q)c$eW)m$n)o.}3uQ+^%rQ+r&PS-R'U2bQ-p'oS-u(P-wQ-z(XQ-|(`Q.k(tQ.n(vQ.r:kQ.t:nQ.u:oQ.v:rQ/X)zQ0e+RQ2],|Q2`-PQ2p-iQ2w-}Q3].lQ3b:sQ3c:tQ3d:uQ3e:vQ3f:wQ3g:xQ3h:yQ3i:zQ3j:{Q3k:|Q3l:}Q3m;OQ3n.sQ3q;TQ3r;bQ3y;PQ4q0gQ4z0vQ6];dQ6c2rQ6h2xQ6w3^Q6x;eQ7R;gQ7S;oQ7z5_Q8h6ZQ8l6dQ8v;pQ8|;yQ8};zQ9s8nQ:T9`Q:[9qQ:m#SR<Z<gR#[WR'W!el!tQ!r!v!y!z']'i'j'k-]-m1a5d5fS'S!e-TS-Q'T'[R2g-ZR(w#xQ!fQT-[']-]]!qQ!r']-]1a5dQ#p]R'f:lR)b$dY!uQ']-]1a5dQ'h!rS'r!v!yS't!z5fS-l'i'jQ-n'kR2u-mT#kZ%cS#jZ%cS%im,gU(c#h#i#lS.Q(d(eQ.U(fQ0i+WQ2z.RU2{.S.T.VS6j2|2}R8o6kd#^W#W#Z%f(P(Y*V+T-{/er#gZm#h#i#l%c(d(e(f+W.R.S.T.V2|2}6kS*Y$y*^Q/l*ZQ1v,gQ2^,}Q4P/hQ6X2UQ7Y4QQ8g6YT<R'U+UV#aW%f*VU#`W%f*VS(Q#W(YU(V#Z+T/eS-S'U+UT-v(P-{V'Z!e%g*WQ$lfR)t$qT)i$l)jR3w.|T*[$y*^T*d$|*VQ0l+`Q3P.^Q5g1cQ6o3TQ8R5jQ8r6nQ9b8QQ9t8qQ:V9dQ:_9vQ:d:WR:g:`nqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&i!VR,`&ftmOXst!U!V!Z#d%k&f&o&q&r&t,k,p1|2PR,g&lT%jm,gR1],PR,_&dQ&S|R+w&TR+m%}T&m!W&pT&n!W&pT2O,p2P",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:376,context:dE,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[gE],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Rp(U!b'w0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(S#S$h&j'x0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Rp(U!b'x0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(Q':f$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(U!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Rp(U!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Rp(U!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(U!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(U!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(RpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(RpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Rp(U!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(j%1l(Rp(U!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Rp(U!b$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Rp(U!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Rp(U!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(u+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(T';W$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(RpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Rp(U!b(P%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Rp(U!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Rp(U!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Rp(U!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Rp(U!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(U!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(U!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(U!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(U!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(U!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(U!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Rp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Rp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Rp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Rp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(RpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(RpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Rp(U!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Rp(U!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Rp(U!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Rp(U!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Rp(U!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Rp(U!b'y0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Rp(U!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(U!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(U!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(RpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(RpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Rp(U!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Rp(U!b(y7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(m(Ct$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Rp(U!b([+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Rp(U!b(O,2j$^#t(`$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Rp(U!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(t+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z(Kd$?V_!Z(Cds`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Rp(U!b'w0/l$[#t(O,2j(`$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Rp(U!b'x0/l$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[fE,pE,mE,2,3,4,5,6,7,8,9,10,11,12,13,14,hE,new cd("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(^~~",141,335),new cd("j~RQYZXz{^~^O'{~~aP!P!Qd~iO'|~~",25,318)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14769},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:322,get:t=>xE[t]||-1},{term:338,get:t=>OE[t]||-1},{term:92,get:t=>vE[t]||-1}],tokenPrec:14793}),b4=[Ft("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Ft("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Ft("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Ft("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Ft("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Ft(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Ft("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Ft(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Ft(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Ft('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Ft('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],yE=b4.concat([Ft("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Ft("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Ft("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Uv=new sw,y4=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function hl(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const jE=["FunctionDeclaration"],SE={FunctionDeclaration:hl("function"),ClassDeclaration:hl("class"),ClassExpression:()=>!0,EnumDeclaration:hl("constant"),TypeAliasDeclaration:hl("type"),NamespaceDeclaration:hl("namespace"),VariableDefinition(t,e){t.matchContext(jE)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function j4(t,e){let n=Uv.get(e);if(n)return n;let r=[],s=!0;function a(l,o){let c=t.sliceString(l.from,l.to);r.push({label:c,type:o})}return e.cursor(Ze.IncludeAnonymous).iterate(l=>{if(s)s=!1;else if(l.name){let o=SE[l.name];if(o&&o(l,a)||y4.has(l.name))return!1}else if(l.to-l.from>8192){for(let o of j4(t,l.node))r.push(o);return!1}}),Uv.set(e,r),r}const qv=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,S4=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function wE(t){let e=bt(t.state).resolveInner(t.pos,-1);if(S4.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&qv.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let s=e;s;s=s.parent)y4.has(s.name)&&(r=r.concat(j4(t.state.doc,s)));return{options:r,from:n?e.from:t.pos,validFor:qv}}const gr=Ca.define({name:"javascript",parser:bE.configure({props:[Id.add({IfStatement:hu({except:/^\s*({|else\b)/}),TryStatement:hu({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:kQ,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:wQ({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":hu({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),b0.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":pw,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),w4={test:t=>/^JSX/.test(t.name),facet:cw({commentTokens:{block:{open:"{/*",close:"*/}"}}})},k4=gr.configure({dialect:"ts"},"typescript"),$4=gr.configure({dialect:"jsx",props:[x0.add(t=>t.isTop?[w4]:void 0)]}),N4=gr.configure({dialect:"jsx ts",props:[x0.add(t=>t.isTop?[w4]:void 0)]},"typescript");let C4=t=>({label:t,type:"keyword"});const T4="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(C4),kE=T4.concat(["declare","implements","private","protected","public"].map(C4));function Pm(t={}){let e=t.jsx?t.typescript?N4:$4:t.typescript?k4:gr,n=t.typescript?yE.concat(kE):b4.concat(T4);return new O0(e,[gr.data.of({autocomplete:qQ(S4,UQ(n))}),gr.data.of({autocomplete:wE}),t.jsx?CE:[]])}function $E(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function Yv(t,e,n=t.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const NE=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),CE=ie.inputHandler.of((t,e,n,r,s)=>{if((NE?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!gr.isActiveAt(t.state,e,-1))return!1;let a=s(),{state:l}=a,o=l.changeByRange(c=>{var u;let{head:d}=c,h=bt(l).resolveInner(d-1,-1),f;if(h.name=="JSXStartTag"&&(h=h.parent),!(l.doc.sliceString(d-1,d)!=r||h.name=="JSXAttributeValue"&&h.to>d)){if(r==">"&&h.name=="JSXFragmentTag")return{range:c,changes:{from:d,insert:"</>"}};if(r=="/"&&h.name=="JSXStartCloseTag"){let p=h.parent,x=p.parent;if(x&&p.from==d-2&&((f=Yv(l.doc,x.firstChild,d))||((u=x.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let v=`${f}>`;return{range:Z.cursor(d+v.length,-1),changes:{from:d,insert:v}}}}else if(r==">"){let p=$E(h);if(p&&p.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(l.doc.sliceString(d,d+2))&&(f=Yv(l.doc,p,d)))return{range:c,changes:{from:d,insert:`</${f}>`}}}}return{range:c}});return o.changes.empty?!1:(t.dispatch([a,l.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),fl=["_blank","_self","_top","_parent"],kf=["ascii","utf-8","utf-16","latin1","latin1"],$f=["get","post","put","delete"],Nf=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],sn=["true","false"],F={},TE={a:{attrs:{href:null,ping:null,type:null,media:null,target:fl,hreflang:null}},abbr:F,address:F,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:F,aside:F,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:F,base:{attrs:{href:null,target:fl}},bdi:F,bdo:F,blockquote:{attrs:{cite:null}},body:F,br:F,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Nf,formmethod:$f,formnovalidate:["novalidate"],formtarget:fl,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:F,center:F,cite:F,code:F,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:F,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:F,div:F,dl:F,dt:F,em:F,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:F,figure:F,footer:F,form:{attrs:{action:null,name:null,"accept-charset":kf,autocomplete:["on","off"],enctype:Nf,method:$f,novalidate:["novalidate"],target:fl}},h1:F,h2:F,h3:F,h4:F,h5:F,h6:F,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:F,hgroup:F,hr:F,html:{attrs:{manifest:null}},i:F,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Nf,formmethod:$f,formnovalidate:["novalidate"],formtarget:fl,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:F,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:F,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:F,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:kf,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:F,noscript:F,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:F,param:{attrs:{name:null,value:null}},pre:F,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:F,rt:F,ruby:F,samp:F,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:kf}},section:F,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:F,source:{attrs:{src:null,type:null,media:null}},span:F,strong:F,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:F,summary:F,sup:F,table:F,tbody:F,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:F,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:F,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:F,time:{attrs:{datetime:null}},title:F,tr:F,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:F,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:F},R4={accesskey:null,class:null,contenteditable:sn,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:sn,autocorrect:sn,autocapitalize:sn,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":sn,"aria-autocomplete":["inline","list","both","none"],"aria-busy":sn,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":sn,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":sn,"aria-hidden":sn,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":sn,"aria-multiselectable":sn,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":sn,"aria-relevant":null,"aria-required":sn,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Q4="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of Q4)R4[t]=null;class fd{constructor(e,n){this.tags=Object.assign(Object.assign({},TE),e),this.globalAttrs=Object.assign(Object.assign({},R4),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}fd.default=new fd;function Aa(t,e,n=t.length){if(!e)return"";let r=e.firstChild,s=r&&r.getChild("TagName");return s?t.sliceString(s.from,Math.min(s.to,n)):""}function Pa(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function A4(t,e,n){let r=n.tags[Aa(t,Pa(e))];return(r==null?void 0:r.children)||n.allTags}function Q0(t,e){let n=[];for(let r=Pa(e);r&&!r.type.isTop;r=Pa(r.parent)){let s=Aa(t,r);if(s&&r.lastChild.name=="CloseTag")break;s&&n.indexOf(s)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(s)}return n}const P4=/^[:\-\.\w\u00b7-\uffff]*$/;function Vv(t,e,n,r,s){let a=/\s*>/.test(t.sliceDoc(s,s+5))?"":">",l=Pa(n,!0);return{from:r,to:s,options:A4(t.doc,l,e).map(o=>({label:o,type:"type"})).concat(Q0(t.doc,n).map((o,c)=>({label:"/"+o,apply:"/"+o+a,type:"type",boost:99-c}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Wv(t,e,n,r){let s=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:Q0(t.doc,e).map((a,l)=>({label:a,apply:a+s,type:"type",boost:99-l})),validFor:P4}}function RE(t,e,n,r){let s=[],a=0;for(let l of A4(t.doc,n,e))s.push({label:"<"+l,type:"type"});for(let l of Q0(t.doc,n))s.push({label:"</"+l+">",type:"type",boost:99-a++});return{from:r,to:r,options:s,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function QE(t,e,n,r,s){let a=Pa(n),l=a?e.tags[Aa(t.doc,a)]:null,o=l&&l.attrs?Object.keys(l.attrs):[],c=l&&l.globalAttrs===!1?o:o.length?o.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:s,options:c.map(u=>({label:u,type:"property"})),validFor:P4}}function AE(t,e,n,r,s){var a;let l=(a=n.parent)===null||a===void 0?void 0:a.getChild("AttributeName"),o=[],c;if(l){let u=t.sliceDoc(l.from,l.to),d=e.globalAttrs[u];if(!d){let h=Pa(n),f=h?e.tags[Aa(t.doc,h)]:null;d=(f==null?void 0:f.attrs)&&f.attrs[u]}if(d){let h=t.sliceDoc(r,s).toLowerCase(),f='"',p='"';/^['"]/.test(h)?(c=h[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",p=t.sliceDoc(s,s+1)==h[0]?"":h[0],h=h.slice(1),r++):c=/^[^\s<>='"]*$/;for(let x of d)o.push({label:x,apply:f+x+p,type:"constant"})}}return{from:r,to:s,options:o,validFor:c}}function PE(t,e){let{state:n,pos:r}=e,s=bt(n).resolveInner(r,-1),a=s.resolve(r);for(let l=r,o;a==s&&(o=s.childBefore(l));){let c=o.lastChild;if(!c||!c.type.isError||c.from<c.to)break;a=s=o,l=c.from}return s.name=="TagName"?s.parent&&/CloseTag$/.test(s.parent.name)?Wv(n,s,s.from,r):Vv(n,t,s,s.from,r):s.name=="StartTag"?Vv(n,t,s,r,r):s.name=="StartCloseTag"||s.name=="IncompleteCloseTag"?Wv(n,s,r,r):s.name=="OpenTag"||s.name=="SelfClosingTag"||s.name=="AttributeName"?QE(n,t,s,s.name=="AttributeName"?s.from:r,r):s.name=="Is"||s.name=="AttributeValue"||s.name=="UnquotedAttributeValue"?AE(n,t,s,s.name=="Is"?r:s.from,r):e.explicit&&(a.name=="Element"||a.name=="Text"||a.name=="Document")?RE(n,t,s,r):null}function _E(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new fd(e,n):fd.default;return s=>PE(r,s)}const EE=gr.parser.configure({top:"SingleExpression"}),_4=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:k4.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:$4.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:N4.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:EE},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:gr.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:ud.parser}],E4=[{name:"style",parser:ud.parser.configure({top:"Styles"})}].concat(Q4.map(t=>({name:t,parser:gr.parser}))),M4=Ca.define({name:"html",parser:V_.configure({props:[Id.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let s=r.lastChild;if(!s||s.name!="Element"||s.to!=r.to)break;e=r=s}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),b0.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),Ow.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),mu=M4.configure({wrap:O4(_4,E4)});function ME(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=O4((t.nestedLanguages||[]).concat(_4),(t.nestedAttributes||[]).concat(E4)));let r=n?M4.configure({wrap:n,dialect:e}):e?mu.configure({dialect:e}):mu;return new O0(r,[mu.data.of({autocomplete:_E(t)}),t.autoCloseTags!==!1?DE:[],Pm().support,l4().support])}const Hv=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),DE=ie.inputHandler.of((t,e,n,r,s)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!mu.isActiveAt(t.state,e,-1))return!1;let a=s(),{state:l}=a,o=l.changeByRange(c=>{var u,d,h;let f=l.doc.sliceString(c.from-1,c.to)==r,{head:p}=c,x=bt(l).resolveInner(p,-1),v;if(f&&r==">"&&x.name=="EndTag"){let y=x.parent;if(((d=(u=y.parent)===null||u===void 0?void 0:u.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(v=Aa(l.doc,y.parent,p))&&!Hv.has(v)){let g=p+(l.doc.sliceString(p,p+1)===">"?1:0),m=`</${v}>`;return{range:c,changes:{from:p,to:g,insert:m}}}}else if(f&&r=="/"&&x.name=="IncompleteCloseTag"){let y=x.parent;if(x.from==p-2&&((h=y.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(v=Aa(l.doc,y,p))&&!Hv.has(v)){let g=p+(l.doc.sliceString(p,p+1)===">"?1:0),m=`${v}>`;return{range:Z.cursor(p+m.length,-1),changes:{from:p,to:g,insert:m}}}}return{range:c}});return o.changes.empty?!1:(t.dispatch([a,l.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var Iv=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ZE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Kr=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],zE=function(){Iv(t,null,[{key:"escapeForHtml",value:function(n){return new t().escapeForHtml(n)}},{key:"linkify",value:function(n){return new t().linkify(n)}},{key:"ansiToHtml",value:function(n,r){return new t().ansiToHtml(n,r)}},{key:"ansiToJson",value:function(n,r){return new t().ansiToJson(n,r)}},{key:"ansiToText",value:function(n){return new t().ansiToText(n)}}]);function t(){ZE(this,t),this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0,this.decorations=[]}return Iv(t,[{key:"setupPalette",value:function(){this.PALETTE_COLORS=[];for(var n=0;n<2;++n)for(var r=0;r<8;++r)this.PALETTE_COLORS.push(Kr[n][r].color);for(var s=[0,95,135,175,215,255],a=function(f,p,x){return s[f]+", "+s[p]+", "+s[x]},l=0;l<6;++l)for(var o=0;o<6;++o)for(var c=0;c<6;++c)this.PALETTE_COLORS.push(a(l,o,c));for(var u=8,d=0;d<24;++d,u+=10)this.PALETTE_COLORS.push(a(u,u,u))}},{key:"escapeForHtml",value:function(n){return n.replace(/[&<>\"]/gm,function(r){return r=="&"?"&amp;":r=='"'?"&quot;":r=="<"?"&lt;":r==">"?"&gt;":""})}},{key:"linkify",value:function(n){return n.replace(/(https?:\/\/[^\s]+)/gm,function(r){return'<a href="'+r+'">'+r+"</a>"})}},{key:"ansiToHtml",value:function(n,r){return this.process(n,r,!0)}},{key:"ansiToJson",value:function(n,r){return r=r||{},r.json=!0,r.clearLine=!1,this.process(n,r,!0)}},{key:"ansiToText",value:function(n){return this.process(n,{},!1)}},{key:"process",value:function(n,r,s){var a=this,l=this,o=n.split(/\033\[/),c=o.shift();r==null&&(r={}),r.clearLine=/\r/.test(n);var u=o.map(function(h){return a.processChunk(h,r,s)});if(r&&r.json){var d=l.processChunkJson("");return d.content=c,d.clearLine=r.clearLine,u.unshift(d),r.remove_empty&&(u=u.filter(function(h){return!h.isEmpty()})),u}else u.unshift(c);return u.join("")}},{key:"processChunkJson",value:function(n,r,s){r=typeof r>"u"?{}:r;var a=r.use_classes=typeof r.use_classes<"u"&&r.use_classes,l=r.key=a?"class":"color",o={content:n,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,isInverted:!1,clearLine:r.clearLine,decoration:null,decorations:[],was_processed:!1,isEmpty:function(){return!o.content}},c=n.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!c)return o;o.content=c[4];var u=c[2].split(";");if(c[1]!==""||c[3]!=="m"||!s)return o;for(var d=this;u.length>0;){var h=u.shift(),f=parseInt(h);if(isNaN(f)||f===0)d.fg=d.bg=null,d.decorations=[];else if(f===1)d.decorations.push("bold");else if(f===2)d.decorations.push("dim");else if(f===3)d.decorations.push("italic");else if(f===4)d.decorations.push("underline");else if(f===5)d.decorations.push("blink");else if(f===7)d.decorations.push("reverse");else if(f===8)d.decorations.push("hidden");else if(f===9)d.decorations.push("strikethrough");else if(f===21)d.removeDecoration("bold");else if(f===22)d.removeDecoration("bold"),d.removeDecoration("dim");else if(f===23)d.removeDecoration("italic");else if(f===24)d.removeDecoration("underline");else if(f===25)d.removeDecoration("blink");else if(f===27)d.removeDecoration("reverse");else if(f===28)d.removeDecoration("hidden");else if(f===29)d.removeDecoration("strikethrough");else if(f===39)d.fg=null;else if(f===49)d.bg=null;else if(f>=30&&f<38)d.fg=Kr[0][f%10][l];else if(f>=90&&f<98)d.fg=Kr[1][f%10][l];else if(f>=40&&f<48)d.bg=Kr[0][f%10][l];else if(f>=100&&f<108)d.bg=Kr[1][f%10][l];else if(f===38||f===48){var p=f===38;if(u.length>=1){var x=u.shift();if(x==="5"&&u.length>=1){var v=parseInt(u.shift());if(v>=0&&v<=255)if(!a)this.PALETTE_COLORS||d.setupPalette(),p?d.fg=this.PALETTE_COLORS[v]:d.bg=this.PALETTE_COLORS[v];else{var y=v>=16?"ansi-palette-"+v:Kr[v>7?1:0][v%8].class;p?d.fg=y:d.bg=y}}else if(x==="2"&&u.length>=3){var g=parseInt(u.shift()),m=parseInt(u.shift()),O=parseInt(u.shift());if(g>=0&&g<=255&&m>=0&&m<=255&&O>=0&&O<=255){var b=g+", "+m+", "+O;a?p?(d.fg="ansi-truecolor",d.fg_truecolor=b):(d.bg="ansi-truecolor",d.bg_truecolor=b):p?d.fg=b:d.bg=b}}}}}return d.fg===null&&d.bg===null&&d.decorations.length===0||(o.fg=d.fg,o.bg=d.bg,o.fg_truecolor=d.fg_truecolor,o.bg_truecolor=d.bg_truecolor,o.decorations=d.decorations,o.decoration=d.decorations.slice(-1).pop()||null,o.was_processed=!0),o}},{key:"processChunk",value:function(n,r,s){var a=this;r=r||{};var l=this.processChunkJson(n,r,s),o=r.use_classes;if(l.decorations=l.decorations.filter(function(p){if(p==="reverse"){l.fg||(l.fg=Kr[0][7][o?"class":"color"]),l.bg||(l.bg=Kr[0][0][o?"class":"color"]);var x=l.fg;l.fg=l.bg,l.bg=x;var v=l.fg_truecolor;return l.fg_truecolor=l.bg_truecolor,l.bg_truecolor=v,l.isInverted=!0,!1}return!0}),r.json)return l;if(l.isEmpty())return"";if(!l.was_processed)return l.content;var c=[],u=[],d=[],h={},f=function(x){var v=[],y=void 0;for(y in x)x.hasOwnProperty(y)&&v.push("data-"+y+'="'+a.escapeForHtml(x[y])+'"');return v.length>0?" "+v.join(" "):""};return l.isInverted&&(h["ansi-is-inverted"]="true"),l.fg&&(o?(c.push(l.fg+"-fg"),l.fg_truecolor!==null&&(h["ansi-truecolor-fg"]=l.fg_truecolor,l.fg_truecolor=null)):c.push("color:rgb("+l.fg+")")),l.bg&&(o?(c.push(l.bg+"-bg"),l.bg_truecolor!==null&&(h["ansi-truecolor-bg"]=l.bg_truecolor,l.bg_truecolor=null)):c.push("background-color:rgb("+l.bg+")")),l.decorations.forEach(function(p){if(o){u.push("ansi-"+p);return}p==="bold"?u.push("font-weight:bold"):p==="dim"?u.push("opacity:0.5"):p==="italic"?u.push("font-style:italic"):p==="hidden"?u.push("visibility:hidden"):p==="strikethrough"?d.push("line-through"):d.push(p)}),d.length&&u.push("text-decoration:"+d.join(" ")),o?'<span class="'+c.concat(u).join(" ")+'"'+f(h)+">"+l.content+"</span>":'<span style="'+c.concat(u).join(";")+'"'+f(h)+">"+l.content+"</span>"}},{key:"removeDecoration",value:function(n){var r=this.decorations.indexOf(n);r>=0&&this.decorations.splice(r,1)}}]),t}(),LE=zE;const BE=Od(LE);var A0={exports:{}};function P0(t){if(!t)return"";if(!/\r/.test(t))return t;for(t=t.replace(/\r+\n/gm,`
`);/\r./.test(t);)t=t.replace(/^([^\r\n]*)\r+([^\r\n]+)/gm,function(e,n,r){return r+n.slice(r.length)});return t}function XE(t){for(var e=0,n=0;n<t.length;n++)t[e].length<=t[n].length&&(e=n);return e}function Gv(t){if(!/\r/.test(t))return t;for(var e=t.split("\r"),n=[];e.length>0;){var r=XE(e);n.push(e[r]),e=e.slice(r+1)}return n.join("\r")}function UE(t){if(!t)return"";if(!/\r/.test(t))return t;if(!/\n/.test(t))return Gv(t);t=t.replace(/\r+\n/gm,`
`);var e=t.lastIndexOf(`
`);return P0(t.slice(0,e))+`
`+Gv(t.slice(e+1))}A0.exports=P0;var qE=A0.exports.escapeCarriageReturn=P0;A0.exports.escapeCarriageReturnSafe=UE;var _0={exports:{}};_0.exports;(function(t){var e=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function l(c,u){if(!a[c]){a[c]={};for(var d=0;d<c.length;d++)a[c][c.charAt(d)]=d}return a[c][u]}var o={compressToBase64:function(c){if(c==null)return"";var u=o._compress(c,6,function(d){return r.charAt(d)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(c){return c==null?"":c==""?null:o._decompress(c.length,32,function(u){return l(r,c.charAt(u))})},compressToUTF16:function(c){return c==null?"":o._compress(c,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(c){return c==null?"":c==""?null:o._decompress(c.length,16384,function(u){return c.charCodeAt(u)-32})},compressToUint8Array:function(c){for(var u=o.compress(c),d=new Uint8Array(u.length*2),h=0,f=u.length;h<f;h++){var p=u.charCodeAt(h);d[h*2]=p>>>8,d[h*2+1]=p%256}return d},decompressFromUint8Array:function(c){if(c==null)return o.decompress(c);for(var u=new Array(c.length/2),d=0,h=u.length;d<h;d++)u[d]=c[d*2]*256+c[d*2+1];var f=[];return u.forEach(function(p){f.push(n(p))}),o.decompress(f.join(""))},compressToEncodedURIComponent:function(c){return c==null?"":o._compress(c,6,function(u){return s.charAt(u)})},decompressFromEncodedURIComponent:function(c){return c==null?"":c==""?null:(c=c.replace(/ /g,"+"),o._decompress(c.length,32,function(u){return l(s,c.charAt(u))}))},compress:function(c){return o._compress(c,16,function(u){return n(u)})},_compress:function(c,u,d){if(c==null)return"";var h,f,p={},x={},v="",y="",g="",m=2,O=3,b=2,w=[],S=0,k=0,$;for($=0;$<c.length;$+=1)if(v=c.charAt($),Object.prototype.hasOwnProperty.call(p,v)||(p[v]=O++,x[v]=!0),y=g+v,Object.prototype.hasOwnProperty.call(p,y))g=y;else{if(Object.prototype.hasOwnProperty.call(x,g)){if(g.charCodeAt(0)<256){for(h=0;h<b;h++)S=S<<1,k==u-1?(k=0,w.push(d(S)),S=0):k++;for(f=g.charCodeAt(0),h=0;h<8;h++)S=S<<1|f&1,k==u-1?(k=0,w.push(d(S)),S=0):k++,f=f>>1}else{for(f=1,h=0;h<b;h++)S=S<<1|f,k==u-1?(k=0,w.push(d(S)),S=0):k++,f=0;for(f=g.charCodeAt(0),h=0;h<16;h++)S=S<<1|f&1,k==u-1?(k=0,w.push(d(S)),S=0):k++,f=f>>1}m--,m==0&&(m=Math.pow(2,b),b++),delete x[g]}else for(f=p[g],h=0;h<b;h++)S=S<<1|f&1,k==u-1?(k=0,w.push(d(S)),S=0):k++,f=f>>1;m--,m==0&&(m=Math.pow(2,b),b++),p[y]=O++,g=String(v)}if(g!==""){if(Object.prototype.hasOwnProperty.call(x,g)){if(g.charCodeAt(0)<256){for(h=0;h<b;h++)S=S<<1,k==u-1?(k=0,w.push(d(S)),S=0):k++;for(f=g.charCodeAt(0),h=0;h<8;h++)S=S<<1|f&1,k==u-1?(k=0,w.push(d(S)),S=0):k++,f=f>>1}else{for(f=1,h=0;h<b;h++)S=S<<1|f,k==u-1?(k=0,w.push(d(S)),S=0):k++,f=0;for(f=g.charCodeAt(0),h=0;h<16;h++)S=S<<1|f&1,k==u-1?(k=0,w.push(d(S)),S=0):k++,f=f>>1}m--,m==0&&(m=Math.pow(2,b),b++),delete x[g]}else for(f=p[g],h=0;h<b;h++)S=S<<1|f&1,k==u-1?(k=0,w.push(d(S)),S=0):k++,f=f>>1;m--,m==0&&(m=Math.pow(2,b),b++)}for(f=2,h=0;h<b;h++)S=S<<1|f&1,k==u-1?(k=0,w.push(d(S)),S=0):k++,f=f>>1;for(;;)if(S=S<<1,k==u-1){w.push(d(S));break}else k++;return w.join("")},decompress:function(c){return c==null?"":c==""?null:o._decompress(c.length,32768,function(u){return c.charCodeAt(u)})},_decompress:function(c,u,d){var h=[],f=4,p=4,x=3,v="",y=[],g,m,O,b,w,S,k,$={val:d(0),position:u,index:1};for(g=0;g<3;g+=1)h[g]=g;for(O=0,w=Math.pow(2,2),S=1;S!=w;)b=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=d($.index++)),O|=(b>0?1:0)*S,S<<=1;switch(O){case 0:for(O=0,w=Math.pow(2,8),S=1;S!=w;)b=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=d($.index++)),O|=(b>0?1:0)*S,S<<=1;k=n(O);break;case 1:for(O=0,w=Math.pow(2,16),S=1;S!=w;)b=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=d($.index++)),O|=(b>0?1:0)*S,S<<=1;k=n(O);break;case 2:return""}for(h[3]=k,m=k,y.push(k);;){if($.index>c)return"";for(O=0,w=Math.pow(2,x),S=1;S!=w;)b=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=d($.index++)),O|=(b>0?1:0)*S,S<<=1;switch(k=O){case 0:for(O=0,w=Math.pow(2,8),S=1;S!=w;)b=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=d($.index++)),O|=(b>0?1:0)*S,S<<=1;h[p++]=n(O),k=p-1,f--;break;case 1:for(O=0,w=Math.pow(2,16),S=1;S!=w;)b=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=d($.index++)),O|=(b>0?1:0)*S,S<<=1;h[p++]=n(O),k=p-1,f--;break;case 2:return y.join("")}if(f==0&&(f=Math.pow(2,x),x++),h[k])v=h[k];else if(k===p)v=m+m.charAt(0);else return null;y.push(v),h[p++]=m+v.charAt(0),f--,m=v,f==0&&(f=Math.pow(2,x),x++)}}};return o}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(_0);var YE=_0.exports;const VE=Od(YE);var T=function(){return T=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)};function ot(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Cl(t,e,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function o(d){try{u(r.next(d))}catch(h){l(h)}}function c(d){try{u(r.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((r=r.apply(t,[])).next())})}function Tl(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Rt(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Vn=function(t){return i.jsx("svg",T({fill:"currentColor",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg"},t))},WE=function(){return i.jsxs(Vn,{viewBox:"0 0 48 48",children:[i.jsx("title",{children:"Sign in"}),i.jsx("path",{d:"M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h14.55v3H9v30h14.55v3Zm24.3-9.25-2.15-2.15 5.1-5.1h-17.5v-3h17.4l-5.1-5.1 2.15-2.15 8.8 8.8Z"})]})},HE=function(){return i.jsxs(Vn,{viewBox:"0 0 48 48",children:[i.jsx("title",{children:"Sign out"}),i.jsx("path",{d:"M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h14.55v3H9v30h14.55v3Zm24.3-9.25-2.15-2.15 5.1-5.1h-17.5v-3h17.4l-5.1-5.1 2.15-2.15 8.8 8.8Z"})]})},nh=function(){return i.jsxs(Vn,{fill:"none",stroke:"currentColor",children:[i.jsx("title",{children:"Restart script"}),i.jsx("path",{d:"M8 2C4.68629 2 2 4.68629 2 8C2 10.0946 3.07333 11.9385 4.7 13.0118",strokeLinecap:"round"}),i.jsx("path",{d:"M14.0005 7.9998C14.0005 5.82095 12.8391 3.91335 11.1016 2.8623",strokeLinecap:"round"}),i.jsx("path",{d:"M14.0003 2.3335H11.167C10.8908 2.3335 10.667 2.55735 10.667 2.8335V5.66683",strokeLinecap:"round"}),i.jsx("path",{d:"M1.99967 13.6665L4.83301 13.6665C5.10915 13.6665 5.33301 13.4426 5.33301 13.1665L5.33301 10.3332",strokeLinecap:"round"}),i.jsx("path",{d:"M10 10L12 12L10 14",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M14.667 14L12.667 14",strokeLinecap:"round",strokeLinejoin:"round"})]})},IE=function(){return i.jsxs(Vn,{children:[i.jsx("title",{children:"Run sandbox"}),i.jsx("path",{d:"M11.0792 8.1078C11.2793 8.25007 11.27 8.55012 11.0616 8.67981L6.02535 11.8135C5.79638 11.956 5.5 11.7913 5.5 11.5216L5.5 8.40703L5.5 4.80661C5.5 4.52735 5.81537 4.36463 6.04296 4.52647L11.0792 8.1078Z"})]})},GE=function(){return i.jsxs(Vn,{children:[i.jsx("title",{children:"Click to go back"}),i.jsx("path",{d:"M9.64645 12.3536C9.84171 12.5488 10.1583 12.5488 10.3536 12.3536C10.5488 12.1583 10.5488 11.8417 10.3536 11.6464L9.64645 12.3536ZM10.3536 4.35355C10.5488 4.15829 10.5488 3.84171 10.3536 3.64644C10.1583 3.45118 9.84171 3.45118 9.64645 3.64644L10.3536 4.35355ZM6.07072 7.92929L5.71716 7.57573L6.07072 7.92929ZM10.3536 11.6464L6.42427 7.71716L5.71716 8.42426L9.64645 12.3536L10.3536 11.6464ZM6.42427 8.28284L10.3536 4.35355L9.64645 3.64644L5.71716 7.57573L6.42427 8.28284ZM6.42427 7.71716C6.58048 7.87337 6.58048 8.12663 6.42427 8.28284L5.71716 7.57573C5.48285 7.81005 5.48285 8.18995 5.71716 8.42426L6.42427 7.71716Z"})]})},FE=function(){return i.jsxs(Vn,{children:[i.jsx("title",{children:"Click to go forward"}),i.jsx("path",{d:"M6.35355 3.64645C6.15829 3.45118 5.84171 3.45118 5.64645 3.64645C5.45118 3.84171 5.45118 4.15829 5.64645 4.35355L6.35355 3.64645ZM5.64645 11.6464C5.45118 11.8417 5.45118 12.1583 5.64645 12.3536C5.84171 12.5488 6.15829 12.5488 6.35355 12.3536L5.64645 11.6464ZM9.92929 8.07071L10.2828 8.42426L9.92929 8.07071ZM5.64645 4.35355L9.57574 8.28284L10.2828 7.57574L6.35355 3.64645L5.64645 4.35355ZM9.57574 7.71716L5.64645 11.6464L6.35355 12.3536L10.2828 8.42426L9.57574 7.71716ZM9.57574 8.28284C9.41952 8.12663 9.41953 7.87337 9.57574 7.71716L10.2828 8.42426C10.5172 8.18995 10.5172 7.81005 10.2828 7.57574L9.57574 8.28284Z"})]})},D4=function(){return i.jsxs(Vn,{children:[i.jsx("title",{children:"Refresh preview"}),i.jsx("path",{clipRule:"evenodd",d:"M3.83325 7.99992C3.83325 5.69867 5.69853 3.83325 7.99934 3.83325C9.81246 3.83325 11.3563 4.99195 11.9285 6.61097C11.9396 6.6425 11.9536 6.67221 11.97 6.69992H8.80005C8.52391 6.69992 8.30005 6.92378 8.30005 7.19992C8.30005 7.47606 8.52391 7.69992 8.80005 7.69992H12.5667C12.8981 7.69992 13.1667 7.43129 13.1667 7.09992V3.33325C13.1667 3.05711 12.9429 2.83325 12.6667 2.83325C12.3906 2.83325 12.1667 3.05711 12.1667 3.33325V4.94608C11.2268 3.66522 9.7106 2.83325 7.99934 2.83325C5.14613 2.83325 2.83325 5.14651 2.83325 7.99992C2.83325 10.8533 5.14613 13.1666 7.99934 13.1666C9.91218 13.1666 11.5815 12.1266 12.474 10.5836C12.6123 10.3446 12.5306 10.0387 12.2915 9.90044C12.0525 9.76218 11.7466 9.84387 11.6084 10.0829C10.8873 11.3296 9.54072 12.1666 7.99934 12.1666C5.69853 12.1666 3.83325 10.3012 3.83325 7.99992Z",fillRule:"evenodd"})]})},JE=function(){return i.jsxs(Vn,{fill:"none",stroke:"currentColor",children:[i.jsx("title",{children:"Clean"}),i.jsx("circle",{cx:"7.99998",cy:"8.00004",r:"4.66667",strokeLinecap:"round"}),i.jsx("path",{d:"M4.66669 4.66663L11.3334 11.3333"})]})},KE=function(){return i.jsxs(Vn,{fill:"none",stroke:"currentColor",children:[i.jsx("title",{children:"Open on CodeSandbox"}),i.jsx("path",{d:"M6.66665 3.33337H4.33331C3.78103 3.33337 3.33331 3.78109 3.33331 4.33337V11.6667C3.33331 12.219 3.78103 12.6667 4.33331 12.6667H11.6666C12.2189 12.6667 12.6666 12.219 12.6666 11.6667V9.33337",strokeLinecap:"round"}),i.jsx("path",{d:"M10 3.33337H12.5667C12.6219 3.33337 12.6667 3.37815 12.6667 3.43337V6.00004",strokeLinecap:"round"}),i.jsx("path",{d:"M7.33331 8.66668L12.5333 3.46667",strokeLinecap:"round"})]})},eM=function(){return i.jsxs(Vn,{stroke:"currentColor",children:[i.jsx("title",{children:"Close file"}),i.jsx("path",{d:"M12 4L4 12",strokeLinecap:"round"}),i.jsx("path",{d:"M4 4L12 12",strokeLinecap:"round"})]})},tM=function(){return i.jsxs(Vn,{children:[i.jsx("title",{children:"Open browser console"}),i.jsx("path",{d:"M5.65871 3.62037C5.44905 3.44066 5.1334 3.46494 4.95368 3.6746C4.77397 3.88427 4.79825 4.19992 5.00792 4.37963L5.65871 3.62037ZM5.00792 11.6204C4.79825 11.8001 4.77397 12.1157 4.95368 12.3254C5.1334 12.5351 5.44905 12.5593 5.65871 12.3796L5.00792 11.6204ZM9.9114 7.92407L10.2368 7.54445L9.9114 7.92407ZM5.00792 4.37963L9.586 8.3037L10.2368 7.54445L5.65871 3.62037L5.00792 4.37963ZM9.586 7.6963L5.00792 11.6204L5.65871 12.3796L10.2368 8.45555L9.586 7.6963ZM9.586 8.3037C9.39976 8.14407 9.39976 7.85594 9.586 7.6963L10.2368 8.45555C10.5162 8.2161 10.5162 7.7839 10.2368 7.54445L9.586 8.3037Z"}),i.jsx("path",{d:"M10 11.5C9.72386 11.5 9.5 11.7239 9.5 12C9.5 12.2761 9.72386 12.5 10 12.5V11.5ZM14.6667 12.5C14.9428 12.5 15.1667 12.2761 15.1667 12C15.1667 11.7239 14.9428 11.5 14.6667 11.5V12.5ZM10 12.5H14.6667V11.5H10V12.5Z"})]})},Cf,fa={colors:{surface1:"#ffffff",surface2:"#EFEFEF",surface3:"#F3F3F3",disabled:"#C5C5C5",base:"#323232",clickable:"#808080",hover:"#4D4D4D",accent:"#3973E0",error:"#EA3323",errorSurface:"#FCF1F0",warning:"#6A4516",warningSurface:"#FEF2C0"},syntax:{plain:"#151515",comment:{color:"#999",fontStyle:"italic"},keyword:"#7C5AE3",tag:"#0971F1",punctuation:"#3B3B3B",definition:"#85A600",property:"#3B3B3B",static:"#3B3B3B",string:"#2E6BD0"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}},_m={colors:{surface1:"#151515",surface2:"#252525",surface3:"#2F2F2F",disabled:"#4D4D4D",base:"#808080",clickable:"#999999",hover:"#C5C5C5",accent:"#E5E5E5",error:"#FFB4A6",errorSurface:"#690000",warning:"#E7C400",warningSurface:"#3A3000"},syntax:{plain:"#FFFFFF",comment:{color:"#757575",fontStyle:"italic"},keyword:"#77B7D7",tag:"#DFAB5C",punctuation:"#ffffff",definition:"#86D9CA",property:"#77B7D7",static:"#C64640",string:"#977CDC"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}},nM={light:fa,dark:_m,auto:typeof window<"u"&&!((Cf=window==null?void 0:window.matchMedia)===null||Cf===void 0)&&Cf.call(window,"(prefers-color-scheme: dark)").matches?_m:fa},pd=function(t){var e=t.lastIndexOf("/");return t.slice(e+1)},rM=function(t,e){var n=(t[0]==="/"?t.slice(1):t).split("/"),r=[];if(n.length===1)r.unshift(n[0]);else for(var s=0;s<e.length;s++)for(var a=e[s].split("/"),l=1;l<=n.length;l++){var o=n[n.length-l],c=a[a.length-l];if(r.length<l&&r.unshift(o),o!==c)break}return r.length<n.length&&r.unshift(".."),r.join("/")},Fv=function(t){var e=0,n=0,r=0;if(t.startsWith("#")){if(t.length<7)return!0;e=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),r=parseInt(t.substr(5,2),16)}else{var s=t.replace("rgb(","").replace("rgba(","").replace(")","").split(",");if(s.length<3)return!0;e=parseInt(s[0],10),n=parseInt(s[1],10),r=parseInt(s[2],10)}var a=(e*299+n*587+r*114)/1e3;return a<128},sM=0,md=function(){var t=+(Date.now().toString(10).substr(0,4)+sM++);return t.toString(16)},Ao,Se="sp",iM=(Ao=lC({prefix:Se}),Ao.createTheme),U=Ao.css;Ao.getCssText;var Z4=Ao.keyframes,aM={space:new Array(11).fill(" ").reduce(function(t,e,n){var r;return T(T({},t),(r={},r[n+1]="".concat((n+1)*4,"px"),r))},{}),border:{radius:"4px"},layout:{height:"300px",headerHeight:"40px"},transitions:{default:"150ms ease"},zIndices:{base:"1",overlay:"2",top:"3"}},lM=function(t){var e=Object.entries(t.syntax),n=e.reduce(function(r,s){var a,l=s[0],o=s[1],c=(a={},a["color-".concat(l)]=o,a);return typeof o=="object"&&(c=Object.entries(o).reduce(function(u,d){var h,f=d[0],p=d[1];return T(T({},u),(h={},h["".concat(f,"-").concat(l)]=p,h))},{})),T(T({},r),c)},{});return T(T({},aM),{colors:t.colors,font:t.font,syntax:n})},oM=function(t){var e,n,r,s,a;t===void 0&&(t="light");var l="default";if(typeof t=="string"){var o=nM[t];if(!o)throw new Error("[sandpack-react]: invalid theme '".concat(t,"' provided."));return{theme:o,id:t,mode:Fv(o.colors.surface1)?"dark":"light"}}var c=Fv((n=(e=t==null?void 0:t.colors)===null||e===void 0?void 0:e.surface1)!==null&&n!==void 0?n:fa.colors.surface1)?"dark":"light",u=c==="dark"?_m:fa,d=T(T({},u.colors),(r=t==null?void 0:t.colors)!==null&&r!==void 0?r:{}),h=T(T({},u.syntax),(s=t==null?void 0:t.syntax)!==null&&s!==void 0?s:{}),f=T(T({},u.font),(a=t==null?void 0:t.font)!==null&&a!==void 0?a:{}),p={colors:d,syntax:h,font:f},x=t?cM(JSON.stringify(p)):l;return{theme:p,id:"sp-".concat(x),mode:c}},cM=function(t){for(var e=0,n=0;n<t.length;e&=e)e=31*e+t.charCodeAt(n++);return Math.abs(e)},Jv=function(){return""};Jv.toString=Jv;var z4=j.createContext({}),uM=function(t){var e=t.children,n=t.classes;return i.jsx(z4.Provider,{value:n||{},children:e})},yt=function(){var t=j.useContext(z4);return function(n,r){r===void 0&&(r=[]);var s="".concat(Se,"-").concat(n);return dM.apply(void 0,Rt(Rt([],r,!1),[s,t[s]],!1))}},dM=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(Boolean).join(" ")},hM=U({all:"initial",fontSize:"$font$size",fontFamily:"$font$body",display:"block",boxSizing:"border-box",textRendering:"optimizeLegibility",WebkitTapHighlightColor:"transparent",WebkitFontSmoothing:"subpixel-antialiased",variants:{variant:{dark:{colorScheme:"dark"},light:{colorScheme:"light"}}},"@media screen and (min-resolution: 2dppx)":{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},"*":{boxSizing:"border-box"},".sp-wrapper:focus":{outline:"0"}}),E0=j.createContext({theme:fa,id:"light",mode:"light"}),fM=function(t){var e=t.theme,n=t.children,r=t.className,s=ot(t,["theme","children","className"]),a=j.useState(e),l=a[0],o=a[1],c=oM(l),u=c.theme,d=c.id,h=c.mode,f=yt(),p=j.useMemo(function(){return iM(d,lM(u))},[u,d]);return j.useEffect(function(){if(e!=="auto"){o(e);return}var x=function(v){var y=v.matches;o(y?"dark":"light")};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",x),function(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",x)}},[e]),i.jsx(E0.Provider,{value:{theme:u,id:d,mode:h},children:i.jsx("div",T({className:f("wrapper",[p,hM({variant:h}),r])},s,{children:n}))})};E0.Consumer;var rt={"/styles.css":{code:`body {
  font-family: sans-serif;
  -webkit-font-smoothing: auto;
  -moz-font-smoothing: auto;
  -moz-osx-font-smoothing: grayscale;
  font-smoothing: auto;
  text-rendering: optimizeLegibility;
  font-smooth: always;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

h1 {
  font-size: 1.5rem;
}`}},pM={files:{"/src/styles.css":rt["/styles.css"],"/src/pages/index.astro":{code:`---
import "../styles.css";
const data = "world";
---

<h1>Hello {data}</h1>

<style>
  h1 {
    font-size: 1.5rem;
  }
</style>`},".env":{code:'ASTRO_TELEMETRY_DISABLED="1"'},"/package.json":{code:JSON.stringify({dependencies:{astro:"^1.6.12","esbuild-wasm":"^0.15.16"},scripts:{dev:"astro dev",start:"astro dev",build:"astro build",preview:"astro preview",astro:"astro"}})}},main:"/src/pages/index.astro",environment:"node"},mM={files:T(T({},rt),{"/pages/_app.js":{code:`import '../styles.css'

export default function MyApp({ Component, pageProps }) {
  return <Component {...pageProps} />
}`},"/pages/index.js":{code:`export default function Home({ data }) {
  return (
    <div>
      <h1>Hello {data}</h1>
    </div>
  );
}
  
export function getServerSideProps() {
  return {
    props: { data: "world" },
  }
}
`},"/next.config.js":{code:`/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  swcMinify: true,
}

module.exports = nextConfig
`},"/package.json":{code:JSON.stringify({name:"my-app",version:"0.1.0",private:!0,scripts:{dev:"NEXT_TELEMETRY_DISABLED=1 next dev",build:"next build",start:"next start",lint:"next lint"},dependencies:{next:"12.1.6",react:"18.2.0","react-dom":"18.2.0","@next/swc-wasm-nodejs":"12.1.6"}})}}),main:"/pages/index.js",environment:"node"},gM={files:{"/index.js":{code:`const http = require('http');

const hostname = '127.0.0.1';
const port = 3000;

const server = http.createServer((req, res) => {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/html');
  res.end('Hello world');
});

server.listen(port, hostname, () => {
  console.log(\`Server running at http://\${hostname}:\${port}/\`);
});`},"/package.json":{code:JSON.stringify({dependencies:{},scripts:{start:"node index.js"},main:"index.js"})}},main:"/index.js",environment:"node"},xM={files:T(T({},rt),{"/index.js":{code:`import "./styles.css";

document.getElementById("app").innerHTML = \`
<h1>Hello world</h1>
\`;
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/index.js"><\/script>
  </body>
</html>
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},devDependencies:{vite:"4.1.4","esbuild-wasm":"0.17.12"}})}}),main:"/index.js",environment:"node"},OM={files:T(T({},rt),{"/App.jsx":{code:`export default function App() {
  const data = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.jsx":{code:`import { render } from "preact";
import "./styles.css";

import App from "./App";

const root = document.getElementById("root");
render(<App />, root);
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.jsx"><\/script>
  </body>
</html>
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{preact:"^10.16.0"},devDependencies:{"@preact/preset-vite":"^2.5.0",vite:"4.1.4","esbuild-wasm":"0.17.12"}})},"/vite.config.js":{code:`import { defineConfig } from "vite";
import preact from '@preact/preset-vite'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [preact()],
});
`}}),main:"/App.jsx",environment:"node"},vM={files:T(T({},rt),{"/App.tsx":{code:`export default function App() {
  const data: string = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.tsx":{code:`import { render } from "preact";
import "./styles.css";

import App from "./App";

const root = document.getElementById("root") as HTMLElement;
render(<App />, root);
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"><\/script>
  </body>
</html>
`},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,lib:["DOM","DOM.Iterable","ESNext"],allowJs:!1,skipLibCheck:!0,esModuleInterop:!1,allowSyntheticDefaultImports:!0,strict:!0,forceConsistentCasingInFileNames:!0,module:"ESNext",moduleResolution:"Node",resolveJsonModule:!0,isolatedModules:!0,noEmit:!0,jsx:"react-jsx",jsxImportSource:"preact"},include:["src"],references:[{path:"./tsconfig.node.json"}]},null,2)},"/tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{preact:"^10.16.0"},devDependencies:{"@preact/preset-vite":"^2.5.0",typescript:"^4.9.5",vite:"4.1.4","esbuild-wasm":"^0.17.12"}},null,2)},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import preact from '@preact/preset-vite'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [preact()],
})
`}}),main:"/App.tsx",environment:"node"},bM={files:T(T({},rt),{"/App.jsx":{code:`export default function App() {
  const data = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.jsx":{code:`import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";

const root = createRoot(document.getElementById("root"));
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.jsx"><\/script>
  </body>
</html>
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{react:"^18.2.0","react-dom":"^18.2.0"},devDependencies:{"@vitejs/plugin-react":"3.1.0",vite:"4.1.4","esbuild-wasm":"0.17.12"}})},"/vite.config.js":{code:`import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
});
`}}),main:"/App.jsx",environment:"node"},yM={files:T(T({},rt),{"/App.tsx":{code:`export default function App() {
  const data: string = "world"

  return <h1>Hello {data}</h1>
}
`},"/index.tsx":{code:`import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";
import React from "react";

const root = createRoot(document.getElementById("root") as HTMLElement);
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"><\/script>
  </body>
</html>
`},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,lib:["DOM","DOM.Iterable","ESNext"],allowJs:!1,skipLibCheck:!0,esModuleInterop:!1,allowSyntheticDefaultImports:!0,strict:!0,forceConsistentCasingInFileNames:!0,module:"ESNext",moduleResolution:"Node",resolveJsonModule:!0,isolatedModules:!0,noEmit:!0,jsx:"react-jsx"},include:["src"],references:[{path:"./tsconfig.node.json"}]},null,2)},"/tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{react:"^18.2.0","react-dom":"^18.2.0"},devDependencies:{"@types/react":"^18.0.28","@types/react-dom":"^18.0.11","@vitejs/plugin-react":"^3.1.0",typescript:"^4.9.5",vite:"4.1.4","esbuild-wasm":"^0.17.12"}},null,2)},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
})
`}}),main:"/App.tsx",environment:"node"},jM={files:{"/src/styles.css":rt["/styles.css"],"/src/App.svelte":{code:`<script>
const data = "world";
<\/script>

<h1>Hello {data}</h1>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.js":{code:`import App from './App.svelte'
import "./styles.css"

const app = new App({
  target: document.getElementById('app'),
})

export default app`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"><\/script>
  </body>
</html>
`},"/vite.config.js":{code:`import { defineConfig } from 'vite'
import { svelte } from '@sveltejs/vite-plugin-svelte'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [svelte()],
})`},"/package.json":{code:JSON.stringify({type:"module",scripts:{dev:"vite"},devDependencies:{"@sveltejs/vite-plugin-svelte":"^2.0.2",svelte:"^3.55.1",vite:"4.0.4","esbuild-wasm":"^0.17.12"}})}},main:"/src/App.svelte",environment:"node"},SM={files:{"/src/styles.css":rt["/styles.css"],"/src/App.svelte":{code:`<script lang="ts">
const data: string = "world";
<\/script>

<h1>Hello {data}</h1>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.ts":{code:`import App from './App.svelte'
import "./styles.css"

const app = new App({
  target: document.getElementById('app'),
})

export default app`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"><\/script>
  </body>
</html>
`},"/vite-env.d.ts":{code:`/// <reference types="svelte" />
/// <reference types="vite/client" />`},"svelte.config.js":{code:`import { vitePreprocess } from '@sveltejs/vite-plugin-svelte'

export default {
  // Consult https://svelte.dev/docs#compile-time-svelte-preprocess
  // for more information about preprocessors
  preprocess: vitePreprocess(),
}
`},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import { svelte } from '@sveltejs/vite-plugin-svelte'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [svelte()],
})`},"tsconfig.json":{code:JSON.stringify({extends:"@tsconfig/svelte/tsconfig.json",compilerOptions:{target:"ESNext",useDefineForClassFields:!0,module:"ESNext",resolveJsonModule:!0,allowJs:!0,checkJs:!0,isolatedModules:!0},include:["src/**/*.d.ts","src/**/*.ts","src/**/*.js","src/**/*.svelte"],references:[{path:"./tsconfig.node.json"}]},null,2)},"tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node"},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({type:"module",scripts:{dev:"vite"},devDependencies:{"@sveltejs/vite-plugin-svelte":"^2.0.2","@tsconfig/svelte":"^3.0.0",svelte:"^3.55.1","svelte-check":"^2.10.3",tslib:"^2.5.0",vite:"4.1.4","esbuild-wasm":"^0.17.12"}},null,2)}},main:"/src/App.svelte",environment:"node"},wM={files:{"/src/styles.css":rt["/styles.css"],"/src/App.vue":{code:`<script setup>
import { ref } from "vue";

const data = ref("world");
<\/script>

<template>
  <h1>Hello {{ data }}</h1>
</template>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.js":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css"
            
createApp(App).mount('#app')            
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"><\/script>
  </body>
</html>
`},"/vite.config.js":{code:`import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [vue()]
})
`},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{vue:"^3.2.45"},devDependencies:{"@vitejs/plugin-vue":"3.2.0",vite:"4.1.4","esbuild-wasm":"0.17.12"}})}},main:"/src/App.vue",environment:"node"},kM={files:{"/src/styles.css":rt["/styles.css"],"/src/App.vue":{code:`<script setup lang="ts">
import { ref } from "vue";

const data = ref<string>("world");
<\/script>

<template>
  <h1>Hello {{ data }}</h1>
</template>

<style>
h1 {
  font-size: 1.5rem;
}
</style>`},"/src/main.ts":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css"

createApp(App).mount('#app')
`},"/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"><\/script>
  </body>
</html>
`},"/vite-env.d.ts":{code:'/// <reference types="vite/client" />'},"/vite.config.ts":{code:`import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [vue()]
})
`},"tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"ESNext",useDefineForClassFields:!0,module:"ESNext",moduleResolution:"Node",strict:!0,jsx:"preserve",resolveJsonModule:!0,isolatedModules:!0,esModuleInterop:!0,lib:["ESNext","DOM"],skipLibCheck:!0,noEmit:!0},include:["src/**/*.ts","src/**/*.d.ts","src/**/*.tsx","src/**/*.vue"],references:[{path:"./tsconfig.node.json"}]},null,2)},"tsconfig.node.json":{code:JSON.stringify({compilerOptions:{composite:!0,module:"ESNext",moduleResolution:"Node",allowSyntheticDefaultImports:!0},include:["vite.config.ts"]},null,2)},"/package.json":{code:JSON.stringify({scripts:{dev:"vite",build:"tsc && vite build",preview:"vite preview"},dependencies:{vue:"^3.2.47"},devDependencies:{"@vitejs/plugin-vue":"^4.0.0",vite:"4.1.4","vue-tsc":"^1.2.0",typescript:"^4.9.5","esbuild-wasm":"^0.17.12"}},null,2)}},main:"/src/App.vue",environment:"node"},$M={files:{"/src/app/app.component.css":rt["/styles.css"],"/src/app/app.component.html":{code:`<div>
<h1>{{ helloWorld }}</h1>
</div>     
`},"/src/app/app.component.ts":{code:`import { Component } from "@angular/core";

@Component({
  selector: "app-root",
  templateUrl: "./app.component.html",
  styleUrls: ["./app.component.css"]
})
export class AppComponent {
  helloWorld = "Hello world";
}           
`},"/src/app/app.module.ts":{code:`import { BrowserModule } from "@angular/platform-browser";
import { NgModule } from "@angular/core";
      
import { AppComponent } from "./app.component";
      
@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule {}       
`},"/src/index.html":{code:`<!doctype html>
<html lang="en">
      
<head>
  <meta charset="utf-8">
  <title>Angular</title>
  <base href="/">
      
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
      
<body>
   <app-root></app-root>
</body>
      
</html>
`},"/src/main.ts":{code:`import { enableProdMode } from "@angular/core";
import { platformBrowserDynamic } from "@angular/platform-browser-dynamic";
      
import { AppModule } from "./app/app.module";      

platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .catch(err => console.log(err));
      
`},"/src/polyfills.ts":{code:`import "core-js/proposals/reflect-metadata";   
      import "zone.js/dist/zone";
`},"/package.json":{code:JSON.stringify({dependencies:{"@angular/core":"^11.2.0","@angular/platform-browser":"^11.2.0","@angular/platform-browser-dynamic":"^11.2.0","@angular/common":"^11.2.0","@angular/compiler":"^11.2.0","zone.js":"0.11.3","core-js":"3.8.3",rxjs:"6.6.3"},main:"/src/main.ts"})}},main:"/src/app/app.component.ts",environment:"angular-cli"},NM={files:T(T({},rt),{"/App.js":{code:`export default function App() {
  return <h1>Hello world</h1>
}
`},"/index.js":{code:`import React, { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";

const root = createRoot(document.getElementById("root"));
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{react:"^18.0.0","react-dom":"^18.0.0","react-scripts":"^5.0.0"},main:"/index.js"})}}),main:"/App.js",environment:"create-react-app"},CM={files:T(T({},rt),{"tsconfig.json":{code:`{
  "include": [
    "./**/*"
  ],
  "compilerOptions": {
    "strict": true,
    "esModuleInterop": true,
    "lib": [ "dom", "es2015" ],
    "jsx": "react-jsx"
  }
}`},"/App.tsx":{code:`export default function App(): JSX.Element {
  return <h1>Hello world</h1>
}
`},"/index.tsx":{code:`import React, { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";

const root = createRoot(document.getElementById("root"));
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{react:"^18.0.0","react-dom":"^18.0.0","react-scripts":"^4.0.0"},devDependencies:{"@types/react":"^18.0.0","@types/react-dom":"^18.0.0",typescript:"^4.0.0"},main:"/index.tsx"})}}),main:"/App.tsx",environment:"create-react-app"},TM={files:T(T({},rt),{"/App.tsx":{code:`import { Component } from "solid-js";

const App: Component = () => {
  return <h1>Hello world</h1>
};

export default App;`},"/index.tsx":{code:`import { render } from "solid-js/web";
import App from "./App";

import "./styles.css";

render(() => <App />, document.getElementById("app"));`},"/index.html":{code:`<html>
<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>
<body>
  <div id="app"></div>
  <script src="src/index.tsx"><\/script>
</body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{"solid-js":"1.3.15"},main:"/index.tsx"})}}),main:"/App.tsx",environment:"solid"},RM={files:T(T({},rt),{"/App.svelte":{code:`<style>
  h1 {
    font-size: 1.5rem;
  }
</style>

<script>
  let name = 'world';
<\/script>

<main>
  <h1>Hello {name}</h1>
</main>`},"/index.js":{code:`import App from "./App.svelte";
import "./styles.css";

const app = new App({
  target: document.body
});

export default app;
      `},"/public/index.html":{code:`<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf8" />
    <meta name="viewport" content="width=device-width" />

    <title>Svelte app</title>

    <link rel="stylesheet" href="public/bundle.css" />
  </head>

  <body>
    <script src="bundle.js"><\/script>
  </body>
</html>`},"/package.json":{code:JSON.stringify({dependencies:{svelte:"^3.0.0"},main:"/index.js"})}}),main:"/App.svelte",environment:"svelte"},QM={files:{"tsconfig.json":{code:`{
  "include": [
    "./**/*"
  ],
  "compilerOptions": {
    "strict": true,
    "esModuleInterop": true,
    "lib": [ "dom", "es2015" ],
    "jsx": "react-jsx"
  }
}`},"/add.ts":{code:"export const add = (a: number, b: number): number => a + b;"},"/add.test.ts":{code:`import { add } from './add';

describe('add', () => {
  test('Commutative Law of Addition', () => {
    expect(add(1, 2)).toBe(add(2, 1));
  });
});`},"package.json":{code:JSON.stringify({dependencies:{},devDependencies:{typescript:"^4.0.0"},main:"/add.ts"})}},main:"/add.test.ts",environment:"parcel",mode:"tests"},AM={files:T(T({},rt),{"/index.js":{code:`import "./styles.css";

document.getElementById("app").innerHTML = \`
<h1>Hello world</h1>
\`;
`},"/index.html":{code:`<!DOCTYPE html>
<html>

<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>

<body>
  <div id="app"></div>

  <script src="index.js">
  <\/script>
</body>

</html>`},"/package.json":{code:JSON.stringify({dependencies:{},main:"/index.js"})}}),main:"/index.js",environment:"parcel"},PM={files:T(T({},rt),{"tsconfig.json":{code:`{
  "compilerOptions": {
    "strict": true,
    "module": "commonjs",
    "jsx": "preserve",
    "esModuleInterop": true,
    "sourceMap": true,
    "allowJs": true,
    "lib": [
      "es6",
      "dom"
    ],
    "rootDir": "src",
    "moduleResolution": "node"
  }
}`},"/index.ts":{code:`import "./styles.css";

document.getElementById("app").innerHTML = \`
<h1>Hello world</h1>
\`;
`},"/index.html":{code:`<!DOCTYPE html>
<html>

<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
</head>

<body>
  <div id="app"></div>

  <script src="index.ts">
  <\/script>
</body>

</html>`},"/package.json":{code:JSON.stringify({dependencies:{},devDependencies:{typescript:"^4.0.0"},main:"/index.ts"})}}),main:"/index.ts",environment:"parcel"},_M={files:{"/src/styles.css":rt["/styles.css"],"/src/App.vue":{code:`<template>
  <h1>Hello {{ msg }}</h1>
</template>

<script setup>
import { ref } from 'vue';
const msg = ref('world');
<\/script>`},"/src/main.js":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css";

createApp(App).mount('#app')
`},"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>codesandbox</title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but codesandbox doesn't work properly without JavaScript
        enabled. Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
`},"/package.json":{code:JSON.stringify({name:"vue3",version:"0.1.0",private:!0,main:"/src/main.js",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^3.2.45"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-service":"^5.0.8"}})}},main:"/src/App.vue",environment:"vue-cli"},EM={files:{"/src/styles.css":rt["/styles.css"],"/src/App.vue":{code:`<template>
  <h1>Hello {{ msg }}</h1>
</template>

<script setup lang="ts">
import { ref } from 'vue';
const msg = ref<string>('world');
<\/script>`},"/src/main.ts":{code:`import { createApp } from 'vue'
import App from './App.vue'
import "./styles.css";

createApp(App).mount('#app')
`},"/src/shims-vue.d.ts":`/* eslint-disable */
declare module "*.vue" {
  import type { DefineComponent } from "vue";
  const component: DefineComponent<{}, {}, any>;
  export default component;
}`,"/public/index.html":{code:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>codesandbox</title>
  </head>
  <body>
    <noscript>
      <strong
        >We're sorry but codesandbox doesn't work properly without JavaScript
        enabled. Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
`},"/package.json":{code:JSON.stringify({name:"vue3-ts",version:"0.1.0",private:!0,main:"/src/main.ts",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"core-js":"^3.26.1",vue:"^3.2.45"},devDependencies:{"@vue/cli-plugin-babel":"^5.0.8","@vue/cli-plugin-typescript":"^5.0.8","@vue/cli-service":"^5.0.8",typescript:"^4.9.3"}})},"/tsconfig.json":{code:JSON.stringify({compilerOptions:{target:"esnext",module:"esnext",strict:!0,jsx:"preserve",moduleResolution:"node",experimentalDecorators:!0,skipLibCheck:!0,esModuleInterop:!0,allowSyntheticDefaultImports:!0,forceConsistentCasingInFileNames:!0,useDefineForClassFields:!0,sourceMap:!1,baseUrl:".",types:["webpack-env"],paths:{"@/*":["src/*"]},lib:["esnext","dom","dom.iterable","scripthost"]},include:["src/**/*.ts","src/**/*.tsx","src/**/*.vue","tests/**/*.ts","tests/**/*.tsx"],exclude:["node_modules"]})}},main:"/src/App.vue",environment:"vue-cli"},MM={files:T(T({},rt),{"/index.html":{code:`<!DOCTYPE html>
<html>

<head>
  <title>Parcel Sandbox</title>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="/styles.css" />
</head>

<body>
  <h1>Hello world</h1>
</body>

</html>`},"/package.json":{code:JSON.stringify({dependencies:{},main:"/index.html"})}}),main:"/index.html",environment:"static"},Kv={static:MM,angular:$M,react:NM,"react-ts":CM,solid:TM,svelte:RM,"test-ts":QM,"vanilla-ts":PM,vanilla:AM,vue:_M,"vue-ts":EM,node:gM,nextjs:mM,vite:xM,"vite-react":bM,"vite-react-ts":yM,"vite-preact":OM,"vite-preact-ts":vM,"vite-vue":wM,"vite-vue-ts":kM,"vite-svelte":jM,"vite-svelte-ts":SM,astro:pM},Em=function(t){var e,n,r,s,a,l,o=ci(t.files),c=DM({template:t.template,customSetup:t.customSetup,files:o}),u=ci((n=(e=t.options)===null||e===void 0?void 0:e.visibleFiles)!==null&&n!==void 0?n:[]),d=!((r=t.options)===null||r===void 0)&&r.activeFile?eb((s=t.options)===null||s===void 0?void 0:s.activeFile,c.files):void 0;u.length===0&&o&&Object.keys(o).forEach(function(p){var x=o[p];if(typeof x=="string"){u.push(p);return}!d&&x.active&&(d=p,x.hidden===!0&&u.push(p)),x.hidden||u.push(p)}),u.length===0&&(u=[c.main]),c.entry&&!c.files[c.entry]&&(c.entry=eb(c.entry,c.files)),!d&&c.main&&(d=c.main),(!d||!c.files[d])&&(d=u[0]),u.includes(d)||u.push(d);var h=OC(c.files,(a=c.dependencies)!==null&&a!==void 0?a:{},(l=c.devDependencies)!==null&&l!==void 0?l:{},c.entry),f=u.filter(function(p){return h[p]});return{visibleFiles:f,activeFile:d,files:h,environment:c.environment,shouldUpdatePreview:!0}},eb=function(t,e){var n=ci(e),r=ci(t);if(r in n)return r;if(!t)return null;for(var s=null,a=0,l=[".js",".jsx",".ts",".tsx"];!s&&a<l.length;){var o=r.split(".")[0],c="".concat(o).concat(l[a]);n[c]!==void 0&&(s=c),a++}return s},DM=function(t){var e=t.files,n=t.template,r=t.customSetup;if(!n){if(!r){var s=Kv.vanilla;return T(T({},s),{files:T(T({},s.files),gu(e))})}if(!e||Object.keys(e).length===0)throw new Error("[sandpack-react]: without a template, you must pass at least one file");return T(T({},r),{files:gu(e)})}var a=Kv[n];if(!a)throw new Error('[sandpack-react]: invalid template "'.concat(n,'" provided'));return!r&&!e?a:{files:gu(T(T({},a.files),e)),dependencies:T(T({},a.dependencies),r==null?void 0:r.dependencies),devDependencies:T(T({},a.devDependencies),r==null?void 0:r.devDependencies),entry:ci(r==null?void 0:r.entry),main:a.main,environment:(r==null?void 0:r.environment)||a.environment}},gu=function(t){return t?Object.keys(t).reduce(function(e,n){return typeof t[n]=="string"?e[n]={code:t[n]}:e[n]=t[n],e},{}):{}},ZM=function(t,e){var n=j.useState({editorState:"pristine"}),r=n[0],s=n[1],a=Em(t),l=Wl(a.files,e)?"pristine":"dirty";return l!==r.editorState&&s(function(o){return T(T({},o),{editorState:l})}),r},zM=4e4,LM=function(t,e){var n,r,s,a=t.options,l=t.customSetup,o=t.teamId,c=t.sandboxId;a??(a={}),l??(l={});var u=(a==null?void 0:a.initMode)||"lazy",d=j.useState({startRoute:a==null?void 0:a.startRoute,bundlerState:void 0,error:null,initMode:u,reactDevTools:void 0,status:!((n=a==null?void 0:a.autorun)!==null&&n!==void 0)||n?"initial":"idle"}),h=d[0],f=d[1],p=j.useRef(),x=j.useRef(null),v=j.useRef(null),y=j.useRef({}),g=j.useRef({}),m=j.useRef(null),O=j.useRef({}),b=j.useRef(),w=j.useRef({global:{}}),S=j.useRef(),k=j.useRef(e.environment),$=j.useCallback(function(D,A,I){return Cl(void 0,void 0,void 0,function(){var C,M,Y,K,fe,xe,Je;return Tl(this,function(Ct){switch(Ct.label){case 0:return g.current[A]&&g.current[A].destroy(),a??(a={}),l??(l={}),C=(fe=a==null?void 0:a.bundlerTimeOut)!==null&&fe!==void 0?fe:zM,m.current&&clearTimeout(m.current),M=typeof b.current!="function",M&&(m.current=setTimeout(function(){_(),f(function(Ie){return T(T({},Ie),{status:"timeout"})})},C)),[4,wC(D,{files:e.files,template:e.environment},{externalResources:a.externalResources,bundlerURL:a.bundlerURL,startRoute:(xe=I==null?void 0:I.startRoute)!==null&&xe!==void 0?xe:a.startRoute,fileResolver:a.fileResolver,skipEval:(Je=a.skipEval)!==null&&Je!==void 0?Je:!1,logLevel:a.logLevel,showOpenInCodeSandbox:!1,showErrorScreen:!0,showLoadingScreen:!1,reactDevTools:h.reactDevTools,customNpmRegistries:l==null?void 0:l.npmRegistries,teamId:o,sandboxId:c})];case 1:return Y=Ct.sent(),typeof b.current!="function"&&(b.current=Y.listen(B)),O.current[A]=O.current[A]||{},w.current[A]&&(Object.keys(w.current[A]).forEach(function(Ie){var Zt=w.current[A][Ie],Hr=Y.listen(Zt);O.current[A][Ie]=Hr}),w.current[A]={}),K=Object.entries(w.current.global),K.forEach(function(Ie){var Zt=Ie[0],Hr=Ie[1],$i=Y.listen(Hr);O.current[A][Zt]=$i}),g.current[A]=Y,[2]}})})},[e.environment,e.files,h.reactDevTools]),_=j.useCallback(function(){Object.keys(g.current).map(H),typeof b.current=="function"&&(b.current(),b.current=void 0)},[]),R=j.useCallback(function(){return Cl(void 0,void 0,void 0,function(){return Tl(this,function(D){switch(D.label){case 0:return[4,Promise.all(Object.entries(y.current).map(function(A){var I=A[0],C=A[1],M=C.iframe,Y=C.clientPropsOverride,K=Y===void 0?{}:Y;return Cl(void 0,void 0,void 0,function(){return Tl(this,function(fe){switch(fe.label){case 0:return[4,$(M,I,K)];case 1:return fe.sent(),[2]}})})}))];case 1:return D.sent(),f(function(A){return T(T({},A),{error:null,status:"running"})}),[2]}})})},[$]);p.current=function(D){D.some(function(A){return A.isIntersecting})?R():_()};var z=j.useCallback(function(){var D,A,I,C=(D=a==null?void 0:a.autorun)!==null&&D!==void 0?D:!0;if(C){var M=(A=a==null?void 0:a.initModeObserverOptions)!==null&&A!==void 0?A:{rootMargin:"1000px 0px"};x.current&&v.current&&((I=x.current)===null||I===void 0||I.unobserve(v.current)),v.current&&h.initMode==="lazy"?(x.current=new IntersectionObserver(function(Y){var K,fe;Y.some(function(xe){return xe.isIntersecting})&&Y.some(function(xe){return xe.isIntersecting})&&v.current&&((K=p.current)===null||K===void 0||K.call(p,Y),(fe=x.current)===null||fe===void 0||fe.unobserve(v.current))},M),x.current.observe(v.current)):v.current&&h.initMode==="user-visible"?(x.current=new IntersectionObserver(function(Y){var K;(K=p.current)===null||K===void 0||K.call(p,Y)},M),x.current.observe(v.current)):R()}},[a==null?void 0:a.autorun,a==null?void 0:a.initModeObserverOptions,R,h.initMode,_]),E=j.useCallback(function(D,A,I){return Cl(void 0,void 0,void 0,function(){return Tl(this,function(C){switch(C.label){case 0:return y.current[A]={iframe:D,clientPropsOverride:I},h.status!=="running"?[3,2]:[4,$(D,A,I)];case 1:C.sent(),C.label=2;case 2:return[2]}})})},[$,h.status]),H=function(D){var A,I,C=g.current[D];C?(C.destroy(),(A=C.iframe.contentWindow)===null||A===void 0||A.location.replace("about:blank"),C.iframe.removeAttribute("src"),delete g.current[D]):delete y.current[D],m.current&&clearTimeout(m.current);var M=Object.values((I=O.current[D])!==null&&I!==void 0?I:{});M.forEach(function(K){var fe=Object.values(K);fe.forEach(function(xe){return xe()})});var Y=Object.keys(g.current).length>0?"running":"idle";f(function(K){return T(T({},K),{status:Y})})},B=function(D){D.type==="start"?f(function(A){return T(T({},A),{error:null})}):D.type==="state"?f(function(A){return T(T({},A),{bundlerState:D.state})}):D.type==="done"&&!D.compilatonError||D.type==="connected"?(m.current&&clearTimeout(m.current),f(function(A){return T(T({},A),{error:null})})):D.type==="action"&&D.action==="show-error"?(m.current&&clearTimeout(m.current),f(function(A){return T(T({},A),{error:vC(D)})})):D.type==="action"&&D.action==="notification"&&D.notificationType==="error"&&f(function(A){return T(T({},A),{error:{message:D.title}})})},G=function(D){f(function(A){return T(T({},A),{reactDevTools:D})})},Q=(r=a==null?void 0:a.recompileMode)!==null&&r!==void 0?r:"delayed",L=(s=a==null?void 0:a.recompileDelay)!==null&&s!==void 0?s:200,q=function(D,A){if(h.status!=="running"){console.warn("[sandpack-react]: dispatch cannot be called while in idle mode");return}A?g.current[A].dispatch(D):Object.values(g.current).forEach(function(I){I.dispatch(D)})},ee=function(D,A){if(A)if(g.current[A]){var I=g.current[A].listen(D);return I}else{var C=md();w.current[A]=w.current[A]||{},O.current[A]=O.current[A]||{},w.current[A][C]=D;var I=function(){w.current[A][C]?delete w.current[A][C]:O.current[A][C]&&(O.current[A][C](),delete O.current[A][C])};return I}else{var M=md();w.current.global[M]=D;var Y=Object.values(g.current),K=Y.map(function(xe){return xe.listen(D)}),I=function(){K.forEach(function(xe){return xe()}),delete w.current.global[M],Object.values(O.current).forEach(function(xe){var Je;(Je=xe==null?void 0:xe[M])===null||Je===void 0||Je.call(xe)})};return I}};return j.useEffect(function(){if(!(h.status!=="running"||!e.shouldUpdatePreview)){if(k.current!==e.environment&&(k.current=e.environment,Object.entries(g.current).forEach(function(A){var I=A[0],C=A[1];E(C.iframe,I)})),Q==="immediate"&&Object.values(g.current).forEach(function(A){A.status==="done"&&A.updateSandbox({files:e.files,template:e.environment})}),Q==="delayed"){if(typeof window>"u")return;window.clearTimeout(S.current),S.current=window.setTimeout(function(){Object.values(g.current).forEach(function(A){A.status==="done"&&A.updateSandbox({files:e.files,template:e.environment})})},L)}return function(){window.clearTimeout(S.current)}}},[e.files,e.environment,e.shouldUpdatePreview,L,Q,E,h.status]),j.useEffect(function(){u!==h.initMode&&(f(function(A){return T(T({},A),{initMode:u})}),z())},[u,z,h.initMode]),j.useEffect(function(){return function(){typeof b.current=="function"&&b.current(),m.current&&clearTimeout(m.current),S.current&&clearTimeout(S.current),x.current&&x.current.disconnect()}},[]),[h,{clients:g.current,initializeSandpackIframe:z,runSandpack:R,registerBundler:E,unregisterBundler:H,registerReactDevTools:G,addListener:ee,dispatchMessage:q,lazyAnchorRef:v,unsubscribeClientListenersRef:O,queuedListenersRef:w}]},BM=function(t){var e=Em(t),n=j.useState(e),r=n[0],s=n[1],a=j.useRef(!1);j.useEffect(function(){a.current?s(Em(t)):a.current=!0},[t.files,t.customSetup,t.template]);var l=function(c,u,d){d===void 0&&(d=!0),s(function(h){var f,p=h.files;return typeof c=="string"&&typeof u=="string"?p=T(T({},p),(f={},f[c]=T(T({},p[c]),{code:u}),f)):typeof c=="object"&&(p=T(T({},p),gu(c))),T(T({},h),{files:ci(p),shouldUpdatePreview:d})})},o={openFile:function(c){s(function(u){var d=u.visibleFiles,h=ot(u,["visibleFiles"]),f=d.includes(c)?d:Rt(Rt([],d,!0),[c],!1);return T(T({},h),{activeFile:c,visibleFiles:f})})},resetFile:function(c){s(function(u){var d;return T(T({},u),{files:T(T({},u.files),(d={},d[c]=e.files[c],d))})})},resetAllFiles:function(){s(function(c){return T(T({},c),{files:e.files})})},setActiveFile:function(c){r.files[c]&&s(function(u){return T(T({},u),{activeFile:c})})},updateCurrentFile:function(c,u){u===void 0&&(u=!0),l(r.activeFile,c,u)},updateFile:l,addFile:l,closeFile:function(c){r.visibleFiles.length!==1&&s(function(u){var d=u.visibleFiles,h=u.activeFile,f=ot(u,["visibleFiles","activeFile"]),p=d.indexOf(c),x=d.filter(function(v){return v!==c});return T(T({},f),{activeFile:c===h?p===0?d[1]:d[p-1]:h,visibleFiles:x})})},deleteFile:function(c,u){u===void 0&&(u=!0),s(function(d){var h=d.visibleFiles,f=d.files,p=d.activeFile,x=ot(d,["visibleFiles","files","activeFile"]),v=T({},f);delete v[c];var y=h.filter(function(O){return O!==c}),g=y.length===0;if(g){var m=Object.keys(f)[Object.keys(f).length-1];return T(T({},x),{visibleFiles:[m],activeFile:m,files:v,shouldUpdatePreview:u})}return T(T({},x),{visibleFiles:y,activeFile:c===p?y[y.length-1]:p,files:v,shouldUpdatePreview:u})})}};return[T(T({},r),{visibleFilesFromProps:e.visibleFiles}),o]},M0=j.createContext(null),D0=function(t){var e,n,r,s=t.children,a=t.options,l=t.style,o=t.className,c=t.theme,u=BM(t),d=u[0],h=u[1],f=LM(t,d),p=f[0],x=f[1],v=x.dispatchMessage,y=x.addListener,g=ot(x,["dispatchMessage","addListener"]),m=ZM(t,d.files);return j.useEffect(function(){g.initializeSandpackIframe()},[]),i.jsx(M0.Provider,{value:T(T(T(T(T(T({},d),p),m),h),g),{autoReload:(n=(e=t.options)===null||e===void 0?void 0:e.autoReload)!==null&&n!==void 0?n:!0,teamId:t==null?void 0:t.teamId,exportOptions:(r=t==null?void 0:t.customSetup)===null||r===void 0?void 0:r.exportOptions,listen:y,dispatch:v}),children:i.jsx(uM,{classes:a==null?void 0:a.classes,children:i.jsx(fM,{className:o,style:l,theme:c,children:s})})})};M0.Consumer;function nt(){var t=j.useContext(M0);if(t===null)throw new Error('[sandpack-react]: "useSandpack" must be wrapped by a "SandpackProvider"');var e=t.dispatch,n=t.listen,r=ot(t,["dispatch","listen"]);return{sandpack:T({},r),dispatch:e,listen:n}}var L4=function(){var t,e,n,r=nt().sandpack;return{code:(t=r.files[r.activeFile])===null||t===void 0?void 0:t.code,readOnly:(n=(e=r.files[r.activeFile])===null||e===void 0?void 0:e.readOnly)!==null&&n!==void 0?n:!1,updateCode:r.updateCurrentFile}},pl,Mc,Tf,Zr=U({svg:{margin:"auto"}}),Vt=U((pl={appearance:"none",outline:"none",display:"flex",alignItems:"center",fontSize:"inherit",fontFamily:"inherit",backgroundColor:"transparent",transition:"color $default, background $default",cursor:"pointer",color:"$colors$clickable",border:0,textDecoration:"none","&:disabled":{color:"$colors$disabled"},"&:hover:not(:disabled,[data-active='true'])":{color:"$colors$hover"},'&[data-active="true"]':{color:"$colors$accent"},svg:{minWidth:"$space$4",width:"$space$4",height:"$space$4"}},pl["&.".concat(Zr)]={padding:"$space$1",height:"$space$7",display:"flex"},pl["&.".concat(Zr,"&:not(:has(span))")]={width:"$space$7"},pl["&.".concat(Zr,"&:has(svg + span)")]={paddingRight:"$space$3",paddingLeft:"$space$2",gap:"$space$1"},pl)),mi=U({backgroundColor:"$colors$surface2",borderRadius:"99999px",border:"1px solid $colors$surface3",'&[data-active="true"]':{color:"$colors$surface1",background:"$colors$accent"},"&:hover:not(:disabled,[data-active='true'])":{backgroundColor:"$colors$surface3"}}),XM=U({padding:0}),Z0=Z4({"0%":{opacity:0},"100%":{opacity:1}}),Jl=U({position:"absolute",bottom:"0",left:"0",right:"0",top:"0",margin:"0",overflow:"auto",height:"100%",zIndex:"$top"}),B4=U((Mc={whiteSpace:"pre-wrap",padding:"$space$10",backgroundColor:"$colors$surface1",display:"flex",gap:"$space$2",flexDirection:"column"},Mc[".".concat(Vt)]={width:"auto",gap:"$space$2",padding:"0 $space$3 0 $space$2",marginTop:"$space$1"},Mc.variants={solidBg:{true:{backgroundColor:"$colors$errorSurface"}}},Mc)),Mm=U((Tf={padding:"$space$10",backgroundColor:"$colors$surface1"},Tf[".".concat(Vt)]={marginTop:"$space$6",width:"auto",gap:"$space$2",padding:"0 $space$3 0 $space$2"},Tf)),us=U({animation:"".concat(Z0," 150ms ease"),color:"$colors$error",display:"flex",flexDirection:"column",gap:"$space$3",variants:{errorCode:{true:{fontFamily:"$font$mono"}}},a:{color:"inherit"},p:{margin:0}}),Rf,UM=U({borderBottom:"1px solid $colors$surface2",background:"$colors$surface1"}),qM=U({padding:"0 $space$2",overflow:"auto",display:"flex",flexWrap:"nowrap",alignItems:"stretch",minHeight:"40px",marginBottom:"-1px"}),X4=U({padding:"0 $space$1 0 $space$1",borderRadius:"$border$radius",marginLeft:"$space$1",width:"$space$5",visibility:"hidden",svg:{width:"$space$3",height:"$space$3",display:"block",position:"relative",top:1}}),YM=U((Rf={padding:"0 $space$2",height:"$layout$headerHeight",whiteSpace:"nowrap","&:focus":{outline:"none"}},Rf["&:hover > .".concat(X4)]={visibility:"unset"},Rf)),U4=function(t){var e=t.closableTabs,n=t.className,r=ot(t,["closableTabs","className"]),s=nt().sandpack,a=yt(),l=s.activeFile,o=s.visibleFiles,c=s.setActiveFile,u=function(h){h.stopPropagation();var f=h.target.closest("[data-active]"),p=f==null?void 0:f.getAttribute("title");p&&s.closeFile(p)},d=function(h){var f=pd(h),p=o.reduce(function(x,v){if(v===h)return x;var y=pd(v);return y===f&&x.push(v),x},[]);return p.length===0?f:rM(h,p)};return i.jsx("div",T({className:a("tabs",[UM,n]),translate:"no"},r,{children:i.jsx("div",{"aria-label":"Select active file",className:a("tabs-scrollable-container",[qM]),role:"tablist",children:o.map(function(h){return i.jsxs("button",{"aria-selected":h===l,className:a("tab-button",[Vt,YM]),"data-active":h===l,onClick:function(){return c(h)},role:"tab",title:h,type:"button",children:[d(h),e&&o.length>1&&i.jsx("span",{className:a("close-button",[X4]),onClick:u,children:i.jsx(eM,{})})]},h)})})}))},Po=function(t){var e=t.onClick,n=t.className,r=t.children,s=yt();return i.jsx("button",{className:s("button",[s("icon-standalone"),Vt,Zr,mi,n]),onClick:e,type:"button",children:r})},VM=U({position:"absolute",bottom:"$space$2",right:"$space$2",paddingRight:"$space$3"}),q4=function(t){t.className;var e=t.onClick,n=ot(t,["className","onClick"]),r=nt().sandpack;return i.jsxs(Po,T({className:VM.toString(),onClick:function(s){r.runSandpack(),e==null||e(s)}},n,{children:[i.jsx(IE,{}),i.jsx("span",{children:"Run"})]}))},Qf,Y4=U((Qf={display:"flex",flexDirection:"column",width:"100%",position:"relative",backgroundColor:"$colors$surface1",gap:1},Qf["&:has(.".concat(Se,"-stack)")]={backgroundColor:"$colors$surface2"},Qf)),rh=function(t){var e=t.className,n=ot(t,["className"]),r=yt();return i.jsx("div",T({className:r("stack",[Y4,e])},n))},WM=function(){var t=j.useContext(E0),e=t.theme,n=t.id,r=t.mode;return{theme:e,themeId:n,themeMode:r}},tb=function(t,e){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length;r++)if(t[r]!==e[r]){n=!1;break}return n},Dm=function(t,e){var n=e.line,r=e.column;return t.line(n).from+(r??0)-1},HM=function(){return ie.theme({"&":{backgroundColor:"var(--".concat(Se,"-colors-surface1)"),color:"var(--".concat(Se,"-syntax-color-plain)"),height:"100%"},".cm-matchingBracket, .cm-nonmatchingBracket, &.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{color:"inherit",backgroundColor:"rgba(128,128,128,.25)",backgroundBlendMode:"difference"},"&.cm-editor.cm-focused":{outline:"none"},".cm-activeLine":{backgroundColor:"var(--".concat(Se,"-colors-surface3)"),borderRadius:"var(--".concat(Se,"-border-radius)")},".cm-errorLine":{backgroundColor:"var(--".concat(Se,"-colors-errorSurface)"),borderRadius:"var(--".concat(Se,"-border-radius)")},".cm-content":{caretColor:"var(--".concat(Se,"-colors-accent)"),padding:"0 var(--".concat(Se,"-space-4)")},".cm-scroller":{fontFamily:"var(--".concat(Se,"-font-mono)"),lineHeight:"var(--".concat(Se,"-font-lineHeight)")},".cm-gutters":{backgroundColor:"var(--".concat(Se,"-colors-surface1)"),color:"var(--".concat(Se,"-colors-disabled)"),border:"none",paddingLeft:"var(--".concat(Se,"-space-1)")},".cm-gutter.cm-lineNumbers":{fontSize:".6em"},".cm-lineNumbers .cm-gutterElement":{lineHeight:"var(--".concat(Se,"-font-lineHeight)"),minWidth:"var(--".concat(Se,"-space-5)")},".cm-content .cm-line":{paddingLeft:"var(--".concat(Se,"-space-1)")},".cm-content.cm-readonly .cm-line":{paddingLeft:0}})},Fn=function(t){return"".concat(Se,"-syntax-").concat(t)},IM=function(){var t=["string","plain","comment","keyword","definition","punctuation","property","tag","static"];return t.reduce(function(e,n){var r;return T(T({},e),(r={},r[".".concat(Fn(n))]={color:"$syntax$color$".concat(n),fontStyle:"$syntax$fontStyle$".concat(n)},r))},{})},GM=function(t){return Gd.define([{tag:N.link,textDecoration:"underline"},{tag:N.emphasis,fontStyle:"italic"},{tag:N.strong,fontWeight:"bold"},{tag:N.keyword,class:Fn("keyword")},{tag:[N.atom,N.number,N.bool],class:Fn("static")},{tag:N.variableName,class:Fn("plain")},{tag:N.standard(N.tagName),class:Fn("tag")},{tag:[N.function(N.variableName),N.definition(N.function(N.variableName)),N.tagName],class:Fn("definition")},{tag:N.propertyName,class:Fn("property")},{tag:[N.literal,N.inserted],class:Fn(t.syntax.string?"string":"static")},{tag:N.punctuation,class:Fn("punctuation")},{tag:[N.comment,N.quote],class:Fn("comment")}])},FM=function(t,e,n){if(!t&&!e)return"javascript";var r=e;if(!r&&t){var s=t.lastIndexOf(".");r=t.slice(s+1)}for(var a=0,l=n;a<l.length;a++){var o=l[a];if(r===o.name||o.extensions.includes(r||""))return o.name}switch(r){case"ts":case"tsx":return"typescript";case"html":case"svelte":case"vue":case"astro":return"html";case"css":case"less":case"scss":return"css";case"js":case"jsx":case"json":default:return"javascript"}},JM=function(t,e){for(var n={javascript:Pm({jsx:!0,typescript:!1}),typescript:Pm({jsx:!0,typescript:!0}),html:ME(),css:l4()},r=0,s=e;r<s.length;r++){var a=s[r];if(t===a.name)return a.language}return n[t]},V4=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return j.useCallback(function(n){return t.forEach(function(r){if(r){if(typeof r=="function")return r(n);r.current=n}})},t)};function KM(t){return Nn.fromClass(function(){function e(n){this.decorations=this.getDecoration(n)}return e.prototype.update=function(n){},e.prototype.getDecoration=function(n){if(!t)return ue.none;var r=t.map(function(s){var a,l,o,c=ue.line({attributes:{class:(a=s.className)!==null&&a!==void 0?a:""}}),u=ue.mark({class:(l=s.className)!==null&&l!==void 0?l:"",attributes:(o=s.elementAttributes)!==null&&o!==void 0?o:void 0}),d=Dm(n.state.doc,{line:s.line,column:s.startColumn})+1;if(s.startColumn&&s.endColumn){var h=Dm(n.state.doc,{line:s.line,column:s.endColumn})+1;return u.range(d,h)}return c.range(d)});return ue.set(r)},e}(),{decorations:function(e){return e.decorations}})}function eD(){return nD}var tD=ue.line({attributes:{class:"cm-errorLine"}}),nD=Nn.fromClass(function(){function t(){this.decorations=ue.none}return t.prototype.update=function(e){var n=this;e.transactions.forEach(function(r){var s=r.annotation("show-error");if(s!==void 0){var a=Dm(e.view.state.doc,{line:s})+1;n.decorations=ue.set([tD.range(a)])}else r.annotation("remove-errors")&&(n.decorations=ue.none)})},t}(),{decorations:function(t){return t.decorations}}),Dc,Af,Zm=U({margin:"0",display:"block",fontFamily:"$font$mono",fontSize:"$font$size",color:"$syntax$color$plain",lineHeight:"$font$lineHeight"}),nb=U(IM()),W4=U((Dc={flex:1,position:"relative",overflow:"auto",background:"$colors$surface1",".cm-scroller":{padding:"$space$4 0"}},Dc[".".concat(Zm)]={padding:"$space$4 0"},Dc["@media screen and (max-width: 768px)"]={"@supports (-webkit-overflow-scrolling: touch)":{".cm-content":{fontSize:"16px"}}},Dc)),rb=U({margin:"0",outline:"none",height:"100%"}),rD=U((Af={fontFamily:"$font$mono",fontSize:"0.8em",position:"absolute",right:"$space$2",bottom:"$space$2",zIndex:"$top",color:"$colors$clickable",backgroundColor:"$colors$surface2",borderRadius:"99999px",padding:"calc($space$1 / 2) $space$2"},Af["& + .".concat(Vt)]={right:"calc($space$11 * 2)"},Af)),sD=function(t){var e=t.langSupport,n=t.highlightTheme,r=t.code,s=r===void 0?"":r,a=e.language.parser.parse(s),l=0,o=[],c=function(u,d){if(u>l){var h=s.slice(l,u);o.push(d?j.createElement("span",{children:h,className:d,key:"".concat(u).concat(l)}):h),l=u}};return ow(a,n,function(u,d,h){c(u,""),c(d,h)}),l<s.length&&(s!=null&&s.includes(`
`))&&o.push(`

`),o},z0=j.forwardRef(function(t,e){var n=t.code,r=n===void 0?"":n,s=t.filePath,a=t.fileType,l=t.onCodeUpdate,o=t.showLineNumbers,c=o===void 0?!1:o,u=t.showInlineErrors,d=u===void 0?!1:u,h=t.wrapContent,f=h===void 0?!1:h,p=t.editorState,x=p===void 0?"pristine":p,v=t.readOnly,y=v===void 0?!1:v,g=t.showReadOnly,m=g===void 0?!0:g,O=t.decorators,b=t.initMode,w=b===void 0?"lazy":b,S=t.extensions,k=S===void 0?[]:S,$=t.extensionsKeymap,_=$===void 0?[]:$,R=t.additionalLanguages,z=R===void 0?[]:R,E=j.useRef(null),H=V4(E,e),B=j.useRef(),G=WM(),Q=G.theme,L=G.themeId,q=j.useState(r),ee=q[0],D=q[1],A=j.useState(w==="immediate"),I=A[0],C=A[1],M=yt(),Y=nt(),K=Y.listen,fe=Y.sandpack.autoReload,xe=j.useRef([]),Je=j.useRef([]),Ct=NP(E,{rootMargin:"600px 0px",threshold:.2}).isIntersecting;j.useImperativeHandle(e,function(){return{getCodemirror:function(){return B.current}}}),j.useEffect(function(){var Me=w==="lazy"||w==="user-visible";Me&&Ct&&C(!0)},[w,Ct]);var Ie=FM(s,a,z),Zt=JM(Ie,z),Hr=GM(Q),$i=sD({langSupport:Zt,highlightTheme:Hr,code:r}),Ia=j.useMemo(function(){return O&&O.sort(function(Me,je){return Me.line-je.line})},[O]);j.useEffect(function(){if(!(!E.current||!I)){var Me=E.current,je=Me.querySelector(".sp-pre-placeholder");je&&Me.removeChild(je);var Re=new ie({doc:r,extensions:[],parent:Me,dispatch:function(ve){if(Re.update([ve]),ve.docChanged){var re=ve.newDoc.sliceString(0,ve.newDoc.length);D(re),l==null||l(re)}}});return Re.contentDOM.setAttribute("data-gramm","false"),Re.contentDOM.setAttribute("data-lt-active","false"),Re.contentDOM.setAttribute("aria-label",s?"Code Editor for ".concat(pd(s)):"Code Editor"),y?Re.contentDOM.classList.add("cm-readonly"):Re.contentDOM.setAttribute("tabIndex","-1"),B.current=Re,function(){var ve;(ve=B.current)===null||ve===void 0||ve.destroy()}}},[I]),j.useEffect(function(){if(B.current){var Me=[{key:"Tab",run:function(Re){var ve,re;Kw(Re);var It=_.find(function(ut){var Ue=ut.key;return Ue==="Tab"});return(re=(ve=It==null?void 0:It.run)===null||ve===void 0?void 0:ve.call(It,Re))!==null&&re!==void 0?re:!0}},{key:"Shift-Tab",run:function(Re){var ve,re;e4({state:Re.state,dispatch:Re.dispatch});var It=_.find(function(ut){var Ue=ut.key;return Ue==="Shift-Tab"});return(re=(ve=It==null?void 0:It.run)===null||ve===void 0?void 0:ve.call(It,Re))!==null&&re!==void 0?re:!0}},{key:"Escape",run:function(){return y||E.current&&E.current.focus(),!0}},{key:"mod-Backspace",run:N0}],je=Rt(Rt([AR(),wA(),sA()],k,!0),[Ku.of(Rt(Rt(Rt(Rt(Rt([],oA,!0),kP,!0),PA,!0),Me,!0),_,!0)),Zt,HM(),NQ(Hr)],!1);y?(je.push(be.readOnly.of(!0)),je.push(ie.editable.of(!1))):(je.push(MQ()),je.push(ZR())),Ia&&je.push(KM(Ia)),f&&je.push(ie.lineWrapping),c&&je.push(WR()),d&&je.push(eD()),B.current.dispatch({effects:_e.reconfigure.of(je)})}},[I,Ia,c,f,L,y,fe]),j.useEffect(function(){var je=B.current,Re=!tb(k,xe.current)||!tb(_,Je.current);je&&Re&&(je.dispatch({effects:_e.appendConfig.of(k)}),je.dispatch({effects:_e.appendConfig.of(Ku.of(Rt([],_,!0)))}),xe.current=k,Je.current=_)},[k,_]),j.useEffect(function(){B.current&&x==="dirty"&&window.matchMedia("(min-width: 768px)").matches&&B.current.contentDOM.focus()},[]),j.useEffect(function(){if(B.current&&typeof r=="string"&&r!==ee){var Me=B.current,je=Me.state.selection.ranges.some(function(ve){var re=ve.to,It=ve.from;return re>r.length||It>r.length})?Z.cursor(r.length):Me.state.selection,Re={from:0,to:Me.state.doc.length,insert:r};Me.dispatch({changes:Re,selection:je})}},[r]),j.useEffect(function(){if(d){var je=K(function(Re){var ve=B.current;Re.type==="success"?ve==null||ve.dispatch({annotations:[new zn("remove-errors",!0)]}):Re.type==="action"&&Re.action==="show-error"&&Re.path===s&&Re.line&&(ve==null||ve.dispatch({annotations:[new zn("show-error",Re.line)]}))});return function(){return je()}}},[K,d]);var ih=function(Me){Me.key==="Enter"&&B.current&&(Me.preventDefault(),B.current.contentDOM.focus())},zs=function(){var Me=4;return c&&(Me+=6),y||(Me+=1),"var(--".concat(Se,"-space-").concat(Me,")")};return y?i.jsxs(i.Fragment,{children:[i.jsx("pre",{ref:H,className:M("cm",[M(x),M(Ie),rb,nb]),translate:"no",children:i.jsx("code",{className:M("pre-placeholder",[Zm]),style:{marginLeft:zs()},children:$i})}),y&&m&&i.jsx("span",T({className:M("read-only",[rD])},{},{children:"Read-only"}))]}):i.jsx("div",{ref:H,"aria-autocomplete":"list","aria-label":s?"Code Editor for ".concat(pd(s)):"Code Editor","aria-multiline":"true",className:M("cm",[M(x),M(Ie),rb,nb]),onKeyDown:ih,role:"textbox",tabIndex:0,translate:"no",suppressHydrationWarning:!0,children:i.jsx("pre",{className:M("pre-placeholder",[Zm]),style:{marginLeft:zs()},children:$i})})}),L0=j.forwardRef(function(t,e){var n=t.showTabs,r=t.showLineNumbers,s=r===void 0?!1:r,a=t.showInlineErrors,l=a===void 0?!1:a,o=t.showRunButton,c=o===void 0?!0:o,u=t.wrapContent,d=u===void 0?!1:u,h=t.closableTabs,f=h===void 0?!1:h,p=t.initMode,x=t.extensions,v=t.extensionsKeymap,y=t.readOnly,g=t.showReadOnly,m=t.additionalLanguages,O=t.className,b=ot(t,["showTabs","showLineNumbers","showInlineErrors","showRunButton","wrapContent","closableTabs","initMode","extensions","extensionsKeymap","readOnly","showReadOnly","additionalLanguages","className"]),w=nt().sandpack,S=L4(),k=S.code,$=S.updateCode,_=S.readOnly,R=w.activeFile,z=w.status,E=w.editorState,H=n??w.visibleFiles.length>1,B=yt(),G=function(Q,L){L===void 0&&(L=!0),$(Q,L)};return i.jsxs(rh,T({className:B("editor",[O])},b,{children:[H&&i.jsx(U4,{closableTabs:f}),i.jsxs("div",{className:B("code-editor",[W4]),children:[i.jsx(z0,{ref:e,additionalLanguages:m,code:k,editorState:E,extensions:x,extensionsKeymap:v,filePath:R,initMode:p||w.initMode,onCodeUpdate:function(Q){var L;return G(Q,(L=w.autoReload)!==null&&L!==void 0?L:!0)},readOnly:y||_,showInlineErrors:l,showLineNumbers:s,showReadOnly:g,wrapContent:d},R),c&&(!w.autoReload||z==="idle")?i.jsx(q4,{}):null]})]}))});j.forwardRef(function(t,e){var n=t.showTabs,r=t.showLineNumbers,s=t.decorators,a=t.code,l=t.initMode,o=t.wrapContent,c=t.additionalLanguages,u=ot(t,["showTabs","showLineNumbers","decorators","code","initMode","wrapContent","additionalLanguages"]),d=nt().sandpack,h=L4().code,f=yt(),p=n??d.visibleFiles.length>1;return i.jsxs(rh,T({className:f("editor-viewer")},u,{children:[p?i.jsx(U4,{}):null,i.jsx("div",{className:f("code-editor",[W4]),children:i.jsx(z0,{ref:e,additionalLanguages:c,code:a??h,decorators:s,filePath:d.activeFile,initMode:l||d.initMode,showLineNumbers:r,showReadOnly:!1,wrapContent:o,readOnly:!0})}),d.status==="idle"?i.jsx(q4,{}):null]}))});var Zc,zc,iD=U((Zc={border:"1px solid $colors$surface2",display:"flex",flexWrap:"wrap",alignItems:"stretch",borderRadius:"$border$radius",overflow:"hidden",position:"relative",backgroundColor:"$colors$surface2",gap:1},Zc["> .".concat(Y4)]={flexGrow:1,flexShrink:1,flexBasis:"0",height:"$layout$height",overflow:"hidden","@media print":{height:"auto",display:"block"},"@media screen and (max-width: 768px)":(zc={},zc["&:not(.".concat(Se,"-preview, .").concat(Se,"-editor, .").concat(Se,"-preset-column)")]={height:"calc($layout$height / 2)"},zc.minWidth="100%;",zc)},Zc["> .".concat(Se,"-file-explorer")]={flex:.2,minWidth:200,"@media screen and (max-width: 768px)":{flex:1}},Zc)),B0=j.forwardRef(function(t,e){var n=t.children,r=t.className,s=ot(t,["children","className"]),a=nt().sandpack,l=yt(),o=V4(a.lazyAnchorRef,e);return i.jsx("div",T({ref:o,className:l("layout",[iD,r])},s,{children:n}))}),aD=function(){var t,e=nt().sandpack,n=e.error;return(t=n==null?void 0:n.message)!==null&&t!==void 0?t:null},H4=200,lD=function(t,e){var n=nt(),r=n.sandpack,s=n.listen,a=j.useState("LOADING"),l=a[0],o=a[1];return j.useEffect(function(){var c=s(function(u){u.type==="start"&&u.firstLoad===!0&&o("LOADING"),u.type==="done"&&o(function(d){return d==="LOADING"?"PRE_FADING":"HIDDEN"})},t);return function(){c()}},[t,r.status==="idle"]),j.useEffect(function(){var c;return l==="PRE_FADING"&&!e?o("FADING"):l==="FADING"&&(c=setTimeout(function(){return o("HIDDEN")},H4)),function(){clearTimeout(c)}},[l,e]),r.status==="timeout"?"TIMEOUT":r.status!=="running"?"HIDDEN":l},oD=function(t){var e=nt().dispatch;return{refresh:function(){return e({type:"refresh"},t)},back:function(){return e({type:"urlback"},t)},forward:function(){return e({type:"urlforward"},t)}}},I4=function(t){var e=nt(),n=e.sandpack,r=e.listen,s=e.dispatch,a=j.useRef(null),l=j.useRef(md());j.useEffect(function(){var c=a.current,u=l.current;return c!==null&&n.registerBundler(c,u,t),function(){return n.unregisterBundler(u)}},[]);var o=function(){return n.clients[l.current]||null};return{sandpack:n,getClient:o,clientId:l.current,iframe:a,listen:function(c){return r(c,l.current)},dispatch:function(c){return s(c,l.current)}}},X0=function(t){var e=nt().dispatch;return{restart:function(){return e({type:"shell/restart"},t)},openPreview:function(){return e({type:"shell/openPreview"},t)}}},cD=function(t,e){var n;switch(t.state){case"downloading_manifest":return"[1/3] Downloading manifest";case"downloaded_module":return"[2/3] Downloaded ".concat(t.name," (").concat(e-t.totalPending,"/").concat(e,")");case"starting_command":return"[3/3] Starting command";case"command_running":return'[3/3] Running "'.concat((n=t.command)===null||n===void 0?void 0:n.trim(),'"')}},G4=function(t){var e=j.useState(!1),n=e[0],r=e[1],s=j.useState(),a=s[0],l=s[1],o=j.useState(null),c=o[0],u=o[1],d=t==null?void 0:t.timeout,h=t==null?void 0:t.clientId,f=nt().listen;return j.useEffect(function(){var p,x=f(function(v){v.type==="start"&&v.firstLoad&&r(!1),d&&(p=setTimeout(function(){u(null)},d)),v.type==="shell/progress"&&!n&&(!a&&v.data.state==="downloaded_module"&&l(v.data.totalPending),a!==void 0&&u(cD(v.data,a))),v.type==="done"&&v.compilatonError===!1&&(u(null),r(!0),clearTimeout(p))},h);return function(){p&&clearTimeout(p),x()}},[h,n,a,d]),c},uD=400*2,F4=function(t){var e=t.clientId,n=t.maxMessageCount,r=n===void 0?uD:n;t.resetOnPreviewRestart;var s=j.useState([]),a=s[0],l=s[1],o=nt().listen;return j.useEffect(function(){var c=o(function(u){u.type==="start"?l([]):u.type==="stdout"&&u.payload.data&&u.payload.data.trim()&&l(function(d){for(var h=Rt(Rt([],d,!0),[{data:u.payload.data,id:md()}],!1);h.length>r;)h.shift();return h})},e);return c},[r,e]),{logs:a,reset:function(){return l([])}}},dD=function(t){var e=t.replace("[sandpack-client]: ","");if(/process.exit/.test(e)){var n=e.match(/process.exit\((\d+)\)/);return n?Number(n[1])===0?"Server is not running, would you like to start it again?":"Server has crashed with status code ".concat(n[1],", would you like to restart the server?"):e}return e},hD=function(t){var e=t.children,n=t.className,r=ot(t,["children","className"]),s=aD(),a=X0().restart,l=yt(),o=nt().sandpack,c=o.runSandpack,u=o.teamId,d=nt().dispatch;if(!s&&!e)return null;var h=s==null?void 0:s.startsWith("[sandpack-client]"),f=s==null?void 0:s.includes("NPM_REGISTRY_UNAUTHENTICATED_REQUEST"),p=function(){u&&d({type:"sign-in",teamId:u})};return f?i.jsxs("div",T({className:l("overlay",[l("error"),Jl,Mm,n])},t,{children:[i.jsx("p",{className:l("error-message",[us]),children:i.jsx("strong",{children:"Unable to fetch required dependency."})}),i.jsx("div",{className:l("error-message",[us]),children:i.jsxs("p",{children:["Authentication required. Please sign in to your account (make sure to allow pop-ups to this page) and try again. If the issue persists, contact"," ",i.jsx("a",{href:"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error",children:"support"})," ","for further assistance."]})}),i.jsx("div",{children:i.jsxs("button",{className:l("button",[Vt,Zr,mi]),onClick:p,children:[i.jsx(WE,{}),i.jsx("span",{children:"Sign in"})]})})]})):h&&s?i.jsx("div",T({className:l("overlay",[l("error"),Jl,Mm,n])},r,{children:i.jsxs("div",{className:l("error-message",[us]),children:[i.jsx("p",{className:l("error-title",[U({fontWeight:"bold"})]),children:"Couldn't connect to server"}),i.jsx("p",{children:dD(s)}),i.jsx("div",{children:i.jsxs("button",{className:l("button",[l("icon-standalone"),Vt,Zr,mi]),onClick:function(){a(),c()},title:"Restart script",type:"button",children:[i.jsx(nh,{})," ",i.jsx("span",{children:"Restart"})]})})]})})):i.jsxs("div",T({className:l("overlay",[l("error"),Jl,B4({solidBg:!0}),n]),translate:"no"},r,{children:[i.jsx("p",{className:l("error-message",[us]),children:i.jsx("strong",{children:"Something went wrong"})}),i.jsx("p",{className:l("error-message",[us({errorCode:!0})]),children:s||e})]}))};function fD(t,e){return e===void 0&&(e=!1),t=qE(OD(t)),BE.ansiToJson(t,{json:!0,remove_empty:!0,use_classes:e})}function pD(t){var e="";return t.bg&&(e+="".concat(t.bg,"-bg ")),t.fg&&(e+="".concat(t.fg,"-fg ")),t.decoration&&(e+="ansi-".concat(t.decoration," ")),e===""?null:(e=e.substring(0,e.length-1),e)}function mD(t){var e={};switch(t.bg&&(e.backgroundColor="rgb(".concat(t.bg,")")),t.fg&&(e.color="rgb(".concat(t.fg,")")),t.decoration){case"bold":e.fontWeight="bold";break;case"dim":e.opacity="0.5";break;case"italic":e.fontStyle="italic";break;case"hidden":e.visibility="hidden";break;case"strikethrough":e.textDecoration="line-through";break;case"underline":e.textDecoration="underline";break;case"blink":e.textDecoration="blink";break}return e}function gD(t,e,n,r){var s=e?null:mD(n),a=e?pD(n):null;if(!t)return j.createElement("span",{style:s,key:r,className:a},n.content);for(var l=[],o=/(\s|^)(https?:\/\/(?:www\.|(?!www))[^\s.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/g,c=0,u;(u=o.exec(n.content))!==null;){var d=u[1],h=u[2],f=u.index+d.length;f>c&&l.push(n.content.substring(c,f));var p=h.startsWith("www.")?"http://".concat(h):h;l.push(j.createElement("a",{key:c,href:p,target:"_blank"},"".concat(h))),c=o.lastIndex}return c<n.content.length&&l.push(n.content.substring(c)),j.createElement("span",{style:s,key:r,className:a},l)}function xD(t){var e=t.className,n=t.useClasses,r=t.children,s=t.linkify;return j.createElement("code",{className:e},fD(r??"",n??!1).map(gD.bind(null,s??!1,n??!1)))}function OD(t){var e=t;do t=e,e=t.replace(/[^\n]\x08/gm,"");while(e.length<t.length);return t}var J4=function(t){var e=t.data,n=yt();return i.jsx(i.Fragment,{children:e.map(function(r){var s=r.data,a=r.id;return i.jsx("div",{className:n("console-item",[vD]),children:i.jsx(xD,{children:s})},a)})})},vD=U({width:"100%",padding:"$space$3 $space$2",fontSize:".85em",position:"relative",whiteSpace:"pre","&:not(:first-child):after":{content:"",position:"absolute",top:0,left:0,right:0,height:1,background:"$colors$surface3"}}),bD=function(t){return VE.compressToBase64(JSON.stringify(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},sb="https://codesandbox.io/api/v1/sandboxes/define",yD=function(t,e){var n=Object.keys(t).reduce(function(r,s){var a,l=s.replace("/",""),o={content:t[s].code,isBinary:!1};return T(T({},r),(a={},a[l]=o,a))},{});return bD(T({files:n},e?{template:e}:null))},jD=function(t){var e=nt().sandpack;return e.exportOptions?i.jsx(SD,T({state:e},t)):i.jsx(wD,T({state:e},t))},SD=function(t){var e=t.children,n=t.state,r=ot(t,["children","state"]),s=function(){return Cl(void 0,void 0,void 0,function(){var a,l,o,c;return Tl(this,function(u){switch(u.label){case 0:if(!(!((c=n.exportOptions)===null||c===void 0)&&c.apiToken))throw new Error("Missing `apiToken` property");return a=Object.keys(n.files).reduce(function(d,h){var f,p=h.replace("/","");return T(T({},d),(f={},f[p]=n.files[h],f))},{}),[4,fetch("https://api.codesandbox.io/sandbox",{method:"POST",body:JSON.stringify({template:n.environment,files:a,privacy:n.exportOptions.privacy==="public"?0:2}),headers:{Authorization:"Bearer ".concat(n.exportOptions.apiToken),"Content-Type":"application/json","X-CSB-API-Version":"2023-07-01"}})];case 1:return l=u.sent(),[4,l.json()];case 2:return o=u.sent(),window.open("https://codesandbox.io/p/sandbox/".concat(o.data.alias,"?file=/").concat(n.activeFile,"&utm-source=storybook-addon"),"_blank"),[2]}})})};return i.jsx("button",T({onClick:s,title:"Export to workspace in CodeSandbox",type:"button"},r,{children:e}))},wD=function(t){var e,n,r,s=t.children,a=t.state,l=ot(t,["children","state"]),o=j.useRef(null),c=j.useState(),u=c[0],d=c[1];return j.useEffect(function(){var f=setTimeout(function(){var p=yD(a.files,a.environment),x=new URLSearchParams({parameters:p,query:new URLSearchParams({file:a.activeFile,utm_medium:"sandpack"}).toString()});d(x)},600);return function(){clearTimeout(f)}},[a.activeFile,a.environment,a.files]),((r=(n=(e=u==null?void 0:u.get)===null||e===void 0?void 0:e.call(u,"parameters"))===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0)>1500?i.jsxs("button",T({onClick:function(){var h;return(h=o.current)===null||h===void 0?void 0:h.submit()},title:"Open in CodeSandbox",type:"button"},l,{children:[i.jsxs("form",{ref:o,action:sb,method:"POST",style:{visibility:"hidden"},target:"_blank",children:[i.jsx("input",{name:"environment",type:"hidden",value:a.environment==="node"?"server":a.environment}),Array.from(u,function(h){var f=h[0],p=h[1];return i.jsx("input",{name:f,type:"hidden",value:p},f)})]}),s]})):i.jsx("a",T({href:"".concat(sb,"?").concat(u==null?void 0:u.toString(),"&environment=").concat(a.environment==="node"?"server":a.environment),rel:"noreferrer noopener",target:"_blank",title:"Open in CodeSandbox"},l,{children:s}))},K4=function(){var t=yt();return i.jsxs(jD,{className:t("button",[t("icon-standalone"),Vt,Zr,mi]),children:[i.jsx(KE,{}),i.jsx("span",{children:"Open Sandbox"})]})},Xs,zm=U({transform:"translate(-4px, 9px) scale(0.13, 0.13)","*":{position:"absolute",width:"96px",height:"96px"}}),kD=U((Xs={position:"absolute",right:"$space$2",bottom:"$space$2",zIndex:"$top",width:"32px",height:"32px",borderRadius:"$border$radius"},Xs[".".concat(zm)]={display:"flex"},Xs[".sp-button.".concat(Vt)]={display:"none"},Xs["&:hover .sp-button.".concat(Vt)]={display:"flex"},Xs["&:hover .sp-button.".concat(Vt," > span")]={display:"none"},Xs["&:hover .".concat(zm)]={display:"none"},Xs)),$D=Z4({"0%":{transform:"rotateX(-25.5deg) rotateY(45deg)"},"100%":{transform:"rotateX(-25.5deg) rotateY(405deg)"}}),ND=U({animation:"".concat($D," 1s linear infinite"),animationFillMode:"forwards",transformStyle:"preserve-3d",transform:"rotateX(-25.5deg) rotateY(45deg)","*":{border:"10px solid $colors$clickable",borderRadius:"8px",background:"$colors$surface1"},".top":{transform:"rotateX(90deg) translateZ(44px)",transformOrigin:"50% 50%"},".bottom":{transform:"rotateX(-90deg) translateZ(44px)",transformOrigin:"50% 50%"},".front":{transform:"rotateY(0deg) translateZ(44px)",transformOrigin:"50% 50%"},".back":{transform:"rotateY(-180deg) translateZ(44px)",transformOrigin:"50% 50%"},".left":{transform:"rotateY(-90deg) translateZ(44px)",transformOrigin:"50% 50%"},".right":{transform:"rotateY(90deg) translateZ(44px)",transformOrigin:"50% 50%"}}),CD=function(t){var e=t.className,n=t.showOpenInCodeSandbox,r=ot(t,["className","showOpenInCodeSandbox"]),s=yt();return i.jsxs("div",T({className:s("cube-wrapper",[kD,e]),title:"Open in CodeSandbox"},r,{children:[n&&i.jsx(K4,{}),i.jsx("div",{className:s("cube",[zm]),children:i.jsxs("div",{className:s("sides",[ND]),children:[i.jsx("div",{className:"top"}),i.jsx("div",{className:"right"}),i.jsx("div",{className:"bottom"}),i.jsx("div",{className:"left"}),i.jsx("div",{className:"front"}),i.jsx("div",{className:"back"})]})})]}))},TD=U({backgroundColor:"$colors$surface1"}),RD=function(t){var e=t.clientId,n=t.loading,r=t.className,s=t.style,a=t.showOpenInCodeSandbox,l=ot(t,["clientId","loading","className","style","showOpenInCodeSandbox"]),o=yt(),c=nt().sandpack,u=c.runSandpack,d=c.environment,h=j.useState(!1),f=h[0],p=h[1],x=lD(e,n),v=G4({clientId:e}),y=F4({clientId:e}).logs;if(j.useEffect(function(){var m;return v!=null&&v.includes("Running")&&(m=setTimeout(function(){p(!0)},3e3)),function(){m&&clearTimeout(m)}},[v]),x==="HIDDEN")return null;if(x==="TIMEOUT")return i.jsx("div",T({className:o("overlay",[o("error"),Jl,B4,Mm,r])},l,{children:i.jsxs("div",{className:o("error-message",[us]),children:[i.jsx("p",{className:o("error-title",[U({fontWeight:"bold"})]),children:"Couldn't connect to server"}),i.jsx("div",{className:o("error-message",[us]),children:i.jsxs("p",{children:["This means sandpack cannot connect to the runtime or your network is having some issues. Please check the network tab in your browser and try again. If the problem persists, report it via"," ",i.jsx("a",{href:"mailto:hello@codesandbox.io?subject=Sandpack Timeout Error",children:"email"})," ","or submit an issue on"," ",i.jsx("a",{href:"https://github.com/codesandbox/sandpack/issues",rel:"noreferrer noopener",target:"_blank",children:"GitHub."})]})}),i.jsxs("p",{className:o("error-message",[us({errorCode:!0})]),children:["ENV: ",d,i.jsx("br",{}),"ERROR: TIME_OUT"]}),i.jsx("div",{children:i.jsxs("button",{className:o("button",[o("icon-standalone"),Vt,Zr,mi]),onClick:u,title:"Restart script",type:"button",children:[i.jsx(nh,{})," ",i.jsx("span",{children:"Try again"})]})})]})}));var g=x==="LOADING"||x==="PRE_FADING";return i.jsxs(i.Fragment,{children:[i.jsxs("div",T({className:o("overlay",[o("loading"),Jl,TD,r]),style:T(T({},s),{opacity:g?1:0,transition:"opacity ".concat(H4,"ms ease-out")})},l,{children:[f&&i.jsx("div",{className:QD.toString(),children:i.jsx(J4,{data:y})}),i.jsx(CD,{showOpenInCodeSandbox:a})]})),v&&i.jsx("div",{className:AD.toString(),children:i.jsx("p",{children:v})})]})},QD=U({position:"absolute",left:0,right:0,bottom:"$space$8",overflow:"auto",opacity:.5,overflowX:"hidden"}),AD=U({position:"absolute",left:"$space$5",bottom:"$space$4",zIndex:"$top",color:"$colors$clickable",animation:"".concat(Z0," 150ms ease"),fontFamily:"$font$mono",fontSize:".8em",width:"75%",p:{whiteSpace:"nowrap",margin:0,textOverflow:"ellipsis",overflow:"hidden"}}),PD=function(t){var e=t.clientId,n=G4({timeout:3e3,clientId:e});return n?i.jsx("div",{className:_D.toString(),children:i.jsx("p",{children:n})}):null},_D=U({position:"absolute",left:"$space$5",bottom:"$space$4",zIndex:"$top",color:"$colors$clickable",animation:"".concat(Z0," 150ms ease"),fontFamily:"$font$mono",fontSize:".8em",width:"75%",p:{whiteSpace:"nowrap",margin:0,textOverflow:"ellipsis",overflow:"hidden"}});U({borderRadius:"0",width:"100%",padding:0,marginBottom:"$space$2",span:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},svg:{marginRight:"$space$1"}});U({padding:"$space$3",overflow:"auto",height:"100%"});var ED=function(t){var e=t.match(/(https?:\/\/.*?)\//);return e&&e[1]?[e[1],t.replace(e[1],"")]:[t,"/"]},MD=U({display:"flex",alignItems:"center",height:"$layout$headerHeight",borderBottom:"1px solid $colors$surface2",padding:"$space$3 $space$2",background:"$colors$surface1"}),DD=U({backgroundColor:"$colors$surface2",color:"$colors$clickable",padding:"$space$1 $space$3",borderRadius:"99999px",border:"1px solid $colors$surface2",height:"24px",lineHeight:"24px",fontSize:"inherit",outline:"none",flex:1,marginLeft:"$space$4",width:"0",transition:"background $transitions$default","&:hover":{backgroundColor:"$colors$surface3"},"&:focus":{backgroundColor:"$surface1",border:"1px solid $colors$accent",color:"$colors$base"}}),ZD=function(t){var e,n=t.clientId,r=t.onURLChange,s=t.className,a=t.startRoute,l=ot(t,["clientId","onURLChange","className","startRoute"]),o=j.useState(""),c=o[0],u=o[1],d=nt(),h=d.sandpack,f=d.dispatch,p=d.listen,x=j.useState((e=a??h.startRoute)!==null&&e!==void 0?e:"/"),v=x[0],y=x[1],g=j.useState(!1),m=g[0],O=g[1],b=j.useState(!1),w=b[0],S=b[1],k=yt();j.useEffect(function(){var B=p(function(G){if(G.type==="urlchange"){var Q=G.url,L=G.back,q=G.forward,ee=ED(Q),D=ee[0],A=ee[1];u(D),y(A),O(L),S(q)}},n);return function(){return B()}},[]);var $=function(B){var G=B.target.value.startsWith("/")?B.target.value:"/".concat(B.target.value);y(G)},_=function(B){B.code==="Enter"&&(B.preventDefault(),B.stopPropagation(),typeof r=="function"&&r(c+B.currentTarget.value))},R=function(){f({type:"refresh"})},z=function(){f({type:"urlback"})},E=function(){f({type:"urlforward"})},H=k("button",[k("icon"),Vt,XM,U({minWidth:"$space$6",justifyContent:"center"})]);return i.jsxs("div",T({className:k("navigator",[MD,s])},l,{children:[i.jsx("button",{"aria-label":"Go back one page",className:H,disabled:!m,onClick:z,type:"button",children:i.jsx(GE,{})}),i.jsx("button",{"aria-label":"Go forward one page",className:H,disabled:!w,onClick:E,type:"button",children:i.jsx(FE,{})}),i.jsx("button",{"aria-label":"Refresh page",className:H,onClick:R,type:"button",children:i.jsx(D4,{})}),i.jsx("input",{"aria-label":"Current Sandpack URL",className:k("input",[DD]),name:"Current Sandpack URL",onChange:$,onKeyDown:_,type:"text",value:v})]}))},Pf,zD=U((Pf={flex:1,display:"flex",flexDirection:"column",background:"white",overflow:"auto",position:"relative"},Pf[".".concat(Se,"-bridge-frame")]={border:0,position:"absolute",left:"$space$2",bottom:"$space$2",zIndex:"$top",height:12,width:"30%",mixBlendMode:"multiply",pointerEvents:"none"},Pf)),LD=U({border:"0",outline:"0",width:"100%",height:"100%",minHeight:"160px",maxHeight:"2000px",flex:1}),BD=U({display:"flex",position:"absolute",bottom:"$space$2",right:"$space$2",zIndex:"$overlay",gap:"$space$2"}),e3=j.forwardRef(function(t,e){var n=t.showNavigator,r=n===void 0?!1:n,s=t.showRefreshButton,a=s===void 0?!0:s,l=t.showOpenInCodeSandbox,o=l===void 0?!0:l,c=t.showSandpackErrorOverlay,u=c===void 0?!0:c;t.showOpenNewtab;var d=t.showRestartButton,h=d===void 0?!0:d,f=t.actionsChildren,p=f===void 0?i.jsx(i.Fragment,{}):f,x=t.children,v=t.className,y=t.startRoute,g=y===void 0?"/":y,m=ot(t,["showNavigator","showRefreshButton","showOpenInCodeSandbox","showSandpackErrorOverlay","showOpenNewtab","showRestartButton","actionsChildren","children","className","startRoute"]),O=I4({startRoute:g}),b=O.sandpack,w=O.listen,S=O.iframe,k=O.getClient,$=O.clientId,_=O.dispatch,R=j.useState(null),z=R[0],E=R[1],H=b.status,B=oD($).refresh,G=X0($).restart,Q=yt();j.useEffect(function(){var q=w(function(ee){ee.type==="resize"&&E(ee.height)});return q},[]),j.useImperativeHandle(e,function(){return{clientId:$,getClient:k}},[k,$]);var L=function(q){S.current&&(S.current.src=q)};return i.jsxs(rh,T({className:Q("preview",[v])},m,{children:[r&&i.jsx(ZD,{clientId:$,onURLChange:L,startRoute:g}),i.jsxs("div",{className:Q("preview-container",[zD]),children:[i.jsx("iframe",{ref:S,className:Q("preview-iframe",[LD]),style:{height:z||void 0},title:"Sandpack Preview"}),i.jsxs("div",{className:Q("preview-actions",[BD]),children:[p,h&&b.environment==="node"&&i.jsx(Po,{onClick:G,children:i.jsx(nh,{})}),!r&&a&&H==="running"&&i.jsx(Po,{onClick:B,children:i.jsx(D4,{})}),b.teamId&&i.jsx("button",{className:Q("button",[Q("icon-standalone"),Vt,Zr,mi]),onClick:function(){return _({type:"sign-out"})},title:"Sign out",type:"button",children:i.jsx(HE,{})}),o&&i.jsx(K4,{})]}),i.jsx(RD,{clientId:$,showOpenInCodeSandbox:o}),u&&i.jsx(hD,{}),x]})]}))}),_f;U((_f={display:"flex",flexDirection:"column",width:"100%",position:"relative",overflow:"auto",minHeight:"160px",flex:1},_f[".".concat(Se,"-stack")]={height:"100%"},_f));U({justifyContent:"space-between",borderBottom:"1px solid $colors$surface2",padding:"0 $space$2",fontFamily:"$font$mono",height:"$layout$headerHeight",minHeight:"$layout$headerHeight",overflowX:"auto",whiteSpace:"nowrap"});U({display:"flex",flexDirection:"row",alignItems:"center",gap:"$space$2"});var sh=U({variants:{status:{pass:{color:"var(--test-pass)"},fail:{color:"var(--test-fail)"},skip:{color:"var(--test-skip)"},title:{color:"var(--test-title)"}}}});sh({status:"pass"});sh({status:"fail"});sh({status:"skip"});sh({status:"title"});var U0=U({variants:{status:{pass:{background:"var(--test-pass)",color:"$colors$surface1"},fail:{background:"var(--test-fail)",color:"$colors$surface1"},run:{background:"var(--test-run)",color:"$colors$surface1"}}}});U0({status:"run"});U0({status:"pass"});U0({status:"fail"});U({marginLeft:"$space$4"});U({marginBottom:"$space$2",color:"$colors$clickable"});U({marginBottom:"$space$2",color:"$colors$hover"});U({marginLeft:"$space$2"});U({marginRight:"$space$2"});U({color:"$colors$hover",marginBottom:"$space$2"});U({marginLeft:"$space$4"});U({color:"$colors$hover",fontSize:"$font$size",padding:"$space$2",whiteSpace:"pre-wrap"});U({display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"$space$2"});U({marginBottom:"$space$2"});U({fontWeight:"bold"});U({borderRadius:"calc($border$radius / 2)"});U({padding:"$space$1 $space$2",fontFamily:"$font$mono",textTransform:"uppercase",marginRight:"$space$2"});U({fontFamily:"$font$mono",cursor:"pointer",display:"inline-block"});U({color:"$colors$clickable",textDecorationStyle:"dotted",textDecorationLine:"underline"});U({color:"$colors$hover",fontWeight:"bold",textDecorationStyle:"dotted",textDecorationLine:"underline"});U({marginBottom:"$space$2"});U({fontWeight:"bold",color:"$colors$hover",whiteSpace:"pre-wrap"});U({fontWeight:"bold",color:"$colors$clickable"});U({display:"flex",position:"absolute",bottom:"$space$2",right:"$space$2",zIndex:"$overlay","> *":{marginLeft:"$space$2"}});U({padding:"$space$4",height:"100%",overflow:"auto",display:"flex",flexDirection:"column",position:"relative",fontFamily:"$font$mono"});U({fontWeight:"bold",color:"$colors$base"});var XD=["SyntaxError: ","Error in sandbox:"],UD={id:"random",method:"clear",data:["Console was cleared"]},ib="@t",ab="#@t",lb="@r",ob=1e4,t3=2,Lm=400,qD=Lm*2,Ef=function(){var e=eval;return e("this")}(),YD=typeof ArrayBuffer=="function",VD=typeof Map=="function",WD=typeof Set=="function",Kl;(function(t){t[t.infinity=0]="infinity",t[t.minusInfinity=1]="minusInfinity",t[t.minusZero=2]="minusZero"})(Kl||(Kl={}));var cb={Arithmetic:function(t){return t===Kl.infinity?1/0:t===Kl.minusInfinity?-1/0:t===Kl.minusZero?-0:t},HTMLElement:function(t){var e=document.implementation.createHTMLDocument("sandbox");try{var n=e.createElement(t.tagName);n.innerHTML=t.innerHTML;for(var r=0,s=Object.keys(t.attributes);r<s.length;r++){var a=s[r];try{n.setAttribute(a,t.attributes[a])}catch{}}return n}catch{return t}},Function:function(t){var e=function(){};return Object.defineProperty(e,"toString",{value:function(){return"function ".concat(t.name,"() {").concat(t.body,"}")}}),e},"[[NaN]]":function(){return NaN},"[[undefined]]":function(){},"[[Date]]":function(t){var e=new Date;return e.setTime(t),e},"[[RegExp]]":function(t){return new RegExp(t.src,t.flags)},"[[Error]]":function(t){var e=Ef[t.name]||Error,n=new e(t.message);return n.stack=t.stack,n},"[[ArrayBuffer]]":function(t){if(YD){var e=new ArrayBuffer(t.length),n=new Int8Array(e);return n.set(t),e}return t},"[[TypedArray]]":function(t){return typeof Ef[t.ctorName]=="function"?new Ef[t.ctorName](t.arr):t.arr},"[[Map]]":function(t){if(VD){for(var e=new Map,n=0;n<t.length;n+=2)e.set(t[n],t[n+1]);return e}for(var r=[],s=0;s<t.length;s+=2)r.push([t[n],t[n+1]]);return r},"[[Set]]":function(t){if(WD){for(var e=new Set,n=0;n<t.length;n++)e.add(t[n]);return e}return t}},Bm=function(t){var e;if(typeof t=="string"||typeof t=="number"||t===null)return t;if(Array.isArray(t))return t.map(Bm);if(typeof t=="object"&&ib in t){var n=t[ib],r=cb[n];return r(t.data)}else if(typeof t=="object"&&ab in t){var n=t[ab],r=cb[n];return r(t.data)}else if(typeof t=="object"&&((e=t.constructor)===null||e===void 0?void 0:e.name)==="NodeList"){var s={};return Object.entries(t).forEach(function(a){var l=a[0],o=a[1];s[l]=Bm(o)}),s}return t},HD=function(t,e,n){var r=t.reduce(function(s,a,l){return"".concat(s).concat(l?", ":"").concat(_o(a,e,n))},"");return"[".concat(r,"]")},ID=function(t,e,n){var r=t.constructor.name!=="Object"?"".concat(t.constructor.name," "):"";if(n>t3)return r;var s=Object.entries(t),a=Object.entries(t).reduce(function(l,o,c){var u=o[0],d=o[1],h=c===0?"":", ",f=s.length>10?`
  `:"",p=_o(d,e,n);return c===Lm?l+f+"...":c>Lm?l:l+"".concat(h).concat(f).concat(u,": ")+p},"");return"".concat(r,"{ ").concat(a).concat(s.length>10?`
`:" ","}")},_o=function(t,e,n){var r;n===void 0&&(n=0);try{var s=Bm(t);if(Array.isArray(s))return HD(s,e,n+1);switch(typeof s){case"string":return'"'.concat(s,'"').slice(0,ob);case"number":case"function":case"symbol":return s.toString();case"boolean":return String(s);case"undefined":return"undefined";case"object":default:if(s instanceof RegExp||s instanceof Error||s instanceof Date)return s.toString();if(s===null)return String(null);if(s instanceof HTMLElement)return s.outerHTML.slice(0,ob);if(Object.entries(s).length===0)return"{}";if(lb in s){if(n>t3)return"Unable to print information";var a=e[s[lb]];return _o(a,e,n+1)}if(((r=s.constructor)===null||r===void 0?void 0:r.name)==="NodeList"){var l=s.length,o=new Array(l).fill(null).map(function(c,u){return _o(s[u],e)});return"NodeList(".concat(s.length,")[").concat(o,"]")}return ID(s,e,n+1)}}catch{return"Unable to print information"}},GD=function(t){switch(t){case"warn":return"warning";case"clear":return"clear";case"error":return"error";case"log":case"info":default:return"info"}},Lc,FD=function(t){var e=t.data,n=yt();return i.jsx(i.Fragment,{children:e.map(function(r,s,a){var l=r.data,o=r.id,c=r.method;return l&&Array.isArray(l)?i.jsx(j.Fragment,{children:l.map(function(u,d){var h=a.slice(s,a.length);return i.jsx("div",{className:n("console-item",[JD({variant:GD(c)})]),children:i.jsx(z0,{code:c==="clear"?u:_o(u,h),fileType:"js",initMode:"user-visible",showReadOnly:!1,readOnly:!0,wrapContent:!0})},"".concat(o,"-").concat(d))})},o):null})})},JD=U((Lc={width:"100%",padding:"$space$3 $space$2",fontSize:".8em",position:"relative","&:not(:first-child):after":{content:"",position:"absolute",top:0,left:0,right:0,height:1,background:"$colors$surface3"},".sp-cm":{padding:0},".cm-editor":{background:"none"},".cm-content":{padding:0}},Lc[".".concat(Se,"-pre-placeholder")]={margin:"0 !important",fontSize:"1em"},Lc.variants={variant:{error:{color:"$colors$error",background:"$colors$errorSurface","&:not(:first-child):after":{background:"$colors$error",opacity:.07}},warning:{color:"$colors$warning",background:"$colors$warningSurface","&:not(:first-child):after":{background:"$colors$warning",opacity:.07}},clear:{fontStyle:"italic"},info:{}}},Lc)),KD=U({justifyContent:"space-between",borderBottom:"1px solid $colors$surface2",padding:"0 $space$2",fontFamily:"$font$mono",height:"$layout$headerHeight",minHeight:"$layout$headerHeight",overflowX:"auto",whiteSpace:"nowrap"}),ub=U({display:"flex",flexDirection:"row",alignItems:"center",gap:"$space$2"}),eZ=function(t){var e=t.currentTab,n=t.setCurrentTab,r=t.node,s=yt(),a=s("console-header-button",[Vt,mi,U({padding:"$space$1 $space$3"})]);return i.jsxs("div",{className:s("console-header",[KD,ub]),children:[i.jsxs("p",{className:s("console-header-title",[U({lineHeight:1,margin:0,color:"$colors$base",fontSize:"$font$size",display:"flex",alignItems:"center",gap:"$space$2"})]),children:[i.jsx(tM,{}),i.jsx("span",{children:"Terminal"})]}),r&&i.jsxs("div",{className:s("console-header-actions",[ub]),children:[i.jsx("button",{className:a,"data-active":e==="server",onClick:function(){return n("server")},type:"button",children:"Server"}),i.jsx("button",{className:a,"data-active":e==="client",onClick:function(){return n("client")},type:"button",children:"Client"})]})]})},tZ=function(t){var e=t.clientId,n=t.maxMessageCount,r=n===void 0?qD:n,s=t.showSyntaxError,a=s===void 0?!1:s,l=t.resetOnPreviewRestart,o=l===void 0?!1:l,c=j.useState([]),u=c[0],d=c[1],h=nt().listen;return j.useEffect(function(){var f=h(function(p){if(o&&p.type==="start")d([]);else if(p.type==="console"&&p.codesandbox){var x=Array.isArray(p.log)?p.log:[p.log];if(x.find(function(y){var g=y.method;return g==="clear"}))return d([UD]);var v=a?x:x.filter(function(y){var g,m,O,b=(O=(m=(g=y==null?void 0:y.data)===null||g===void 0?void 0:g.filter)===null||m===void 0?void 0:m.call(g,function(w){if(typeof w!="string")return!0;var S=XD.filter(function(k){return w.startsWith(k)});return S.length===0}))!==null&&O!==void 0?O:[];return b.length>0});if(!v)return;d(function(y){for(var g=Rt(Rt([],y,!0),v,!0).filter(function(m,O,b){return O===b.findIndex(function(w){return w.id===m.id})});g.length>r;)g.shift();return g})}},e);return f},[a,r,e,o]),{logs:u,reset:function(){return d([])}}};j.forwardRef(function(t,e){var n,r=t.showHeader,s=r===void 0?!0:r,a=t.showSyntaxError,l=a===void 0?!1:a,o=t.maxMessageCount,c=t.onLogsChange,u=t.className;t.showSetupProgress;var d=t.showResetConsoleButton,h=d===void 0?!0:d,f=t.showRestartButton,p=f===void 0?!0:f,x=t.resetOnPreviewRestart,v=x===void 0?!1:x,y=t.actionsChildren,g=y===void 0?i.jsx(i.Fragment,{}):y,m=t.standalone,O=m===void 0?!1:m,b=ot(t,["showHeader","showSyntaxError","maxMessageCount","onLogsChange","className","showSetupProgress","showResetConsoleButton","showRestartButton","resetOnPreviewRestart","actionsChildren","standalone"]),w=nt().sandpack.environment,S=I4(),k=S.iframe,$=S.clientId,_=X0().restart,R=j.useState(w==="node"?"server":"client"),z=R[0],E=R[1],H=O?$:void 0,B=tZ({maxMessageCount:o,showSyntaxError:l,resetOnPreviewRestart:v,clientId:H}),G=B.logs,Q=B.reset,L=F4({maxMessageCount:o,resetOnPreviewRestart:v,clientId:H}),q=L.logs,ee=L.reset,D=j.useRef(null);j.useEffect(function(){c==null||c(G),D.current&&(D.current.scrollTop=D.current.scrollHeight)},[c,G,q,z]);var A=z==="server",I=w==="node";j.useImperativeHandle(e,function(){return{reset:function(){Q(),ee()}}});var C=yt();return i.jsxs(rh,T({className:C("console",[U((n={height:"100%",background:"$surface1",iframe:{display:"none"}},n[".".concat(Se,"-bridge-frame")]={display:"block",border:0,position:"absolute",left:"$space$2",bottom:"$space$2",zIndex:"$top",height:12,width:"30%",mixBlendMode:"multiply",pointerEvents:"none"},n)),u])},b,{children:[s&&I&&i.jsx(eZ,{currentTab:z,node:I,setCurrentTab:E}),i.jsx("div",{ref:D,className:C("console-list",[U({overflow:"auto",scrollBehavior:"smooth"})]),children:A?i.jsx(J4,{data:q}):i.jsx(FD,{data:G})}),i.jsxs("div",{className:C("console-actions",[U({position:"absolute",bottom:"$space$2",right:"$space$2",display:"flex",gap:"$space$2"})]),children:[g,p&&A&&i.jsx(Po,{onClick:function(){_(),Q(),ee()},children:i.jsx(nh,{})}),h&&i.jsx(Po,{onClick:function(){z==="client"?Q():ee()},children:i.jsx(JE,{})})]}),O&&i.jsxs(i.Fragment,{children:[i.jsx(PD,{clientId:H}),i.jsx("iframe",{ref:k})]})]}))});U({position:"absolute",zIndex:"$top",variants:{direction:{vertical:{right:0,left:0,height:10,cursor:"ns-resize"},horizontal:{top:0,bottom:0,width:10,cursor:"ew-resize"}}},"@media screen and (max-width: 768px)":{display:"none"}});U({position:"relative",strong:{background:"$colors$clickable",color:"$colors$surface1",minWidth:12,height:12,padding:"0 2px",borderRadius:12,fontSize:8,lineHeight:"12px",position:"absolute",top:0,right:0,fontWeight:"normal"}});U({width:"100%",overflow:"hidden"});U({flexDirection:"row-reverse","@media screen and (max-width: 768px)":{flexFlow:"wrap-reverse !important",flexDirection:"initial"}});const q0="U2FsdGVkX1/OPhN009/FOKh0ppQwsBJl1jiOw6NEaY5P/SEk0mVif8wQMw52Pbjv";function nZ(){function t(e){localStorage.setItem("active_code",e.get("code")),location.reload()}return i.jsxs("div",{className:"pt-4",children:[i.jsx("div",{className:"rounded-md bg-yellow-50 p-4 border border-yellow-400",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-yellow-700",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Attention needed"}),i.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:i.jsx("p",{children:"你还未输入激活码，或者激活码已过期，请重新输入即可访问"})})]})]})}),i.jsxs("form",{action:t,className:"flex items-center justify-between",children:[i.jsx(Mn,{name:"code",placeholder:"Please input your active code",className:"flex-1 mr-4",pattern:q0}),i.jsx("button",{type:"submit",children:"确认"})]})]})}var Y0={colors:{surface1:"#ffffff",surface2:"#F3F3F3",surface3:"#f5f5f5",clickable:"#959da5",base:"#24292e",disabled:"#d1d4d8",hover:"#24292e",accent:"#24292e"},syntax:{keyword:"#d73a49",property:"#005cc5",plain:"#24292e",static:"#032f62",string:"#032f62",definition:"#6f42c1",punctuation:"#24292e",tag:"#22863a",comment:{color:"#6a737d",fontStyle:"normal"}},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}};function n3(t){return i.jsxs("div",{className:"flex flex-col bg-white flex-1",children:[i.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-100 items-center px-3 py-3 text-gray-500",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),i.jsx("div",{className:"ml-2 text-sm",children:"预览"})]}),i.jsx("div",{className:"sp-editor-wrapper flex-1 p-4",children:t.children})]})}const rZ=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script src="https://cdn.tailwindcss.com"><\/script>
    <title>案例演示</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
`,sZ=`button {
  border: 1px solid transparent;
  border-radius: 0.375rem;
  padding: 0.5rem 1rem!important;
  font-size: 0.875rem!important;
  line-height: 1.25rem!important;
  font-weight: 500!important;
  background-color: rgb(243 244 246)!important;
  cursor: pointer!important;
  transition: all 0.5s;
}

button:hover {
  background-color: rgb(229 231 235) !important;
}
`,iZ=`import React, { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./styles.css";

import App from "./App";

document.documentElement.style.fontSize = '14px'

const root = createRoot(document.getElementById("root"));
root.render(
  <StrictMode>
    <App />
  </StrictMode>
);
`;ki.registerLanguage("javascript",Kg);function aZ({className:t,...e}){const n=/language-(\w+)/.exec(t||"");return n?i.jsx(ki,{language:n[1],PreTag:"div",...e,style:e0}):i.jsx("code",{className:t,...e})}function Ee(t){const{renderArticle:e,files:n,hidePreview:r}=t,s=localStorage.getItem("active_code");return i.jsx("div",{children:i.jsxs("div",{className:"mt-5 md:flex",children:[i.jsxs("div",{className:"md:w-[40%] md:pr-4 keep",children:[s?e(aZ):i.jsx(nZ,{}),i.jsx("div",{className:"border-b mt-20 mb-8 text-lg font-bold pb-3"}),i.jsx(Ld,{repo:"yangbo5207/react19feature",repoId:"R_kgDOMGiHOw",category:"General",categoryId:"DIC_kwDOMGiHO84Cf8dR",maping:"pathname",term:"欢迎道友",strict:"0",reactionsEnabled:"1",emitMetadata:"1",inputPosition:"top",lang:"zh-CN",crossorigin:"anonymous",async:!0})]}),i.jsx("div",{className:"md:w-[60%] sticky top-[8rem] h-[calc(100vh_-_8rem-35px)] overflow-y-auto",children:i.jsx(D0,{template:"react",theme:Y0,options:{externalResources:["https://cdn.tailwindcss.com"],editorHeight:"auto"},customSetup:{dependencies:{react:"19.0.0-rc-dfd30974ab-20240613","react-dom":"19.0.0-rc-dfd30974ab-20240613","tailwind-merge":"latest",clsx:"latest"}},files:{...n,"/public/index.html":{code:rZ,hidden:!0},"index.js":{code:iZ,hidden:!0},"styles.css":{code:sZ,hidden:!0}},children:i.jsxs(B0,{children:[i.jsx(L0,{}),!r&&i.jsx(n3,{children:i.jsx(e3,{})})]})})})]})})}const lZ={"App.js":y9,"api.js":j9,"Message.jsx":S9,"Skeleton.jsx":w9,"Button.jsx":k9};function oZ(){return i.jsx(Ee,{files:lZ,renderArticle:t=>i.jsx(P9,{components:{code:t}})})}const cZ=`import React, { useEffect, useState, Suspense, use } from 'react';
import Button from './Button'
import Skeleton from './Skeleton'
import {fetchList} from './api'

const Index = () => {
  const [promises, increasePromise] = useState(() => [fetchList()])

  const onLoadMore = () => {
    promises.push(fetchList())
    increasePromise([...promises])
  };

  return (
    <>
      <div className='text-xs border-b border-gray-100 py-2 mb-4 text-gray-500 sticky top-0 bg-white'>
        案例演示：点击按钮加载更多
      </div>
      {promises.map((promise, i) => (
        <Suspense fallback={<Skeleton />} key={\`hello \${i}\`}>
          <CurrentList promise={promise} />
        </Suspense>
      ))}
      <div className='text-center my-4'>
        <Button onClick={onLoadMore}>loading more</Button>
      </div>
    </>
  );
};
export default Index;

function CurrentList({promise}) {
  const {results} = use(promise)
  return (
    <div>
      {results.map((item, i) => (
        <div key={item.name.last} className='border-b border-dashed py-4 mx-4 items-center flex'>
          <img className='w-14 h-14 rounded-full' src={item.picture.large} alt=''/>
          <div className='flex-1 ml-4'>
            <div className='font-bold'>{item.name.last}</div>
            <div className='text-gray-400 mt-1 text-sm line-clamp-1'>
              a design language for background applications, is refined by Ant UED Team
            </div>
          </div>
        </div>
      ))}
    </div>
  )
}
`,uZ=`import {twMerge} from 'tailwind-merge'
import clsx from 'clsx'

document.documentElement.style.fontSize = '14px'
// 本组件只是一个简单的 UI 组件，学习时无需多过关注

export default function Button(props) {
  const {className, primary, danger, sm, lg, success, ...other} = props
  const base = 'rounded-md border border-transparent font-medium cursor-pointer transition'

  // type
  const normal = 'bg-gray-100 hover:bg-gray-200'

  // size
  const md = 'text-xs py-2 px-4'

  const cls = twMerge(clsx(base, normal, md, {
    // type
    ['bg-blue-500 text-white hover:bg-blue-600']: primary,
    ['bg-red-500 text-white hover:bg-red-600']: danger,
    ['bg-green-500 text-white hover:bg-green-600']: success,

    // size
    ['text-xs py-1.5 px-3']: sm,
    ['text-lg py-2 px-6']: lg,
  }))

  return (
    <button className={cls} {...other}>{props.children}</button>
  )
}
`,dZ=`const count = 3;
const fakeDataUrl = \`https://randomuser.me/api/?results=\${count}&inc=name,gender,email,nat,picture&noinfo\`;

export const fetchList = async () => {
  const res = await fetch(fakeDataUrl)
  return res.json()
}
`,hZ=`// header
export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
      <div className="animate-pulse flex space-x-4 items-center">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-3 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,fZ=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script src="https://cdn.tailwindcss.com"><\/script>
    <title>案例演示</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
`;function db(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"这篇文章文字内容不会很多，但是是整个专栏最重要的部分之一。"}),`
`,i.jsx(e.p,{children:"本专栏会围绕如下三个层次逐渐为大家由浅入深分析 React19 的学习，他们确保了我们的学习方向的正确性与难度的循序渐进。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"0"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"初级版：优化异步开发体验"})}),`
`,i.jsx(e.p,{children:"React 19 引入了好几个新的 hook 用于优化异步开发体验。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`use
useActionState
useFormStatus
useOptimistic
`})}),`
`,i.jsx(e.p,{children:"他们的主要目的是试图在项目开发中，引导开发者削弱 useEffect 的使用。因此我们在实践案例中，需要谨记这个核心思想，不至于在开发中偏离轨迹，而忽视了新 hook 的强大能力。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"注：并非完全不用 useEffect"}),`
`]}),`
`,i.jsx(e.p,{children:"如果你只是专注于项目开发，学习到这里基本上已经可以了。因为大多数项目涉及不到更高的理解层次。大多数 React 开发者也很难通过自学有更强的理解。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"进阶版：强化并发模式"})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.strong,{children:"只有少部分顶级前端开发需要关注并发模式。"})," 他的理解难度并不低。充分消化并发模式并运用于实践能够让一个前端程序员完成蜕变，你可以很容易突破前端开发的瓶颈。"]}),`
`,i.jsx(e.p,{children:"在 React 中，并发模式并非是一个新概念。在 React Fiber 架构提出之初，我们就陆陆续续的听说了它。"}),`
`,i.jsx(e.p,{children:"但是经过好几个大版本的迭代，并发模式在开发者中的感受并不深刻。甚至由于之前设计的几个并发模式的 API 不好用，导致很多开发者也对 React 的并发模式并不感兴趣。"}),`
`,i.jsx(e.p,{children:"React 19 简化和改进了并发模式，让并发模式更加易于使用。例如，React 19 重新设计并改进了 Suspense，它支持更好的代码逻辑拆分，我们就可以在普通的页面开发中轻松的使用它。"}),`
`,i.jsx(e.p,{children:"因此，我认为，我们是时候拥抱并发模式了。我专门为并发模式设计了一个完整的模块，供大家学习。我们会经历从理论到实践的一个完整学习过程。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"2"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"顶级版：深入理解 React Compiler"})}),`
`,i.jsxs(e.p,{children:["毫无疑问，React Compiler 的使用一定是简单的，但是对于其原理的透彻理解，就需要一点底子了。很显然，这",i.jsx(e.strong,{children:"必定会称为面试中的常客"}),"。因此，如果你希望在面试中有一个更好的表现，对其实现原理如数家珍会为你",i.jsx(e.strong,{children:"上大分"}),"。"]}),`
`,i.jsx(e.p,{children:"当然，如果你并不需要在面试中通过表达自己对 Compiler 的理解来加分，那么这一部分也是可以不需要学习的。"}),`
`,i.jsx(e.p,{children:"正是由于他的必要性不是很高，我才把这一部分内容放到专栏的最后一个部分。理解它在项目开发中的实用价值并不高。"}),`
`,i.jsx(e.p,{children:"透彻理解 React Compiler 的原理，需要对现有 React 的底层原理有一个大概的了解，这样我们才能形成一个完整的知识体系闭环。学习之前，做好这个心理准备和知识铺垫即可。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["在 隔壁的合集 ",i.jsx(e.strong,{children:"React 知命境"})," 中，我有几篇高质量的文章介绍了 React 的底层原理，读者朋友们可以去看看。"]}),`
`]})]})}function pZ(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(db,{...t})}):db(t)}const mZ={"App.js":cZ,"api.js":dZ,"Button.jsx":uZ,"Skeleton.jsx":hZ,"/public/index.html":fZ};function gZ(){return i.jsx(Ee,{files:mZ,renderArticle:t=>i.jsx(pZ,{components:{code:t}})})}function hb(t){const e={blockquote:"blockquote",code:"code",img:"img",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:i.jsx(e.img,{src:"https://files.mdnice.com/user/3925/b4869674-83ae-4ed2-a70d-34574d4451da.png",alt:""})}),`
`,i.jsx(e.p,{children:"首先，我们使用 vite 创建一个 React 项目"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`npm create vite
`})}),`
`,i.jsxs(e.p,{children:["上面的命令执行完成之后，会引导你输入项目名称，我们将项目名称取为：",i.jsx(e.code,{children:"react19feature"})]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`✔ Project name: react19feature
`})}),`
`,i.jsx(e.p,{children:"输入之后，按下回车，选择前端框架"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`    vanilla
    vue
 >  react
    react-ts
    preact
    lit
    svelte
`})}),`
`,i.jsxs(e.p,{children:["我们选择 ",i.jsx(e.code,{children:"react"}),"，执行完毕之后，vite 会在当前目录中创建项目 ",i.jsx(e.code,{children:"react19feature"}),"，我们通过如下指令进入到项目文件"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`cd react19feature
`})}),`
`,i.jsxs(e.p,{children:["然后用编辑器打开项目文件，在根目录的 ",i.jsx(e.code,{children:"package.json"})," 文件中修改 ",i.jsx(e.code,{children:"react"})," 与 ",i.jsx(e.code,{children:"react-dom"})," 的依赖版本为 react 19 rc."]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-ts",children:`"dependencies": {
  "react": "19.0.0-rc-dfd30974ab-20240613",
  "react-dom": "19.0.0-rc-dfd30974ab-20240613",
  "react-router-dom": "^6.23.0"
},
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"注意：如果已经正式发版，那么vite 创建的版本可能会直接更新为最新版而不需要我们手动修改"}),`
`]}),`
`,i.jsx(e.p,{children:"修改完成之后，执行如下指令安装依赖"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`npm i
`})}),`
`,i.jsx(e.p,{children:"然后执行如下指令运行项目"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`npm run dev
`})}),`
`,i.jsxs(e.p,{children:["成功启动之后，我们可以在浏览器中输入 ",i.jsx(e.code,{children:"http://localhost:5173"})," 访问到项目，初始页面如右侧案例所示。"]}),`
`,i.jsxs(e.p,{children:["由于我们项目需要用到 ",i.jsx(e.code,{children:"require"}),"，但是 vite 中使用 ES module 作为模块方案，因此并没有内置对 CommonJS 的支持，如果你需要在项目中支持 ",i.jsx(e.code,{children:"require"})," 语法引入模块，则需要做点其他的操作"]}),`
`,i.jsxs(e.p,{children:["首先，我们需要",i.jsx(e.strong,{children:"安装如下依赖"})]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`npm i vite-plugin-require-transform --save-dev
`})}),`
`,i.jsxs(e.p,{children:["然后，在 ",i.jsx(e.code,{children:"vite.config.js"})," 中新增如下配置"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-diff",children:`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react-swc'
+ import requireTransform from 'vite-plugin-require-transform'


// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    react(),
+   requireTransform({
+     fileRegex: /.js$|.jsx$/,
+   }),
  ],
})
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["如果你需要支持更多的文件后缀，则需要在 ",i.jsx(e.code,{children:"fileRegex"})," 中添加，本项目仅支持 ",i.jsx(e.code,{children:".js"})," 与 ",i.jsx(e.code,{children:".jsx"})]}),`
`]}),`
`,i.jsx(e.p,{children:"最后重启项目即可。"})]})}function xZ(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(hb,{...t})}):hb(t)}const OZ=`import { useState } from 'react'
import reactLogo from './react.svg'
import viteLogo from '/vite.svg'
import './index.css'
import './App.css'

function App() {
  const [count, setCount] = useState(0)

  return (
    <>
      <div>
        <a href="https://vitejs.dev" target="_blank">
          <img src={viteLogo} className="logo" alt="Vite logo" />
        </a>
        <a href="https://react.dev" target="_blank">
          <img src={reactLogo} className="logo react" alt="React logo" />
        </a>
      </div>
      <h1>Vite + React</h1>
      <div className="card">
        <button onClick={() => setCount((count) => count + 1)}>
          count is {count}
        </button>
        <p>
          Edit <code>src/App.tsx</code> and save to test HMR
        </p>
      </div>
      <p className="read-the-docs">
        Click on the Vite and React logos to learn more
      </p>
    </>
  )
}

export default App
`,vZ=`#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}
`,bZ=`:root {
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}
`,yZ=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
`,jZ=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>
`,SZ={"App.js":OZ,"App.css":vZ,"index.css":bZ,"vite.svg":yZ,"react.svg":jZ};function wZ(){return i.jsx(Ee,{files:SZ,renderArticle:t=>i.jsx(xZ,{components:{code:t}})})}const kZ=`import React, { useEffect, useState, Suspense, use } from 'react';
import Button from './Button'
import Skeleton from './Skeleton'
import {getMessage} from './api'

export default function Index() {
  const promise = getMessage()
  return (
    <>
      <Suspense fallback={<Skeleton />}>
        <Message promise={promise} />
      </Suspense>

      <div className='mt-8 text-center'>
        <Button signal>点击下方刷新按钮可重置演示</Button>
      </div>
    </>
  )
}

const Message = (props) => {
  const content = use(props.promise)
  return (
    <div className='flex border border-blue-100 p-4 rounded-md shadow'>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6 mt-2">
        <path strokeLinecap="round" strokeLinejoin="round" d="M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" />
      </svg>
      <div className='flex-1 ml-3'>
        <div>Heads Up!</div>
        <div className='text-sm mt-1 text-gray-600'>{content.value}</div>
      </div>
    </div>
  )
}
`,$Z=`import {twMerge} from 'tailwind-merge'
import clsx from 'clsx'

document.documentElement.style.fontSize = '14px'
// 本组件只是一个简单的 UI 组件，学习时无需多过关注

export default function Button(props) {
  const {className, primary, danger, sm, lg, signal, success, ...other} = props
  const base = 'rounded-md border border-transparent font-medium cursor-pointer transition relative'

  // type
  const normal = 'bg-gray-100 hover:bg-gray-200'

  // size
  const md = 'text-xs py-2 px-4'

  const cls = twMerge(clsx(base, normal, md, {
    // type
    ['bg-blue-500 text-white hover:bg-blue-600']: primary,
    ['bg-red-500 text-white hover:bg-red-600']: danger,
    ['bg-green-500 text-white hover:bg-green-600']: success,
    ['text-sky-500 bg-white border border-sky-300 hover:bg-sky-50']: signal,

    // size
    ['text-xs py-1.5 px-3']: sm,
    ['text-lg py-2 px-6']: lg,
  }, className))

  return (
    <button className={cls} {...other}>
      {props.children}
      {signal && (
        <span className="absolute flex h-3 w-3 right-[-5px] top-[-5px]">
          <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span>
          <span className="relative inline-flex rounded-full h-3 w-3 bg-sky-500"></span>
        </span>
      )}
    </button>
  )
}
`,NZ=`const random = [
  'React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.',
  'Whether you work on your own or with thousands of other developers, using React feels the same.',
  'React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.',
  'This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ',
  'You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it.'
]

var myHeaders = new Headers();
myHeaders.append("User-Agent", "Apifox/1.0.0 (https://apifox.com)");

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow',
  data: 'hex'
};

// 你可以动态修改最后的数字，然后观察请求情况
const url = 'https://echo.apifox.com/delay/1'

export const getMessage = async () => {
  await fetch(url, requestOptions)
  const i = Math.floor(Math.random() * 10) % 5
  return {
    value: random[i]
  }
}
`,CZ=`export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,V0=t=>{const e=t.message;return i.jsxs("div",{className:"flex border border-blue-100 p-4 rounded-md shadow",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 mt-2",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})}),i.jsxs("div",{className:"flex-1 ml-3",children:[i.jsx("div",{children:"Heads Up!"}),i.jsx("div",{className:"text-sm mt-1 text-gray-600",children:e})]})]})},TZ=new Promise(t=>{t({value:"Unlike React Hooks, use can be called within loops and conditional statements like if. Like React Hooks, the function that calls use must be a Component or Hook."})});function RZ(){const t=j.use(TZ);return i.jsx(V0,{message:t.value})}document.documentElement.style.fontSize="14px";function QZ(t){const{className:e,primary:n,danger:r,sm:s,lg:a,signal:l,success:o,...c}=t,f=yr(ct("rounded-md border border-transparent font-medium cursor-pointer transition relative","bg-gray-100 hover:bg-gray-200","text-xs py-2 px-4",{"bg-blue-500 text-white hover:bg-blue-600":n,"bg-red-500 text-white hover:bg-red-600":r,"bg-green-500 text-white hover:bg-green-600":o,"text-sky-500 bg-white border border-sky-300 hover:bg-sky-50":l,"text-xs py-1.5 px-3":s,"text-lg py-2 px-6":a},e));return i.jsxs("button",{className:f,...c,children:[t.children,l&&i.jsxs("span",{className:"absolute flex h-3 w-3 right-[-5px] top-[-5px]",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-sky-500"})]})]})}function W0(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}const AZ=new Promise(t=>{t({value:"Unlike React Hooks, use can be called within loops and conditional statements like if. Like React Hooks, the function that calls use must be a Component or Hook."})});function PZ(){const[t,e]=j.useState(!1);let n={value:""};return t||(n=j.use(AZ)),i.jsxs(i.Fragment,{children:[t?i.jsx(W0,{}):i.jsx(V0,{message:n.value}),i.jsx("div",{className:"mt-4 text-right",children:i.jsx(QZ,{signal:!0,onClick:()=>e(!t),children:"切换"})})]})}const _Z=["React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.","Whether you work on your own or with thousands of other developers, using React feels the same.","React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.","This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ","You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it."];var r3=new Headers;r3.append("User-Agent","Apifox/1.0.0 (https://apifox.com)");var EZ={method:"GET",headers:r3,redirect:"follow",data:"hex"};const MZ="https://echo.apifox.com/delay/1",DZ=async()=>{await fetch(MZ,EZ);const t=Math.floor(Math.random()*10)%5;return{value:_Z[t]}};function ZZ(){const[t,e]=j.useState(!0);return i.jsx(j.Suspense,{fallback:i.jsx("div",{}),children:i.jsx("div",{children:t?i.jsx(zZ,{}):i.jsx(W0,{})})})}function zZ(){let[t,e]=j.useState(!0);const n=DZ().then(s=>(e(!1),s));let r={value:"",icon_url:""};return t||(r=j.use(n)),t?i.jsx(W0,{}):i.jsx(V0,{message:r.value})}function fb(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsxs(e.p,{children:[i.jsx(e.code,{children:"use()"})," 是 React19 提升异步开发体验最重要的 hook。也是让 useEffect 重要性大幅度削弱的主要原因。"]}),`
`,i.jsxs(e.p,{children:["我们可以利用 use 读取 ",i.jsx(e.code,{children:"Promise"})," 中的值。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"也可以使用 use 读取 context 中的资源，后续详细介绍该能力"}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-ts",children:`const value = use(promise)
`})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"0"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"正确理解 promise"})}),`
`,i.jsxs(e.p,{children:["这里我们需要特别注意的是，",i.jsx(e.strong,{children:"Promise"})," 是指的一个已经创建好的 Promise 对象，并且，在该 promise 对象中已经有了确定的 ",i.jsx(e.code,{children:"resolve"})," 的结果，use 读取的是 resolve 的值。"]}),`
`,i.jsx(e.p,{children:"注意观察一下下面两种写法"}),`
`,i.jsx(e.p,{children:"第一种是已经有了结果状态的 Promise 对象"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`const _api2 = new Promise((resolve) => {
  resolve({ value: '_api2' })
})

// good
const result = use(_api2)
`})}),`
`,i.jsx(e.p,{children:"第二种是函数运行创建 Promise 对象，此时我们需要注意，虽然 _api3 执行之后会立即返回一个带有 resolve 结果状态的 Promise，但是 use 并不能第一时间读取到其值。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-ts",children:`const _api3 = () => {
  return new Promise(resolve => {
    resolve({ value: '_api3' })
  })
}

// bad: get an error
const result = use(_api3())
`})}),`
`,i.jsx(e.p,{children:"如果我们按照以往的习惯，直接使用第二种，那么运行之后，React19 会给你如下一个报错。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-error",children:"async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.\n"})}),`
`,i.jsx(e.p,{children:"一个完整的案例代码以及演示效果如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`import {use} from 'react'
import Message from './Message'

const _api2 = new Promise((resolve) => {
  resolve({ value: 'Unlike React Hooks, use can be called within loops and conditional statements like if. Like React Hooks, the function that calls use must be a Component or Hook.' })
})

export default function Demo01() {
  const result = use(_api2)
  return (
    <Message message={result.value} />
  )
}
`})}),`
`,i.jsx(ne,{children:i.jsx(RZ,{})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"在条件判断中使用"})}),`
`,i.jsxs(e.p,{children:["和其他 hook 一样，",i.jsx(e.code,{children:"use()"})," 必须在函数组件中使用。但是很不一样的是，use 可以在循环和条件判断语句中使用。我们这里如下案例来演示这个结论。"]}),`
`,i.jsxs(e.p,{children:["在这个例子中，",i.jsx(e.code,{children:"use"})," 被使用在 ",i.jsx(e.code,{children:"if(!loading)"})," 条件判断中来获取 result 的值。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`if (!loading) {
  result = use(_api2)
}
`})}),`
`,i.jsx(e.p,{children:"完整的代码与最终的演示效果如下，你可以在演示案例中多次点击切换按钮查看交互效果。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`import {use, useState} from 'react'
import Message from './Message'
import Button from './Button'
import Skeleton from './Skeleton'

const _api2 = new Promise((resolve) => {
  resolve({ value: 'Unlike React Hooks, use can be called within loops and conditional statements like if. Like React Hooks, the function that calls use must be a Component or Hook.' })
})

export default function Demo01() {
  const [loading, setLoading] = useState(false)
  let result = {value: ''}
  if (!loading) {
    result = use(_api2)
  }

  return (
    <>
      {loading ? <Skeleton /> : <Message message={result.value} />}
      <div className='mt-4 text-right'>
        <Button signal onClick={() => setLoading(!loading)}>切换</Button>
      </div>
    </>
  )
}
`})}),`
`,i.jsx(ne,{children:i.jsx(PZ,{})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"2"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"在异步请求中使用"})}),`
`,i.jsx(e.p,{children:"通常，我们在处理异步请求时，也会结合 promise 来使用。但是我们并不能直接使用 use 来读取异步请求中的 promise，因为我们已经非常明确，use 只能读取有确定 resolve 结果的 promise 中的值。但是有可能第一时间异步请求包装的 promise 状态为 pending。因此在这种情况下，我们必须结合 Suspense 来使用。"}),`
`,i.jsx(e.p,{children:"当然，为了加强对 use 的理解，我们也准备了一个不顾任何风险提示，强行等 promise 请求完成之后使用 use 去读取它的值的案例。代码与演示效果如下。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`function Demo03() {
  let [loading, setLoading] = useState(true)

  const promise = getMessage().then(res => {
    setLoading(false)
    return res
  })

  let result = {value: '', icon_url: ''}
  if (!loading) {
    result = use(promise)
  }

  return loading ? <Skeleton /> : <Message message={result.value} />
}
`})}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(ZZ,{})}),`
`,i.jsx(e.p,{children:"点击按钮可以重新加载执行该组件。我们可以观察一下效果，在目前的 React 版本中，并不能合理的处理好这种存在风险的读取方式，虽然我们最终读取到了 promise 中的值，内容也顺利渲染出来了，但是中间存在一次明显的闪烁。表现为包括按钮在内的内容全部消失，这种体验非常的糟糕。"}),`
`,i.jsx(e.p,{children:"因此，在实践中，如果我们要读取异步请求的 promise 中的值，必须结合 Suspense 来处理。在右侧的案例中，我们列举了一个 use + Suspense 合理处理异步请求的案例，大家可以先暂时了解一下，在后续的章节中，我们详细学习了 Suspense 之后再来进行案例分析。"})]})}function LZ(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(fb,{...t})}):fb(t)}const BZ={"App.js":kZ,"api.js":NZ,"Button.jsx":$Z,"Skeleton.jsx":CZ};function XZ(){return i.jsx(Ee,{files:BZ,renderArticle:t=>i.jsx(LZ,{components:{code:t}})})}const UZ=`import React, { useEffect, useState, Suspense, use } from 'react';
import Button from './Button'
import Skeleton from './Skeleton'
import {getMessage} from './api'

export default function Index() {
  const [content, update] = useState({value: ''})
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    getMessage().then(res => {
      update(res)
      setLoading(false)
    })
  }, []);

  if (loading) {
    return <Skeleton />
  }

  return (
    <>
      <Message message={content.value} />
      <div className='mt-8 text-center'>
        <Button signal>点击下方刷新按钮可重置演示</Button>
      </div>
    </>
  )
}

const Message = (props) => {
  const message = props.message
  return (
    <div className='flex border border-blue-100 p-4 rounded-md shadow'>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6 mt-2">
        <path strokeLinecap="round" strokeLinejoin="round" d="M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" />
      </svg>
      <div className='flex-1 ml-3'>
        <div>a new message!</div>
        <div className='text-sm mt-1 text-gray-600'>{message}</div>
      </div>
    </div>
  )
}
`,qZ=`import {twMerge} from 'tailwind-merge'
import clsx from 'clsx'

document.documentElement.style.fontSize = '14px'
// 本组件只是一个简单的 UI 组件，学习时无需多过关注

export default function Button(props) {
  const {className, primary, danger, sm, lg, signal, success, ...other} = props
  const base = 'rounded-md border border-transparent font-medium cursor-pointer transition relative'

  // type
  const normal = 'bg-gray-100 hover:bg-gray-200'

  // size
  const md = 'text-xs py-2 px-4'

  const cls = twMerge(clsx(base, normal, md, {
    // type
    ['bg-blue-500 text-white hover:bg-blue-600']: primary,
    ['bg-red-500 text-white hover:bg-red-600']: danger,
    ['bg-green-500 text-white hover:bg-green-600']: success,
    ['text-sky-500 bg-white border border-sky-300 hover:bg-sky-50']: signal,

    // size
    ['text-xs py-1.5 px-3']: sm,
    ['text-lg py-2 px-6']: lg,
  }, className))

  return (
    <button className={cls} {...other}>
      {props.children}
      {signal && (
        <span className="absolute flex h-3 w-3 right-[-5px] top-[-5px]">
          <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span>
          <span className="relative inline-flex rounded-full h-3 w-3 bg-sky-500"></span>
        </span>
      )}
    </button>
  )
}
`,YZ=`const random = [
  'React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.',
  'Whether you work on your own or with thousands of other developers, using React feels the same.',
  'React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.',
  'This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ',
  'You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it.'
]

var myHeaders = new Headers();
myHeaders.append("User-Agent", "Apifox/1.0.0 (https://apifox.com)");

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow',
  data: 'hex'
};

// 你可以动态修改最后的数字，然后观察请求情况
const url = 'https://echo.apifox.com/delay/1'

export const getMessage = async () => {
  await fetch(url, requestOptions)
  const i = Math.floor(Math.random() * 10) % 5
  return {
    value: random[i]
  }
}
`,VZ=`export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,WZ=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script src="https://cdn.tailwindcss.com"><\/script>
    <title>案例演示</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
`,s3=t=>{const e=unescape(t.message.replace(/\\u/gi,"%u")),n=unescape((t.title||"").replace(/\\u/gi,"%u"));return i.jsxs("div",{className:"flex border border-blue-100 p-4 rounded-md shadow",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 mt-2",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})}),i.jsxs("div",{className:"flex-1 ml-3",children:[i.jsx("div",{children:n||"Heads Up!"}),i.jsx("div",{className:"text-sm mt-1 text-gray-600",children:e})]})]})},HZ=()=>new Promise(t=>{t({value:"React does not preserve any state for renders that got suspended before they were able to mount for the first time. When the component has loaded, React will retry rendering the suspended tree from scratch."})});function IZ(){const t=HZ();return i.jsx(j.Suspense,{fallback:"",children:i.jsx(GZ,{promise:t})})}function GZ(t){const{value:e}=j.use(t.promise);return i.jsx(s3,{message:e})}document.documentElement.style.fontSize="14px";function i3(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}const FZ=["React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.","Whether you work on your own or with thousands of other developers, using React feels the same.","React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.","This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ","You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it."];var a3=new Headers;a3.append("User-Agent","Apifox/1.0.0 (https://apifox.com)");var JZ={method:"GET",headers:a3,redirect:"follow",data:"hex"};const KZ="https://echo.apifox.com/delay/1",ez=async()=>{await fetch(KZ,JZ);const t=Math.floor(Math.random()*10)%5;return{value:FZ[t]}};function pb(){const t=ez();return i.jsx(j.Suspense,{fallback:i.jsx(i3,{}),children:i.jsx(tz,{promise:t})})}const tz=t=>{const e=j.use(t.promise);return i.jsxs("div",{className:"flex border border-blue-100 p-4 rounded-md shadow",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 mt-2",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})}),i.jsxs("div",{className:"flex-1 ml-3",children:[i.jsx("div",{children:"Heads Up!"}),i.jsx("div",{className:"text-sm mt-1 text-gray-600",children:e.value})]})]})};function nz(){return i.jsx(j.Suspense,{fallback:i.jsx(i3,{}),children:i.jsx(s3,{message:"这是一个普通的 UI 组件，Skeleton 组件不会有任何渲染机会，直接渲染 Message 组件",title:"Primary"})})}function mb(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.h2,{children:i.jsx(e.em,{children:"0"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"Suspense"})}),`
`,i.jsx(e.p,{children:"先来回顾一下这段代码。在前面一篇文中，我们知道，如果直接使用 use 获取未直接创建的 Promise 中的值，会抛出一个异常。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`const _api3 = () => {
  return new Promise(resolve => {
    resolve({ value: '_api3' })
  })
}

// bad: get an error
const result = use(_api3())
`})}),`
`,i.jsx(e.p,{children:"但是实际上在开发过程中，大多数情况都是这种并没有直接得到 Promise resolve 的结果状态，那我们应该怎么办呢？这个时候我们可以利用 Suspense 来解决这个问题。"}),`
`,i.jsx(e.p,{children:"Suspense 可以捕获这种异常。我们来看一下这段代码"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {use, Suspense} from 'react'
import Message from './Message'

const _api3 = () => {
  return new Promise(resolve => {
    resolve({ value: 'React does not preserve any state for renders that got suspended before they were able to mount for the first time. When the component has loaded, React will retry rendering the suspended tree from scratch.' })
  })
}

export default function Demo01() {
  const promise = _api3()
  return (
    <Suspense fallback=''>
      <Content promise={promise} />
    </Suspense>
  )
}

function Content(props) {
  const {value} = use(props.promise)
  return (
    <Message message={value} />
  )
}
`})}),`
`,i.jsxs(e.p,{children:["在这段代码中，为了让 Suspense 捕获更小范围的组件，我们单独定义了一个子组件 ",i.jsx(e.code,{children:"Content"})," 来使用 use 获取 promise 中的数据。这也是未来使用的比较常规的思路和手段。案例预览效果如下所示。"]}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(IZ,{})}),`
`,i.jsx(e.p,{children:"当然，在开发中更常见的效果是使用 use 读取异步 promise，主要的场景就是接口请求。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<Suspense fallback={<Loading />}>
  <Albums />
</Suspense>
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"Suspense"})," 能够捕获到子组件首次渲染的异常。因此我们常常将 ",i.jsx(e.code,{children:"Suspense"})," 当成一种组件错误边界来处理。"]}),`
`,i.jsxs(e.p,{children:["但是需要注意的是，传递给 ",i.jsx(e.code,{children:"Suspense"})," 的异步组件必须在报错时返回一个 Promise 对象，它才能正常工作。在 React 19 中，",i.jsx(e.code,{children:"use(promise)"})," 被设计成完全符合 Suspense 规范的 hook，因此我们可以轻松的结合他们两者来完成页面开发。"]}),`
`,i.jsx(e.p,{children:"我们来分析一下上一章最后的例子。"}),`
`,i.jsx(e.p,{children:"首先，我们定义好一个用于接口请求的函数，该函数执行返回 promise"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export const getMessage = async () => {
  const res = await fetch('https://api.chucknorris.io/jokes/random')
  return res.json()
}
`})}),`
`,i.jsx(e.p,{children:"然后我们定义一个子组件 Message，该子组件接受一个 promise 作为参数。然后在子组件内部，我们使用 use 读取该 promise 中的值。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const Message = (props) => {
  const content = use(props.promise)
  return (
    <div className='flex border border-blue-100 p-4 rounded-md shadow'>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6 mt-2">
        <path strokeLinecap="round" strokeLinejoin="round" d="M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" />
      </svg>
      <div className='flex-1 ml-3'>
        <div>Heads Up!</div>
        <div className='text-sm mt-1 text-gray-600'>{content.value}</div>
      </div>
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"有了这个子组件之后，我们使用 Suspense 包裹捕获该组件的错误，防止错误溢出到更高层级的组件。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export default function Index() {
  const promise = getMessage()
  return (
    <Suspense fallback={<Skeleton />}>
      <Message promise={promise} />
    </Suspense>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["当 Message 组件首次渲染时，由于直接读取 promise 导致报错，Suspense 捕获到该异常后，会渲染 ",i.jsx(e.code,{children:"fallback"})," 中设置的组件。此时我们设置了一个骨架屏 Skeleton 组件，大家可以多次点击 reload 按钮查看演示效果。"]}),`
`,i.jsx(e.p,{children:"因此，这个案例的视觉表现应该为：1. 首先渲染 Skeleton 组件。然后请求成功之后，use 渲染 Message 组件。"}),`
`,i.jsx(e.p,{children:"演示案例运行结果如下"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(pb,{})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"Suspense 工作原理"})}),`
`,i.jsxs(e.p,{children:["Suspense 提供了一个加载数据的标准。在源码中，Suspense 的子组件被称为 ",i.jsx(e.code,{children:"primary"}),"。"]}),`
`,i.jsxs(e.p,{children:["当 react 在 beginWork 的过程中（diff 过程），遇到 ",i.jsx(e.code,{children:"Suspense"})," 时，首先会尝试加载 ",i.jsx(e.code,{children:"primary"})," 组件。如果 ",i.jsx(e.code,{children:"primary"})," 组件只是一个普通组件，那么就顺利渲染完成。"]}),`
`,i.jsxs(e.p,{children:["如果 ",i.jsx(e.code,{children:"primary"})," 组件是一个包含了 use 读取异步 promise 的组件，它会在首次渲染时，",i.jsx(e.strong,{children:"抛出一个异常"}),"。react 捕获到该异常之后，发现是一个我们在语法中约定好的 promise，那么就会将其 ",i.jsx(e.code,{children:"then"})," 的回调函数保存下来，并将下一个 ",i.jsx(e.code,{children:"next"})," beginWork 的组件重新指定为 ",i.jsx(e.code,{children:"Suspense"}),"。"]}),`
`,i.jsxs(e.p,{children:["此时 promise 在请求阶段，因此再次 beginWork Suspense 组件时，会跳过 ",i.jsx(e.code,{children:"primary"})," 的执行而直接渲染 ",i.jsx(e.code,{children:"fallback"})]}),`
`,i.jsxs(e.p,{children:["当 ",i.jsx(e.code,{children:"primary"})," 中的 promise 执行完成时「resolve」，会执行刚才保存的 ",i.jsx(e.code,{children:"then"})," 方法，此时会触发 ",i.jsx(e.code,{children:"Suspense"})," 再次执行「调度一个更新任务」。由于此时 ",i.jsx(e.code,{children:"primary"})," 中的 promise 已经 resolve，因此此时就可以拿到数据直接渲染 ",i.jsx(e.code,{children:"primary"})," 组件。"]}),`
`,i.jsx(e.p,{children:"整个流程可以简单表示为："}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`Suspense ->
primary -> 
Suspense -> 
fallback -> 
waiting -> resolve() -> 
Suspense -> 
primary -> 
`})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"2"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"primary 为普通组件时"})}),`
`,i.jsxs(e.p,{children:["当 ",i.jsx(e.code,{children:"primary"})," 为普通组件时，会直接渲染普通组件，如下案例所示。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import React, { Suspense } from 'react';
import Message from './Message'
import Skeleton from './Skeleton'

export default function Index() {
  return (
    <Suspense fallback={<Skeleton />}>
      <Message
        message='这是一个普通的 UI 组件，Skeleton 组件不会有任何渲染机会，直接渲染 Message 组件'
        title='Primary'
      />
    </Suspense>
  )
}
`})}),`
`,i.jsx(e.p,{children:"渲染结果如下"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(nz,{})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"3"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"新旧实现对比"})}),`
`,i.jsx(e.p,{children:"在前面我们 结合 use 与 Suspense 实现了一个初始化加载的案例。该案例的视觉表现是在初始化时，首先显示 Skeleton 组件，请求成功之后，显示 Message 组件。"}),`
`,i.jsx(e.p,{children:"核心代码与演示效果如下，点击 reload 按钮可重复观察执行过程"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export default function Index() {
  const promise = getMessage()
  return (
    <Suspense fallback={<Skeleton />}>
      <Message promise={promise} />
    </Suspense>
  )
}
`})}),`
`,i.jsx(e.p,{children:"刷新页面时重新请求数据渲染，请求过程中显示骨架屏组件 Skeleton"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(pb,{})}),`
`,i.jsxs(e.p,{children:["这里我们需要关注的是，对比以前必须要借助 ",i.jsx(e.code,{children:"state"})," ",i.jsx(e.code,{children:"useEffect"})," 的实现方式，体会一下差别。核心逻辑如下"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// 之前的实现方式
export default function Index() {
  const [content, update] = useState({value: ''})
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    getMessage().then(res => {
      update(res)
      setLoading(false)
    })
  }, []);

  if (loading) {
    return <Skeleton />
  }

  return (
    <Message message={content.value} />
  )
}
`})}),`
`,i.jsx(e.p,{children:"我们可以在右侧演练场中观察完整的演示效果。"}),`
`,i.jsx(e.p,{children:"可以很明显的看出，新的方式使用 use + Suspense ，代码更加简洁。"}),`
`,i.jsxs(e.p,{children:["除此之外，由于在严格模式下，组件首次加载会执行两次，因此我们还需要想额外的办法防止重复执行，代码会变得更加冗余。一个很明显的差别就是 ",i.jsx(e.code,{children:"Suspense + use"})," 的方式会自动帮助我们弃用第二次的请求数据。从视觉上的效果就是，右侧使用 useEffect 实现的结果，UI 会更新两次。"]}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"4"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"总结"})}),`
`,i.jsxs(e.p,{children:["与老版本使用 ",i.jsx(e.code,{children:"state"})," + ",i.jsx(e.code,{children:"useEffect"})," 完成首页初始化的需求相比，新的开发方式更加的简洁，代码舒适度更高。"]}),`
`,i.jsxs(e.p,{children:["需要注意区分的是，在以前的开发方式中，我们可以通过自定义 hook 的方式，把状态与 ",i.jsx(e.code,{children:"useEffect"})," 封装成自定义 hook."]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function useFetch() {
  const [content, update] = useState({value: ''})
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    api().then(res => {
      setLoading(false)
      update(res)
    })
  }, [])

  return {content, loading}
}
`})}),`
`,i.jsx(e.p,{children:"最终在应用组件中也可以写出非常类似的非常简洁的代码。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function Index2() {
  const {content, loading} =  useFetch()

  if (loading) {
    return <Skeleton />
  }

  return (
    <Message message={content.value} />
  )
}
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"Vue3 也是这种类似自定义 hook 的方式。但是这两种开发方式是有本质区别的。"}),`
`]}),`
`,i.jsx(e.p,{children:"这是我们之前版本的最佳实践。注意体会他们之间的区别。相似，但却不同。我们后续会列举更多案例，尽可能用新的开发思路去复现开发过程中会出现的场景。"})]})}function rz(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(mb,{...t})}):mb(t)}const sz={"App.js":UZ,"api.js":YZ,"Button.jsx":qZ,"Skeleton.jsx":VZ,"/public/index.html":WZ};function iz(){return i.jsx(Ee,{files:sz,renderArticle:t=>i.jsx(rz,{components:{code:t}})})}const az=`import {use, useState, Suspense} from 'react'
import Message from './Message'
import Skeleton from './Skeleton'
import Button from './Button'
import {getMessage} from './api'

export default function Demo01() {
  const [promise, update] = useState(null)

  function __handler() {
    update(getMessage())
  }

  return (
    <>
      <div className='text-right mb-4'>
        <Button onClick={__handler}>更新数据</Button>
      </div>
      <Suspense fallback={<Skeleton />}>
        <Content promise={promise} />
      </Suspense>
    </>
  )
}

function Content(props) {
  if (!props.promise) {
    return <Message message='' />
  }

  const {value} = use(props.promise)
  return (
    <Message message={value} />
  )
}
`,lz=`import {twMerge} from 'tailwind-merge'
import clsx from 'clsx'

document.documentElement.style.fontSize = '14px'
// 本组件只是一个简单的 UI 组件，学习时无需多过关注

export default function Button(props) {
  const {className, primary, danger, sm, lg, signal, success, ...other} = props
  const base = 'rounded-md border border-transparent font-medium cursor-pointer transition relative'

  // type
  const normal = 'bg-gray-100 hover:bg-gray-200'

  // size
  const md = 'text-xs py-2 px-4'

  const cls = twMerge(clsx(base, normal, md, {
    // type
    ['bg-blue-500 text-white hover:bg-blue-600']: primary,
    ['bg-red-500 text-white hover:bg-red-600']: danger,
    ['bg-green-500 text-white hover:bg-green-600']: success,
    ['text-sky-500 bg-white border border-sky-300 hover:bg-sky-50']: signal,

    // size
    ['text-xs py-1.5 px-3']: sm,
    ['text-lg py-2 px-6']: lg,
  }, className))

  return (
    <button className={cls} {...other}>
      {props.children}
      {signal && (
        <span className="absolute flex h-3 w-3 right-[-5px] top-[-5px]">
          <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span>
          <span className="relative inline-flex rounded-full h-3 w-3 bg-sky-500"></span>
        </span>
      )}
    </button>
  )
}
`,oz=`const random = [
  'React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.',
  'Whether you work on your own or with thousands of other developers, using React feels the same.',
  'React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.',
  'This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ',
  'You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it.'
]

var myHeaders = new Headers();
myHeaders.append("User-Agent", "Apifox/1.0.0 (https://apifox.com)");

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow',
  data: 'hex'
};

// 你可以动态修改最后的数字，然后观察请求情况
const url = 'https://echo.apifox.com/delay/1'

export const getMessage = async () => {
  await fetch(url, requestOptions)
  const i = Math.floor(Math.random() * 10) % 5
  return {
    value: random[i]
  }
}
`,cz=`export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,uz=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script src="https://cdn.tailwindcss.com"><\/script>
    <title>案例演示</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
`,dz=`const Message = (props) => {
  const message = unescape(props.message.replace(/\\\\u/gi,'%u'));
  const title = unescape((props.title || '').replace(/\\\\u/gi,'%u'));

  let base = 'flex border border-blue-100 p-4 rounded-md shadow'


  if (!message) {
    return (
      <div className={\`\${base} justify-center items-center flex-col text-gray-500\`}>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6">
          <path strokeLinecap="round" strokeLinejoin="round" d="M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z" />
        </svg>

        <div className='mt-2'>no data.</div>
      </div>
    )
  }

  return (
    <div className={base}>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6 mt-2">
        <path strokeLinecap="round" strokeLinejoin="round" d="M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" />
      </svg>
      <div className='flex-1 ml-3'>
        <div>{title || 'Heads Up!'}</div>
        <div className='text-sm mt-1 text-gray-600'>{message}</div>
      </div>
    </div>
  )
}

export default Message
`,Xm=t=>{const e=unescape(t.message.replace(/\\u/gi,"%u")),n=unescape((t.title||"").replace(/\\u/gi,"%u"));let r="flex border border-blue-100 p-4 rounded-md shadow";return e?i.jsxs("div",{className:r,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 mt-2",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})}),i.jsxs("div",{className:"flex-1 ml-3",children:[i.jsx("div",{children:n||"Heads Up!"}),i.jsx("div",{className:"text-sm mt-1 text-gray-600",children:e})]})]}):i.jsxs("div",{className:`${r} justify-center items-center flex-col text-gray-500`,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z"})}),i.jsx("div",{className:"mt-2",children:"no data."})]})};function l3(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}document.documentElement.style.fontSize="14px";function o3(t){const{className:e,primary:n,danger:r,sm:s,lg:a,signal:l,success:o,...c}=t,f=yr(ct("rounded-md border border-transparent font-medium cursor-pointer transition relative","bg-gray-100 hover:bg-gray-200","text-xs py-2 px-4",{"bg-blue-500 text-white hover:bg-blue-600":n,"bg-red-500 text-white hover:bg-red-600":r,"bg-green-500 text-white hover:bg-green-600":o,"text-sky-500 bg-white border border-sky-300 hover:bg-sky-50":l,"text-xs py-1.5 px-3":s,"text-lg py-2 px-6":a},e));return i.jsxs("button",{className:f,...c,children:[t.children,l&&i.jsxs("span",{className:"absolute flex h-3 w-3 right-[-5px] top-[-5px]",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-sky-500"})]})]})}const hz=["React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.","Whether you work on your own or with thousands of other developers, using React feels the same.","React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.","This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ","You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it."];var c3=new Headers;c3.append("User-Agent","Apifox/1.0.0 (https://apifox.com)");var fz={method:"GET",headers:c3,redirect:"follow",data:"hex"};const pz="https://echo.apifox.com/delay/1",u3=async()=>{await fetch(pz,fz);const t=Math.floor(Math.random()*10)%5;return{value:hz[t]}};function mz(){const[t,e]=j.useState(null);function n(){e(u3())}return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-right mb-4",children:i.jsx(o3,{onClick:n,children:"更新数据"})}),i.jsx(j.Suspense,{fallback:i.jsx(l3,{}),children:i.jsx(gz,{promise:t})})]})}function gz(t){if(!t.promise)return i.jsx(Xm,{message:""});const{value:e}=j.use(t.promise);return i.jsx(Xm,{message:e})}function xz(){const[t,e]=j.useState(Promise.resolve({value:""}));function n(){e(u3())}return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-right mb-4",children:i.jsx(o3,{onClick:n,children:"更新数据"})}),i.jsx(j.Suspense,{fallback:i.jsx(l3,{}),children:i.jsx(Oz,{promise:t})})]})}function Oz(t){const{value:e}=j.use(t.promise);return i.jsx(Xm,{message:e})}function gb(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"接下来，我们将会以大量的实践案例来展开 React 19 新 hook 的运用。"}),`
`,i.jsxs(e.p,{children:["本文模拟的实践案例为",i.jsx(e.strong,{children:"点击按钮更新数据"}),"。这在开发中是一个非常常见的场景。"]}),`
`,i.jsx(e.p,{children:"案例完成之后的最终演示效果图如下。案例的视觉表现为：初始化时没有请求，所以组件显示为空数据样式。当我们点击按钮时请求一条数据，数据更新，请求成功之后显示更新之后的内容。"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(mz,{})}),`
`,i.jsx(e.p,{children:"接下来，我们直接用 React 19 新的开发方式来完成这个需求。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"0"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"基础实现"})}),`
`,i.jsx(e.p,{children:"首先创建一个方法用于请求数据，请确保该方法执行会返回一个 promise 对象。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const getApi = async () => {
  const res = await fetch('https://api.chucknorris.io/jokes/random')
  return res.json()
}
`})}),`
`,i.jsxs(e.p,{children:["这里一个非常关键的地方就在于，当我们要更新的数据时，我们不再需要设计一个 ",i.jsx(e.code,{children:"loading"})," 状态去记录数据是否正在发生请求行为，因为 ",i.jsx(e.code,{children:"Suspense"})," 帮助我们解决了 Loading 组件的显示问题。"]}),`
`,i.jsxs(e.p,{children:["与此同时，",i.jsx(e.code,{children:"use()"})," 又帮助我们解决了数据获取的问题。那么问题就来了，这个时候，好像我们也不需要设计一个状态去存储数据。"]}),`
`,i.jsx(e.p,{children:"那么我们应该怎么办呢？"}),`
`,i.jsxs(e.p,{children:["这里有一个",i.jsx(e.strong,{children:"非常巧妙"}),"的方式，就是把",i.jsx(e.strong,{children:"创建的 promise 作为状态值"}),"来触发组件的重新执行。每次点击，我们都需要创建新的 promise"]}),`
`,i.jsx(e.p,{children:"代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`// 记住这个初始值
const [promise, update] = useState(null)
`})}),`
`,i.jsx(e.p,{children:"这个时候，当我们点击事件执行时，则只需要执行如下代码去触发组件的更新即可。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function __handler() {
  // 每次点击，都会创建新的 promise 对象
  update(getMessage())
}
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"getApi()"})," 执行，新的请求会发生。他的执行结果，又返回了一个新的 promise."]}),`
`,i.jsx(e.p,{children:"因此，点击之后会创建的新 promise 值，promise 此时就会作为状态更改触发组件的更新。"}),`
`,i.jsx(e.p,{children:"完整代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`import {use, useState, Suspense} from 'react'
import Message from './Message'
import Skeleton from './Skeleton'
import Button from './Button'
import {getMessage} from './api'

export default function Demo01() {
  const [promise, update] = useState(null)

  function __handler() {
    update(getMessage())
  }

  return (
    <>
      <div className='text-right mb-4'>
        <Button onClick={__handler}>更新数据</Button>
      </div>
      <Suspense fallback={<Skeleton />}>
        <Content promise={promise} />
      </Suspense>
    </>
  )
}

function Content(props) {
  if (!props.promise) {
    return <Message message='' />
  }

  const {value} = use(props.promise)
  return (
    <Message message={value} />
  )
}
`})}),`
`,i.jsx(e.p,{children:"案例写完之后。我们基本上就能够实现最开始案例中的交互效果了。完整的代码在右侧查看。"}),`
`,i.jsx(e.p,{children:"但是现别急，还没有完。我们还需要进一步分析一下这个案例。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"案例分析"})}),`
`,i.jsx(e.p,{children:"这里我们需要注意观察两个事情。"}),`
`,i.jsxs(e.p,{children:["一个是观察当前组件更新，更上层的父组件是否发生了变化。我们可以在 ",i.jsx(e.code,{children:"App"})," 组件中执行一次打印。"]}),`
`,i.jsx(e.p,{children:"发现，当我们重新请求时，当前组件更新，但是上层组件并不会重新执行。"}),`
`,i.jsxs(e.p,{children:["我们可以出得结论：",i.jsx(e.strong,{children:"更简洁的状态设计，有利于命中 React 默认的性能优化规则"}),"。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"具体的规则请在 React 知命境合集中查看。"}),`
`]}),`
`,i.jsx(e.p,{children:"更简洁的状态设计，也是 React 19 所倡导的开发思路。我们需要尽可能少的使用 useState，例如，这里借助了 Suspense 减少了 loading 状态的维护。"}),`
`,i.jsxs(e.p,{children:["另外一个事情，是我们要特别特别注意观察子组件 ",i.jsx(e.code,{children:"Content"})," 的实现。"]}),`
`,i.jsxs(e.p,{children:["首先因为我们初始化时，给状态 ",i.jsx(e.code,{children:"promise"})," 赋予的默认值是 ",i.jsx(e.code,{children:"null"}),"。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`// 记住这个初始值
const [promise, update] = useState(null)
`})}),`
`,i.jsxs(e.p,{children:["之后，我们就将状态 promise 传给了子组件 ",i.jsx(e.code,{children:"Content"})]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`<Suspense fallback={<Skeleton />}>
  <Content promise={promise} />
</Suspense>
`})}),`
`,i.jsxs(e.p,{children:["然后在 Content 组件的内部实现中，因为我们直接把 promise 传给了 ",i.jsx(e.code,{children:"use"}),"，那么此时直接执行肯定会报错"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const {value} = use(props.promise)
`})}),`
`,i.jsxs(e.p,{children:["要注意的是，我们刚才说，使用 ",i.jsx(e.code,{children:"Suspense"})," 会捕获子组件的异常，但是不是捕获所有异常，它只能识别 promise 的异常。因此，这里的报错会直接影响到整个页面。"]}),`
`,i.jsxs(e.p,{children:["所以，为了处理好初始化时传入 ",i.jsx(e.code,{children:"api"})," 值为 null，我在内部实现代码逻辑中，使用了 ",i.jsx(e.code,{children:"if"})," 判断该条件，然后执行了一次 ",i.jsx(e.code,{children:"return"}),"。我试图让 ",i.jsx(e.code,{children:"use(null)"})," 得不到执行的时机。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function Content(props) {
  if (!props.promise) {
    return <Message message='' />
  }

  const {value} = use(props.promise)
  return (
    <Message message={value} />
  )
}
`})}),`
`,i.jsx(e.p,{children:"当然，我们还可以给状态 promise 一个默认的，自带 resolve 值的 Promise 对象作为初始值，这样可以在子组件中避免这个异常判断。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const [promise, update] = useState(Promise.resolve({value: ''}))
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function Content(props) {
  const {value} = use(props.promise)
  return (
    <Message message={value} />
  )
}
`})}),`
`,i.jsx(e.p,{children:"演示效果如下图所示"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(xz,{})}),`
`,i.jsx(e.p,{children:"这种写法有一个很小的瑕疵，就是在初始化时，也不可避免的显示了 Skeleton 组件，实际上是不需要的。因此具体采用哪种写法，要依据实践中的需求而定。"})]})}function vz(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(gb,{...t})}):gb(t)}const bz={"App.js":az,"api.js":oz,"Message.jsx":dz,"Button.jsx":lz,"Skeleton.jsx":cz,"/public/index.html":uz};function yz(){return i.jsx(Ee,{files:bz,renderArticle:t=>i.jsx(vz,{components:{code:t}})})}const jz=`import {use, useState, Suspense} from 'react'
import Message from './Message'
import Skeleton from './Skeleton'
import Button from './Button'
import {getMessage} from './api'

export default function Demo01() {
  const [promise, update] = useState(getMessage)

  function __handler() {
    update(getMessage())
  }

  return (
    <>
      <div className='text-right mb-4'>
        <Button onClick={__handler}>更新数据</Button>
      </div>
      <Suspense fallback={<Skeleton />}>
        <Content promise={promise} />
      </Suspense>
    </>
  )
}

function Content(props) {
  const {value} = use(props.promise)
  return (
    <Message message={value} />
  )
}
`,Sz=`import {twMerge} from 'tailwind-merge'
import clsx from 'clsx'

document.documentElement.style.fontSize = '14px'
// 本组件只是一个简单的 UI 组件，学习时无需多过关注

export default function Button(props) {
  const {className, primary, danger, sm, lg, signal, success, ...other} = props
  const base = 'rounded-md border border-transparent font-medium cursor-pointer transition relative'

  // type
  const normal = 'bg-gray-100 hover:bg-gray-200'

  // size
  const md = 'text-xs py-2 px-4'

  const cls = twMerge(clsx(base, normal, md, {
    // type
    ['bg-blue-500 text-white hover:bg-blue-600']: primary,
    ['bg-red-500 text-white hover:bg-red-600']: danger,
    ['bg-green-500 text-white hover:bg-green-600']: success,
    ['text-sky-500 bg-white border border-sky-300 hover:bg-sky-50']: signal,

    // size
    ['text-xs py-1.5 px-3']: sm,
    ['text-lg py-2 px-6']: lg,
  }, className))

  return (
    <button className={cls} {...other}>
      {props.children}
      {signal && (
        <span className="absolute flex h-3 w-3 right-[-5px] top-[-5px]">
          <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span>
          <span className="relative inline-flex rounded-full h-3 w-3 bg-sky-500"></span>
        </span>
      )}
    </button>
  )
}
`,wz=`const random = [
  'React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.',
  'Whether you work on your own or with thousands of other developers, using React feels the same.',
  'React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.',
  'This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ',
  'You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it.'
]

var myHeaders = new Headers();
myHeaders.append("User-Agent", "Apifox/1.0.0 (https://apifox.com)");

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow',
  data: 'hex'
};

// 你可以动态修改最后的数字，然后观察请求情况
const url = 'https://echo.apifox.com/delay/1'

export const getMessage = async () => {
  await fetch(url, requestOptions)
  const i = Math.floor(Math.random() * 10) % 5
  return {
    value: random[i]
  }
}
`,kz=`export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,$z=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script src="https://cdn.tailwindcss.com"><\/script>
    <title>案例演示</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
`,Nz=`const Message = (props) => {
  const message = unescape(props.message.replace(/\\\\u/gi,'%u'));
  const title = unescape((props.title || '').replace(/\\\\u/gi,'%u'));

  let base = 'flex border border-blue-100 p-4 rounded-md shadow'


  if (!message) {
    return (
      <div className={\`\${base} justify-center items-center flex-col text-gray-500\`}>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6">
          <path strokeLinecap="round" strokeLinejoin="round" d="M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z" />
        </svg>

        <div className='mt-2'>no data.</div>
      </div>
    )
  }

  return (
    <div className={base}>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6 mt-2">
        <path strokeLinecap="round" strokeLinejoin="round" d="M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" />
      </svg>
      <div className='flex-1 ml-3'>
        <div>{title || 'Heads Up!'}</div>
        <div className='text-sm mt-1 text-gray-600'>{message}</div>
      </div>
    </div>
  )
}

export default Message
`,d3=t=>{const e=unescape(t.message.replace(/\\u/gi,"%u")),n=unescape((t.title||"").replace(/\\u/gi,"%u"));let r="flex border border-blue-100 p-4 rounded-md shadow";return e?i.jsxs("div",{className:r,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 mt-2",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})}),i.jsxs("div",{className:"flex-1 ml-3",children:[i.jsx("div",{children:n||"Heads Up!"}),i.jsx("div",{className:"text-sm mt-1 text-gray-600",children:e})]})]}):i.jsxs("div",{className:`${r} justify-center items-center flex-col text-gray-500`,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z"})}),i.jsx("div",{className:"mt-2",children:"no data."})]})};function h3(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}document.documentElement.style.fontSize="14px";function f3(t){const{className:e,primary:n,danger:r,sm:s,lg:a,signal:l,success:o,...c}=t,f=yr(ct("rounded-md border border-transparent font-medium cursor-pointer transition relative","bg-gray-100 hover:bg-gray-200","text-xs py-2 px-4",{"bg-blue-500 text-white hover:bg-blue-600":n,"bg-red-500 text-white hover:bg-red-600":r,"bg-green-500 text-white hover:bg-green-600":o,"text-sky-500 bg-white border border-sky-300 hover:bg-sky-50":l,"text-xs py-1.5 px-3":s,"text-lg py-2 px-6":a},e));return i.jsxs("button",{className:f,...c,children:[t.children,l&&i.jsxs("span",{className:"absolute flex h-3 w-3 right-[-5px] top-[-5px]",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-sky-500"})]})]})}const Cz=["React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.","Whether you work on your own or with thousands of other developers, using React feels the same.","React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.","This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ","You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it."];var p3=new Headers;p3.append("User-Agent","Apifox/1.0.0 (https://apifox.com)");var Tz={method:"GET",headers:p3,redirect:"follow",data:"hex"};const Rz="https://echo.apifox.com/delay/1",gd=async()=>{await fetch(Rz,Tz);const t=Math.floor(Math.random()*10)%5;return{value:Cz[t]}};function Qz(){const[t,e]=j.useState({value:""}),[n,r]=j.useState(!0);j.useEffect(()=>{gd().then(a=>{e(a),r(!1)})},[]);function s(){r(!0),gd().then(a=>{e(a),r(!1)})}return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-right mb-4",children:i.jsx(f3,{onClick:s,children:"更新数据"})}),n?i.jsx(h3,{}):i.jsx(d3,{message:t.value})]})}function Az(){const[t,e]=j.useState(gd());function n(){e(gd())}return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-right mb-4",children:i.jsx(f3,{onClick:n,children:"更新数据"})}),i.jsx(j.Suspense,{fallback:i.jsx(h3,{}),children:i.jsx(Pz,{promise:t})})]})}function Pz(t){const{value:e}=j.use(t.promise);return i.jsx(d3,{message:e})}function xb(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsxs(e.p,{children:["在上一章的基础之上，我们做一个小的需求变动。上一章的案例要求我们不要初始化时请求一条数据，因此，默认渲染结果是 ",i.jsx(e.code,{children:"no data"})]}),`
`,i.jsx(e.p,{children:"这一章的案例则不同，我们需要在初始化时请求数据。也就是说，我们此时同时需要初始化和更新的逻辑"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"0"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"需求变动之后的思考"})}),`
`,i.jsx(e.p,{children:"在以前版本的实现中，接口数据的触发方式不同，因此我们需要分别处理这两种触发时机。"}),`
`,i.jsx(e.p,{children:"首先，我们需要定义两个状态来管理数据结果和 loading 状态"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const [content, update] = useState({value: ''})
const [loading, setLoading] = useState(true)
`})}),`
`,i.jsxs(e.p,{children:["然后，我们利用 ",i.jsx(e.code,{children:"useEffect"})," 来实现初始化时的数据请求逻辑"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`useEffect(() => {
  getMessage().then(res => {
    update(res)
    setLoading(false)
  })
}, []);
`})}),`
`,i.jsx(e.p,{children:"按钮点击事件触发时，我们通过回调函数来实现数据的更新"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-ts",children:`function __handler() {
  setLoading(true)
  getMessage().then(res => {
    update(res)
    setLoading(false)
  })
}
`})}),`
`,i.jsx(e.p,{children:"完整代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {use, useState, Suspense, useEffect} from 'react'
import Message from './Message'
import Skeleton from './Skeleton'
import Button from './Button'
import {getMessage} from './api'

export default function Demo01() {
  const [content, update] = useState({value: ''})
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    getMessage().then(res => {
      update(res)
      setLoading(false)
    })
  }, []);

  function __handler() {
    setLoading(true)
    getMessage().then(res => {
      update(res)
      setLoading(false)
    })
  }

  return (
    <>
      <div className='text-right mb-4'>
        <Button onClick={__handler}>更新数据</Button>
      </div>
      {loading ? <Skeleton /> : <Message message={content.value} />}
    </>
  )
}
`})}),`
`,i.jsx(e.p,{children:"演示效果如下案例所示"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(Qz,{})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"新的实现方式"})}),`
`,i.jsx(e.p,{children:"与之前版本的实现方式相比，新的开发方式就简单了许多。"}),`
`,i.jsx(e.p,{children:"我们只需要在上一章的案例中，做一个小的修改即可满足需求。那就是在给状态 promise 的初始值做一个小小的变动即可。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-diff",children:`- const [promise, update] = useState(null)
// 只需要改这一点代码
+ const [promise, update] = useState(getMessage())
`})}),`
`,i.jsx(e.p,{children:"这里的思路就是给状态 promise 赋值一个 Promise 对象作为初始值。修改之后的完整代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {use, useState, Suspense} from 'react'
import Message from './Message'
import Skeleton from './Skeleton'
import Button from './Button'
import {getMessage} from './api'

export default function Demo02() {
  const [promise, update] = useState(getMessage())

  function __handler() {
    update(getMessage())
  }

  return (
    <>
      <div className='text-right mb-4'>
        <Button onClick={__handler}>更新数据</Button>
      </div>
      <Suspense fallback={<Skeleton />}>
        <Content promise={promise} />
      </Suspense>
    </>
  )
}

function Content(props) {
  const {value} = use(props.promise)
  return (
    <Message message={value} />
  )
}
`})}),`
`,i.jsx(e.p,{children:"演示效果如下所示"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(Az,{})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"非常的方便省事。"})}),`
`,i.jsxs(e.p,{children:["最后需要注意的是一个小的细节，如果不考虑 Compiler 编译之后的代码去缓存初始化时的 ",i.jsx(e.code,{children:"getMessage()"}),"，那么每次更新组件时，该方法都会执行一次，因此，会导致冗余的接口请求。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"使用 Compiler 编译之后，这段代码会被缓存下来而不会重复执行"}),`
`]}),`
`,i.jsx(e.p,{children:"因此，最好的方式是进一步调整一下，利用 useState 的初始化机制修改如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-diff",children:`- const [promise, update] = useState(getMessage())
+ const [promise, update] = useState(getMessage)
`})}),`
`,i.jsx(e.p,{children:"这样，即使不用 Compiler 编译缓存，也不会出现冗余请求的情况。完整的代码和演示案例请在右侧模块中查看。"})]})}function _z(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(xb,{...t})}):xb(t)}const Ez={"App.js":jz,"api.js":wz,"Message.jsx":Nz,"Button.jsx":Sz,"Skeleton.jsx":kz,"/public/index.html":$z};function Mz(){return i.jsx(Ee,{files:Ez,renderArticle:t=>i.jsx(_z,{components:{code:t}})})}const Dz=`import {use, useState, Suspense, useEffect} from 'react'
import Userinfo from './Userinfo'
import Skeleton from './Skeleton'
import Button from './Button'
import {getMessage} from './api'

export default function Demo01() {
  const [promise, updatePromise] = useState(() => [getMessage()])

  function __handler() {
    updatePromise([...promise, getMessage()])
  }

  return (
    <>
      <div className='text-right mb-4'>
        <Button onClick={__handler}>新增数据</Button>
      </div>
      {promise.map((item, index) => (
        <Suspense fallback={<Skeleton />} key={\`hello \${index}\`}>
          <User promise={item} index={index} />
        </Suspense>
      ))}
    </>
  )
}

function User(props) {
  const result = use(props.promise)
  return (
    <Userinfo index={props.index} username={result.id} message={result.value} />
  )
}
`,Zz=`import {twMerge} from 'tailwind-merge'
import clsx from 'clsx'

document.documentElement.style.fontSize = '14px'
// 本组件只是一个简单的 UI 组件，学习时无需多过关注

export default function Button(props) {
  const {className, primary, danger, sm, lg, signal, success, ...other} = props
  const base = 'rounded-md border border-transparent font-medium cursor-pointer transition relative'

  // type
  const normal = 'bg-gray-100 hover:bg-gray-200'

  // size
  const md = 'text-xs py-2 px-4'

  const cls = twMerge(clsx(base, normal, md, {
    // type
    ['bg-blue-500 text-white hover:bg-blue-600']: primary,
    ['bg-red-500 text-white hover:bg-red-600']: danger,
    ['bg-green-500 text-white hover:bg-green-600']: success,
    ['text-sky-500 bg-white border border-sky-300 hover:bg-sky-50']: signal,

    // size
    ['text-xs py-1.5 px-3']: sm,
    ['text-lg py-2 px-6']: lg,
  }, className))

  return (
    <button className={cls} {...other}>
      {props.children}
      {signal && (
        <span className="absolute flex h-3 w-3 right-[-5px] top-[-5px]">
          <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span>
          <span className="relative inline-flex rounded-full h-3 w-3 bg-sky-500"></span>
        </span>
      )}
    </button>
  )
}
`,zz=`const random = [
  'React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.',
  'Whether you work on your own or with thousands of other developers, using React feels the same.',
  'React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.',
  'This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ',
  'You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it.'
]

var myHeaders = new Headers();
myHeaders.append("User-Agent", "Apifox/1.0.0 (https://apifox.com)");

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow',
  data: 'hex'
};

// 你可以动态修改最后的数字，然后观察请求情况
const url = 'https://echo.apifox.com/delay/1'

export const getMessage = async () => {
  await fetch(url, requestOptions)
  const i = Math.floor(Math.random() * 10) % 5
  return {
    value: random[i],
    id: getUuid()
  }
}

function getUuid() {
  var s = [];
  var hexDigits = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"
  for (var i = 0; i < 16; i++) {
    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)
  }

  s[8] = "-"
  let uuid = s.join("")
  return uuid
}
`,Lz=`export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,Bz=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script src="https://cdn.tailwindcss.com"><\/script>
    <title>案例演示</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
`,Xz=`const Userinfo = (props) => {
  const message = unescape(props.message.replace(/\\\\u/gi,'%u'));
  const username = unescape((props.username || '').replace(/\\\\u/gi,'%u'));
  const index = props.index || 0;

  let base = 'flex border border-blue-100 p-4 rounded-md my-4 items-start'

  return (
    <div className={base}>
      <img className='w-10' src={\`https://api.dicebear.com/7.x/miniavs/svg?seed=\${index}\`} alt='' />
      <div className='flex-1 ml-3'>
        <div>{username || 'no name'}</div>
        <div className='text-sm mt-1 text-gray-600'>{message}</div>
      </div>
    </div>
  )
}

export default Userinfo
`,Uz=t=>{const e=unescape(t.message.replace(/\\u/gi,"%u")),n=unescape((t.username||"").replace(/\\u/gi,"%u")),r=t.index||0;return i.jsxs("div",{className:"flex border border-blue-100 p-4 rounded-md my-4 items-start",children:[i.jsx("img",{className:"w-10",src:`https://api.dicebear.com/7.x/miniavs/svg?seed=${r}`,alt:""}),i.jsxs("div",{className:"flex-1 ml-3",children:[i.jsx("div",{children:n||"no name"}),i.jsx("div",{className:"text-sm mt-1 text-gray-600",children:e})]})]})};function qz(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}document.documentElement.style.fontSize="14px";function Yz(t){const{className:e,primary:n,danger:r,sm:s,lg:a,signal:l,success:o,...c}=t,f=yr(ct("rounded-md border border-transparent font-medium cursor-pointer transition relative","bg-gray-100 hover:bg-gray-200","text-xs py-2 px-4",{"bg-blue-500 text-white hover:bg-blue-600":n,"bg-red-500 text-white hover:bg-red-600":r,"bg-green-500 text-white hover:bg-green-600":o,"text-sky-500 bg-white border border-sky-300 hover:bg-sky-50":l,"text-xs py-1.5 px-3":s,"text-lg py-2 px-6":a},e));return i.jsxs("button",{className:f,...c,children:[t.children,l&&i.jsxs("span",{className:"absolute flex h-3 w-3 right-[-5px] top-[-5px]",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-sky-500"})]})]})}const Vz=["React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.","Whether you work on your own or with thousands of other developers, using React feels the same.","React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.","This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ","You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it."];var m3=new Headers;m3.append("User-Agent","Apifox/1.0.0 (https://apifox.com)");var Wz={method:"GET",headers:m3,redirect:"follow",data:"hex"};const Hz="https://echo.apifox.com/delay/1",Ob=async()=>{await fetch(Hz,Wz);const t=Math.floor(Math.random()*10)%5;return{value:Vz[t],id:Iz()}};function Iz(){for(var t=[],e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<16;n++)t[n]=e.substr(Math.floor(Math.random()*16),1);return t[8]="-",t.join("")}function Gz(){const[t,e]=j.useState([]);j.useEffect(()=>{e([...t,{type:"loading"}]),Ob().then(r=>{e([...t,r])})},[]);function n(){e([...t,{type:"loading"}]),Ob().then(r=>{e([...t,r])})}return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-right mb-4",children:i.jsx(Yz,{onClick:n,children:"新增数据"})}),i.jsx(Fz,{list:t})]})}function Fz(t){const e=t.list;return i.jsx(i.Fragment,{children:e.map((n,r)=>n.type==="loading"?i.jsx(qz,{},`hello ${r}`):i.jsx(Uz,{index:r,username:n.id,message:n.value},`h${r}`))})}function vb(t){const e={code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"这一章我们要学习的是一个新增加载项到列表的案例。首先我们会通过接口获取到一条数据，然后将该数据渲染到列表中。你可以先通过右侧预览查看最终演示效果。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"0"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"使用旧的方案实现"})}),`
`,i.jsx(e.p,{children:"首先，先定义请求数据的 promise"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// api.js
export const getMessage = async () => {
  await fetch(url, requestOptions)
  const i = Math.floor(Math.random() * 10) % 5
  return {value: random[i], id: getUuid()}
}
`})}),`
`,i.jsx(e.p,{children:"然后需要定义一个状态用于存储列表。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const [list, updateList] = useState([])
`})}),`
`,i.jsxs(e.p,{children:["由于每一项在请求时，都需要显示一个 Loading 状态，此时我们可以使用一个巧妙的方式来解决这个问题。那就是暂时往 list 中新增一条 ",i.jsx(e.code,{children:"type: loading"})," 的数据。在遍历的时候判断出该数据渲染成 ",i.jsx(e.code,{children:"Skeleton"})," 组件。"]}),`
`,i.jsxs(e.p,{children:["因此，我们单独声明一个列表组件 List，该组件接收 ",i.jsx(e.code,{children:"list"})," 作为参数"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function List(props) {
  const list = props.list
  return (
    <>
      {list.map((item, index) => {
        if (item.type === 'loading') {
          return <Skeleton />
        }
        return <Userinfo index={index} username={item.id} message={item.value} />
      })}
    </>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["当我们在发送请求时，先往 list 中新增一条 ",i.jsx(e.code,{children:"type: loading"})," 的数据。此时我们利用 list 的特性与闭包的缓存特性，在接口请求成功之后再把请求过来的有效数据更新到 list 中即可。"]}),`
`,i.jsx(e.p,{children:"代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`useEffect(() => {
  updateList([...list, {type: 'loading'}])
  getMessage().then(res => {
    updateList([...list, res])
  })
}, []);
`})}),`
`,i.jsx(e.p,{children:"完整代码如下："}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {use, useState, Suspense, useEffect} from 'react'
import Userinfo from './Userinfo'
import Skeleton from './Skeleton'
import Button from './Button'
import {getMessage} from './api'

export default function Demo01() {
  const [list, updateList] = useState([])

  useEffect(() => {
    updateList([...list, {type: 'loading'}])
    getMessage().then(res => {
      updateList([...list, res])
    })
  }, []);

  function __handler() {
    updateList([...list, {type: 'loading'}])
    getMessage().then(res => {
      updateList([...list, res])
    })
  }

  return (
    <>
      <div className='text-right mb-4'>
        <Button onClick={__handler}>新增数据</Button>
      </div>
      <List list={list} />
    </>
  )
}

function List(props) {
  const list = props.list
  return (
    <>
      {list.map((item, index) => {
        if (item.type === 'loading') {
          return <Skeleton />
        }
        return <Userinfo index={index} username={item.id} message={item.value} />
      })}
    </>
  )
}
`})}),`
`,i.jsx(e.p,{children:"案例演示效果如下所示"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(Gz,{})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"新的思路"})}),`
`,i.jsx(e.p,{children:"旧的思路在实现上非常巧妙。但是简洁度依然弱于新的实现方案。除此之外，旧的实现思路还有许多问题需要处理，例如初始化时请求了两次，我们要考虑接口防重的问题。以及当我们多次连续点击按钮时，会出现竞态问题而导致渲染结果出现混乱。"}),`
`,i.jsx(e.p,{children:"我们基于 use + Suspense 的思路来考虑新的方案。"}),`
`,i.jsx(e.p,{children:"首先，我们应该将数据存储在 promise 中，因此很自然就能想到，多个数据，那么我们应该需要维护多个 promise，因此，我们需要定义一个由 promise 组成的数组。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const [promise, updatePromise] = useState(() => [getMessage()])
`})}),`
`,i.jsxs(e.p,{children:["由于初始化时，我们需要自动请求一条数据，因此我们给该数组的初始值为 ",i.jsx(e.code,{children:"[getMessage()]"})]}),`
`,i.jsx(e.p,{children:"点击时，需要新增一个数据，那么其实就是新增一个 promise，所以代码也非常简单，就是如下所示"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function __handler() {
  updatePromise([...promise, getMessage()])
}
`})}),`
`,i.jsx(e.p,{children:"处理好之后，我们只需要使用 map 遍历该数组即可。在遍历逻辑中，每一项都返回 Suspense 包裹的子组件。我们将 promise 传递给该子组件，并在子组件中使用 use 读取 promise 中的值。"}),`
`,i.jsx(e.p,{children:"最终的完整代码与演示结果请在右侧案例中查看。"}),`
`,i.jsx(e.p,{children:"此时通过案例演示结果可以观察到，初始化时的接口重复问题被解决掉了，并且当我们多次连续点击新增时，也不会出现接口竞态混乱的问题。"}),`
`,i.jsx(e.p,{children:"希望大家能够通过这个案例，进一步感受到新的开发思维的强大之处。"})]})}function Jz(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(vb,{...t})}):vb(t)}const Kz={"App.js":Dz,"api.js":zz,"Userinfo.jsx":Xz,"Button.jsx":Zz,"Skeleton.jsx":Lz,"/public/index.html":Bz};function eL(){return i.jsx(Ee,{files:Kz,renderArticle:t=>i.jsx(Jz,{components:{code:t}})})}const tL=`import { useState, Suspense } from 'react';
import List from './List'
import Button from './Button'
import Skeleton from './Skeleton'
import {fetchList} from './api.js'

const Index = () => {
  const [promises, increasePromise] = useState(() => [fetchList()])

  const onLoadMore = () => {
    increasePromise([...promises, fetchList()])
  };

  return (
    <>
      {promises.map((promise, i) => (
        <Suspense fallback={<Skeleton />} key={\`hello \${i}\`}>
          <List promise={promise} />
        </Suspense>
      ))}
      <div className='text-center my-4'>
        <Button onClick={onLoadMore}>loading more</Button>
      </div>
    </>
  );
};
export default Index;
`,nL=`import {twMerge} from 'tailwind-merge'
import clsx from 'clsx'

document.documentElement.style.fontSize = '14px'
// 本组件只是一个简单的 UI 组件，学习时无需多过关注

export default function Button(props) {
  const {className, primary, danger, sm, lg, signal, success, ...other} = props
  const base = 'rounded-md border border-transparent font-medium cursor-pointer transition relative'

  // type
  const normal = 'bg-gray-100 hover:bg-gray-200'

  // size
  const md = 'text-xs py-2 px-4'

  const cls = twMerge(clsx(base, normal, md, {
    // type
    ['bg-blue-500 text-white hover:bg-blue-600']: primary,
    ['bg-red-500 text-white hover:bg-red-600']: danger,
    ['bg-green-500 text-white hover:bg-green-600']: success,
    ['text-sky-500 bg-white border border-sky-300 hover:bg-sky-50']: signal,

    // size
    ['text-xs py-1.5 px-3']: sm,
    ['text-lg py-2 px-6']: lg,
  }, className))

  return (
    <button className={cls} {...other}>
      {props.children}
      {signal && (
        <span className="absolute flex h-3 w-3 right-[-5px] top-[-5px]">
          <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span>
          <span className="relative inline-flex rounded-full h-3 w-3 bg-sky-500"></span>
        </span>
      )}
    </button>
  )
}
`,rL=`const count = 3;
const fakeDataUrl = \`https://randomuser.me/api/?results=\${count}&inc=name,gender,email,nat,picture&noinfo\`;

export const fetchList = async () => {
  const res = await fetch(fakeDataUrl)
  return res.json()
}
`,sL=`// header
export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
      <div className="animate-pulse flex space-x-4 items-center">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-3 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,iL=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script src="https://cdn.tailwindcss.com"><\/script>
    <title>案例演示</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
`,aL=`import { use } from 'react';
export default function CurrentList({promise}) {
  const {results} = use(promise)
  return (
    <div>
      {results.map((item, i) => (
        <div key={item.name.last} className='flex border-b py-4 mx-4 items-center border-dashed'>
          <img className='w-14 h-14 rounded-full' src={item.picture.large} alt='' />
          <div className='flex-1 ml-4'>
            <div className='font-bold'>{item.name.last}</div>
            <div className='text-gray-400 mt-1 text-sm line-clamp-1'>react 19 repo, a design language for background applications</div>
          </div>
        </div>
      ))}
    </div>
  )
}
`;function bb(t){const e={blockquote:"blockquote",code:"code",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"我们可以在思维上将上一节课的解决方案扩展到分页列表中，加载更多的场景。"}),`
`,i.jsx(e.p,{children:"这里唯一的一个小区别就是，上一章中，我们只在 promise 中存储了一条数据。如果我们将一页数据也存在 promise 中呢？"}),`
`,i.jsx(e.p,{children:"加载更多的分页逻辑就会变得非常简单。为了方便演示，我们这里以一页数据只有三条为例。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"大多数情况是一页 10 条，这个可根据具体的实践需求随时改动"}),`
`]}),`
`,i.jsxs(e.p,{children:["首先简单约定接口，该接口返回一页数据。",i.jsx(e.code,{children:"3条"})]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["你也可以在右侧演示案例的 ",i.jsx(e.code,{children:"api.js"})," 中，修改 count = 10 查看一页数据 10 条的演示效果"]}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// api.js
const count = 3;
const fakeDataUrl = \`https://randomuser.me/api/?results=\${count}&inc=name,gender,email,nat,picture&noinfo\`;

export const fetchList = async () => {
  const res = await fetch(fakeDataUrl)
  return res.json()
}
`})}),`
`,i.jsx(e.p,{children:"然后定义一个可以遍历显示一页数据的组件。该组件接收一个 promise，并使用 use 读取请求结果。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// List.jsx
import { use } from 'react';
export default function CurrentList({promise}) {
  const {results} = use(promise)
  return (
    <div>
      {results.map((item, i) => (
        <div key={item.name.last} className='flex border-b py-4 mx-4 items-center'>
          <div className='flex-1'>
            <div className='flex'>
              <img className='w-14 h-14 rounded-full' src={item.picture.large} alt='' />
              <div className='flex-1 ml-4'>
                <div className='font-bold'>{item.name.last}</div>
                <div className='text-gray-400 mt-3 text-sm line-clamp-1'>react 19 re, a design language for background applications</div>
              </div>
            </div>

            <div className='mt-4 line-clamp-2 text-sm'>We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently.</div>
          </div>

          <img
            className='w-52 ml-2'
            alt="logo"
            src="https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png"
          />
        </div>
      ))}
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"此时我们稍微梳理一下逻辑，首先我们有多个 promise，然后每个 promise 中有一页数据，因此，我们可以遍历 promise，并在遍历中渲染能显示一页数据的 List 组件。"}),`
`,i.jsx(e.p,{children:"因此，我们首先要定义一个状态用于保存 promise 数组"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const [promises, increasePromise] = useState(() => [fetchList()])
`})}),`
`,i.jsxs(e.p,{children:["初始化时需要渲染一页数据，所以我们设置该数组的默认值为 ",i.jsx(e.code,{children:"[fetchList()]"})]}),`
`,i.jsx(e.p,{children:"loadmore 事件触发之后，我们只需要往该数组中新增一个 promise 即可"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const onLoadMore = () => {
  increasePromise([...promises, fetchList()])
};
`})}),`
`,i.jsxs(e.p,{children:["然后遍历 promises，在遍历中使用 ",i.jsx(e.code,{children:"Suspense"})," 包裹内部有 use 逻辑的 List 组件"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`{promises.map((promise, i) => (
  <Suspense fallback={<Skeleton />} key={\`hello \${i}\`}>
    <List promise={promise} />
  </Suspense>
))}
`})}),`
`,i.jsx(e.p,{children:"完整的代码与演示效果请查看右侧案例。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"分页参数的维护、最后一页的判断，大家在实践中要自行维护，这里只做方案的演示，没有考虑所有边界情况"}),`
`]})]})}function lL(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(bb,{...t})}):bb(t)}const oL={"App.js":tL,"api.js":rL,"List.jsx":aL,"Button.jsx":nL,"Skeleton.jsx":sL,"/public/index.html":iL};function cL(){return i.jsx(Ee,{files:oL,renderArticle:t=>i.jsx(lL,{components:{code:t}})})}const uL=`import {useState, Suspense} from 'react'
import Skeleton from './Skeleton'
import {fetchListWithCancel} from './api'
import List from './List'
import Input from './Input'

export default function Demo01() {
  const [promise, update] = useState(() => fetchListWithCancel(10))

  function __inputChange(e) {
    promise.cancel()
    const len = e.target.value.length % 10
    update(fetchListWithCancel(len))
  }

  return (
    <div>
      <Input onChange={__inputChange} placeholder='Enter something' />
      <Suspense fallback={<Skeleton />}>
        <List promise={promise} />
      </Suspense>
    </div>
  )
}
`,dL=`export const fetchList = async (number) => {
  const res = await fetch(\`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`)
  return res.json()
}

export const fetchListWithCancel = (number) => {
  let controller = new AbortController();
  let signal = controller.signal;
  const promise = new Promise(resolve => {
    fetch(
      \`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`,
      {signal}
    ).then(res => {
      resolve(res.json())
    }).catch(() => {
      console.log('接口成功取消！')
    })
  })

  promise.cancel = () => {
    if (controller) {
      controller.abort()
    }
  }
  return promise
}
`,hL=`document.documentElement.style.fontSize = '14px'

export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,fL=`import { use } from 'react';
export default function CurrentList({promise}) {
  const {results} = use(promise)
  console.log('我会执行几次呢')
  return (
    <div>
      {results.map((item, i) => (
        <div key={\`h\${i}\`} className='flex border p-4 items-center my-4 rounded-md'>
          <img className='w-12 h-12 rounded-full' src={item.picture.large} alt='' />
          <div className='flex-1 ml-4'>
            <div className='font-bold'>{item.name.last}</div>
            <div className='text-gray-400 mt-1 text-sm line-clamp-1'>react 19 re, a design language for background applications</div>
          </div>
        </div>
      ))}
    </div>
  )
}
`,pL=`export default function Input(props) {
  const {...other} = props
  return (
    <div className='flex items-center border px-2 rounded-md text-gray-500'>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-5">
        <path strokeLinecap="round" strokeLinejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
      </svg>

      <input
        className='flex-1 !border-none p-2'
        style={{ outline: 'none' }}
        type='text' {...other}
      />
    </div>
  )
}
`;document.documentElement.style.fontSize="14px";function mL(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full mt-4",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}const yb=async t=>(await fetch(`https://randomuser.me/api/?results=${t}&inc=name,gender,email,nat,picture&noinfo`)).json();function gL({promise:t}){const{results:e}=j.use(t);return console.log("我会执行几次呢"),i.jsx("div",{children:e.map((n,r)=>i.jsxs("div",{className:"flex border p-4 items-center my-4 rounded-md",children:[i.jsx("img",{className:"w-12 h-12 rounded-full",src:n.picture.large,alt:""}),i.jsxs("div",{className:"flex-1 ml-4",children:[i.jsx("div",{className:"font-bold",children:n.name.last}),i.jsx("div",{className:"text-gray-400 mt-1 text-sm line-clamp-1",children:"react 19 re, a design language for background applications"})]})]},`h${r}`))})}function xL(t){const{...e}=t;return i.jsxs("div",{className:"flex items-center border px-2 rounded-md text-gray-500",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),i.jsx("input",{className:"flex-1 !border-none p-2",style:{outline:"none"},type:"text",...e})]})}function OL(){const[t,e]=j.useState(()=>yb(5));function n(r){const s=r.target.value.length%10;e(yb(s))}return i.jsxs("div",{children:[i.jsx(xL,{onChange:n,placeholder:"Enter something"}),i.jsx(j.Suspense,{fallback:i.jsx(mL,{}),children:i.jsx(gL,{promise:t})})]})}function jb(t){const e={code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(ne,{children:i.jsx(OL,{})}),`
`,i.jsx(e.p,{children:"这是一个搜索的案例。当我们学会把数据存放在 promise 中时，实现这个案例的代码将会非常简单。案例演示如上面所示。"}),`
`,i.jsx(e.p,{children:"首先，我们需要定义一个 List 组件，用于显示列表数据。我们计划将列表数据存放在一个 promise 中，然后使用 use 从该 promise 中读取列表然后渲染。"}),`
`,i.jsx(e.p,{children:"因此，该 List 组件的代码如下所示"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import { use } from 'react';
export default function CurrentList({promise}) {
  const {results} = use(promise)
  return (
    <div>
      {results.map((item, i) => (
        <div key={\`h\${i}\`} className='flex border p-4 items-center my-4 rounded-md'>
          <img className='w-12 h-12 rounded-full' src={item.picture.large} alt='' />
          <div className='flex-1 ml-4'>
            <div className='font-bold'>{item.name.last}</div>
            <div className='text-gray-400 mt-1 text-sm line-clamp-1'>react 19 re, a design language for background applications</div>
          </div>
        </div>
      ))}
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"然后，我们只需要在 useState 中存储一个 promise 即可"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const [promise, update] = useState(() => fetchList(10))
`})}),`
`,i.jsx(e.p,{children:"更新时，更改该 promise"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function __inputChange(e) {
  const len = e.target.value.length % 10
  update(fetchList(len))
}
`})}),`
`,i.jsx(e.p,{children:"最后结合 Suspense，完整代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {useState, Suspense} from 'react'
import Skeleton from './Skeleton'
import {fetchList} from './api'
import List from './List'
import Input from './Input'

export default function Demo01() {
  const [promise, update] = useState(() => fetchList(10))

  function __inputChange(e) {
    const len = e.target.value.length % 10
    update(fetchList(len))
  }

  return (
    <div>
      <Input onChange={__inputChange} placeholder='Enter something' />
      <Suspense fallback={<Skeleton />}>
        <List promise={promise} />
      </Suspense>
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"在演示这个例子时，我们要结合 chrome 开发者工具一起查看。观察接口请求的情况。我们发现，当我们快速输入时，此时会发起多个接口请求。React 会帮助我们解决竞态的问题，将接口任务依次排列好执行。"}),`
`,i.jsx(e.p,{children:"但是在请求结果的获取上，反馈到页面上只会获取最后一次请求的结果。这一点非常舒适。"}),`
`,i.jsx(e.p,{children:"与此同时，本次案例演示了一个需要传入参数的接口应该如何处理。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"取消上一次请求"})}),`
`,i.jsx(e.p,{children:"由于上面的实现方式，每次都会发送接口请求，因此在耗时上可能会比较久，所以我们可以使用防抖或者节流的方式减少请求次数。这两个也是面试中比较常见的需要考察的小知识点。"}),`
`,i.jsx(e.p,{children:"除此之外，我们这里介绍一种新的方案来解决这个问题，那就是在新的请求发生时，取消上一次还未完成的请求。我们一起来学习一下"}),`
`,i.jsxs(e.p,{children:["在 JavaScript 中，有一个特殊的内建对象 ",i.jsx(e.code,{children:"AbortController"})," 可以终止异步任务。我们可以利用该对象实例来终止 ",i.jsx(e.code,{children:"fetch"})," 请求。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-ts",children:`let controller = new AbortController();
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"controller"})," 具有单个属性 ",i.jsx(e.code,{children:"signal"}),"，我们可以在这个属性上设置事件监听。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-ts",children:`let signal = controller.signal
signal.addEventListener('abort', () => alert("abort!"));
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"controller"})," 具有单个方法：",i.jsx(e.code,{children:"abort()"}),"，当 ",i.jsx(e.code,{children:"abort()"})," 调用时，signal 的事件监听就会执行。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-ts",children:`controller.abort();

// 事件触发，signal.aborted 变为 true
alert(signal.aborted); // true
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"fetch"})," 中封装了 ",i.jsx(e.code,{children:"signal"})," 的事件监听，因此它可以很好的与 ",i.jsx(e.code,{children:"AbortController"})," 对象一起工作。"]}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"fetch"})," 的第二个参数 option 可以接收 ",i.jsx(e.code,{children:"signal"})]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`fetch(url, {
  signal: controller.signal
});
`})}),`
`,i.jsxs(e.p,{children:["当我们在任意地方调用 ",i.jsx(e.code,{children:"abort"})," 时，对应的请求就会被取消"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-ts",children:`controller.abort();
`})}),`
`,i.jsx(e.p,{children:"借助这些基础知识，我们就可以封装一个可以被取消的 promise。"}),`
`,i.jsx(e.h2,{children:"2"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"封装一个新的 api 函数"})}),`
`,i.jsx(e.p,{children:"封装代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export const fetchListWithCancel = (number) => {
  let controller = new AbortController();
  let signal = controller.signal;
  const promise = new Promise(resolve => {
    fetch(
      \`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`,
      {signal}
    ).then(res => {
      resolve(res.json())
    }).catch(() => {
      console.log('接口成功取消！')
    })
  })

  promise.cancel = () => {
    if (controller) {
      controller.abort()
    }
  }
  return promise
}
`})}),`
`,i.jsxs(e.p,{children:["我这里使用了一个返回结果是一个列表的案例接口。然后将 ",i.jsx(e.code,{children:"abort"})," 函数挂载到返回的 ",i.jsx(e.code,{children:"promise"})," 中"]}),`
`,i.jsxs(e.p,{children:["使用时，只需要调用 ",i.jsx(e.code,{children:"promise.cancel()"})," 就可以取消对应的请求了。"]}),`
`,i.jsx(e.h2,{children:"3"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"结合 react 19 使用"})}),`
`,i.jsx(e.p,{children:"我们接下来要完成右侧案例的演示效果。注意仔细感受一下代码的简洁性。逻辑和之前没有发生任何明显的变化，只是我们需要切换我们新封装的 api 来发送请求。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const [promise, update] = useState(() => fetchListWithCancel(10))
`})}),`
`,i.jsx(e.p,{children:"然后在新的请求发生之前，取消还未完成的请求"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function __inputChange(e) {
  promise.cancel()
  const len = e.target.value.length % 10
  update(fetchListWithCancel(len))
}
`})}),`
`,i.jsx(e.p,{children:"其他的逻辑基本保持不变，完整代码和演示效果请在右侧区域查看。请务必结合调试工具中的网络请求一起观察演示效果。"})]})}function vL(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(jb,{...t})}):jb(t)}const bL={"App.js":uL,"api.js":dL,"List.jsx":fL,"Input.jsx":pL,"Skeleton.jsx":hL};function yL(){return i.jsx(Ee,{files:bL,renderArticle:t=>i.jsx(vL,{components:{code:t}})})}const jL=`import {useState, Suspense} from 'react'
import Skeleton from './Skeleton'
import {fetchListWithCancel} from './api'
import Tabs from './Tabs'
import List from './List'

const tabs = [
  { name: 'My Account', href: '#', current: true },
  { name: 'Company', href: '#', current: false },
  { name: 'Team Members', href: '#', current: false },
  { name: 'Billing', href: '#', current: false },
]


export default function Example() {
  const [current, switchToSelected] = useState(0)
  const [promise, update] = useState(() => fetchListWithCancel(5))

  function __handler(index) {
    tabs[current].current = false
    tabs[index].current = true
    switchToSelected(index)

    promise.cancel()
    const len = Math.floor(Math.random() * 10)
    update(fetchListWithCancel(len))
  }

  return (
    <div>
      <Tabs tabs={tabs} onSwitch={__handler} />

      <Suspense fallback={<Skeleton />}>
        <List promise={promise} />
      </Suspense>
    </div>
  )
}
`,SL=`export const fetchList = async (number) => {
  const res = await fetch(\`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`)
  return res.json()
}

export const fetchListWithCancel = (number) => {
  let controller = new AbortController();
  let signal = controller.signal;
  const promise = new Promise(resolve => {
    fetch(
      \`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`,
      {signal}
    ).then(res => {
      resolve(res.json())
    }).catch(() => {
      console.log('接口成功取消！')
    })
  })

  promise.cancel = () => {
    if (controller) {
      controller.abort()
    }
  }
  return promise
}
`,wL=`document.documentElement.style.fontSize = '14px'

export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,kL=`import { use } from 'react';
export default function CurrentList({promise}) {
  const {results} = use(promise)
  console.log('我会执行几次呢')
  return (
    <div>
      {results.map((item, i) => (
        <div key={\`h\${i}\`} className='flex border p-4 items-center my-4 rounded-md'>
          <img className='w-12 h-12 rounded-full' src={item.picture.large} alt='' />
          <div className='flex-1 ml-4'>
            <div className='font-bold'>{item.name.last}</div>
            <div className='text-gray-400 mt-1 text-sm line-clamp-1'>react 19 re, a design language for background applications</div>
          </div>
        </div>
      ))}
    </div>
  )
}
`,$L=`function classNames(...classes) {
  return classes.filter(Boolean).join(' ')
}

export default function Tabs({tabs, onSwitch}) {
  return (
    <div>
      <div className="hidden">
        <label htmlFor="tabs" className="sr-only">
          Select a tab
        </label>
        {/* Use an "onChange" listener to redirect the user to the selected tab URL. */}
        <select
          id="tabs"
          name="tabs"
          className="block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500"
          defaultValue={tabs.find((tab) => tab.current).name}
          onChange={(e) => onSwitch(e.target.selectedIndex)}
        >
          {tabs.map((tab) => (
            <option key={tab.name}>{tab.name}</option>
          ))}
        </select>
      </div>
      <div className="block">
        <nav className="flex space-x-4" aria-label="Tabs">
          {tabs.map((tab, i) => (
            <a
              key={tab.name}
              href={tab.href}
              className={classNames(
                tab.current ? 'bg-indigo-100 text-indigo-700' : 'text-gray-500 hover:text-gray-700',
                'rounded-md px-3 py-2 text-sm font-medium',
              )}
              aria-current={tab.current ? 'page' : undefined}
              onClick={(e) => {
                e.preventDefault();
                onSwitch(i)
              }}
            >
              {tab.name}
            </a>
          ))}
        </nav>
      </div>
    </div>
  )
}
`;function NL(...t){return t.filter(Boolean).join(" ")}function CL({tabs:t,onSwitch:e}){return i.jsxs("div",{children:[i.jsxs("div",{className:"hidden",children:[i.jsx("label",{htmlFor:"tabs",className:"sr-only",children:"Select a tab"}),i.jsx("select",{id:"tabs",name:"tabs",className:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",defaultValue:t.find(n=>n.current).name,onChange:n=>e(n.target.selectedIndex),children:t.map(n=>i.jsx("option",{children:n.name},n.name))})]}),i.jsx("div",{className:"block",children:i.jsx("nav",{className:"flex space-x-4","aria-label":"Tabs",children:t.map((n,r)=>i.jsx("a",{href:n.href,className:NL(n.current?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700","rounded-md px-3 py-2 text-sm font-medium"),"aria-current":n.current?"page":void 0,onClick:s=>{s.preventDefault(),e(r)},children:n.name},n.name))})})]})}const Bc=[{name:"My Account",href:"#",current:!0},{name:"Company",href:"#",current:!1},{name:"Team Members",href:"#",current:!1},{name:"Billing",href:"#",current:!1}];function TL(){const[t,e]=j.useState(0);function n(r){Bc[t].current=!1,Bc[r].current=!0,e(r)}return i.jsxs("div",{children:[i.jsx(CL,{tabs:Bc,onSwitch:n}),i.jsxs("div",{className:"mt-4 text-gray-500",children:["当前选中：",Bc[t].name]})]})}function Sb(t){const e={code:"code",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"Tab 切换的过程中，请求接口也是日常开发中非常常见的交互方式。不过 tabs 切换的情况比较多，很考验开发者的个人能力。我们准备了三个不同的场景以供大家直接学习。"}),`
`,i.jsxs(e.p,{children:["第一个案例比较简单。是",i.jsx(e.strong,{children:"多对一"}),"：多个 tab 按钮，对应一个组件。具体表现为按钮切换时，该组件本身重新获取数据渲染。演示效果如右侧案例所示。"]}),`
`,i.jsxs(e.p,{children:["首先，我们需要先封装一个 Tab 切换按钮。具体的封装代码可以查看右面的 ",i.jsx(e.code,{children:"Tabs.jsx"})," 文件。"]}),`
`,i.jsx(e.p,{children:"然后使用一下，检测一下效果"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {useState, Suspense} from 'react'
import Tabs from './Tabs'

const tabs = [
  { name: 'My Account', href: '#', current: true },
  { name: 'Company', href: '#', current: false },
  { name: 'Team Members', href: '#', current: false },
  { name: 'Billing', href: '#', current: false },
]

export default function Example() {
  const [current, switchToSelected] = useState(0)

  function __handler(index) {
    tabs[current].current = false
    tabs[index].current = true
    switchToSelected(index)
  }

  return (
    <div>
      <Tabs tabs={tabs} onSwitch={__handler} />
      <div className='mt-4 text-gray-500'>
        当前选中：{tabs[current].name}
      </div>
    </div>
  )
}
`})}),`
`,i.jsx(ne,{children:i.jsx(TL,{})}),`
`,i.jsx(e.p,{children:"这里需要注意观察的是，案例中我们对 tabs 数据和 current 当前选中项的一个管理方式。在使用过程中，我们可以尽量减少对于 state 的使用，能不用就不用。但是许多人在开发过程中会非常依赖于 state，管理不善时，可能会导致数据的大量冗余 re-render 产生。这里当我们切换点击时，会修改两个数据，但是最终只有一个 state 变化。"}),`
`,i.jsx(e.p,{children:"接下来的事情就比较简单了，跟之前的案例一样，只需要在切换时，通过改变 promise 的方式请求接口即可。"}),`
`,i.jsx(e.p,{children:"所以我们需要声明一个新的状态 promise"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const [promise, update] = useState(() => fetchListWithCancel(5))
`})}),`
`,i.jsx(e.p,{children:"然后再点击时重新请求并修改 state promise 即可。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-diff",children:`function __handler(index) {
  tabs[current].current = false
  tabs[index].current = true
  switchToSelected(index)

+ promise.cancel()
+ const len = Math.floor(Math.random() * 10)
+ update(fetchListWithCancel(len))
}
`})}),`
`,i.jsx(e.p,{children:"这里我们依然需要取消上一次请求是因为可能有的使用者会连续快速切换，我们可以通过取消为完成请求的方式让页面响应变得合理与流畅。完整的案例请看右侧区域。"})]})}function RL(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Sb,{...t})}):Sb(t)}const QL={"App.js":jL,"api.js":SL,"List.jsx":kL,"Tabs.jsx":$L,"Skeleton.jsx":wL};function AL(){return i.jsx(Ee,{files:QL,renderArticle:t=>i.jsx(RL,{components:{code:t}})})}const PL=`import {useState, Suspense, useRef} from 'react'
import Tabs from './Tabs'

import Account from './Account'
import Search from './Search'

const tabs = [
  { name: 'My Account', href: '#', current: true, element: Account },
  { name: 'Company', href: '#', current: false, element: Account },
  { name: 'Team Members', href: '#', current: false, element: Account },
  { name: 'Billing', href: '#', current: false, element: Search },
]

export default function Example() {
  const [current, switchToSelected] = useState(0)
  const map = useRef(new Set([tabs[current]]))

  function __handler(index) {
    tabs[current].current = false
    tabs[index].current = true

    const item = tabs[index]
    if (!map.current.has(item)) {
      map.current.add(item)
    }

    switchToSelected(index)
  }

  let arr = Array.from(map.current)

  return (
    <div>
      <Tabs tabs={tabs} onSwitch={__handler} />

      {arr.map((item, index) => (
        <item.element selected={item.current} key={\`z-\${index}\`}/>
      ))}
    </div>
  )
}
`,_L=`export const fetchListWithCancel = (number) => {
  let controller = new AbortController();
  let signal = controller.signal;
  const promise = new Promise(resolve => {
    fetch(
      \`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`,
      {signal}
    ).then(res => {
      resolve(res.json())
    }).catch(() => {
      console.log('接口成功取消！')
    })
  })

  promise.cancel = () => {
    if (controller) {
      controller.abort()
    }
  }
  return promise
}
`,EL=`document.documentElement.style.fontSize = '14px'

export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,ML=`import { use } from 'react';
export default function CurrentList({promise}) {
  const {results} = use(promise)

  return (
    <div>
      {results.map((item, i) => (
        <div key={\`h\${i}\`} className='flex border p-4 items-center my-4 rounded-md'>
          <img className='w-12 h-12 rounded-full' src={item.picture.large} alt='' />
          <div className='flex-1 ml-4'>
            <div className='font-bold'>{item.name.last}</div>
            <div className='text-gray-400 mt-1 text-sm line-clamp-1'>react 19 re, a design language for background applications</div>
          </div>
        </div>
      ))}
    </div>
  )
}
`,DL=`export default function Input(props) {
  const {...other} = props
  return (
    <div className='flex items-center border px-2 rounded-md text-gray-500'>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-5">
        <path strokeLinecap="round" strokeLinejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
      </svg>

      <input
        className='flex-1 !border-none p-2'
        style={{ outline: 'none' }}
        type='text' {...other}
      />
    </div>
  )
}
`,ZL=`import clsx from 'clsx'
import {useState, Suspense} from 'react'
import Skeleton from './Skeleton'
import {fetchListWithCancel} from './api'
import List from './List'

export default function Account(props) {
  const [promise, update] = useState(() => fetchListWithCancel(5))

  const cls = clsx({
    ['hidden']: !props.selected
  })

  return (
    <div className={cls}>
      <Suspense fallback={<Skeleton />}>
        <List promise={promise} />
      </Suspense>
    </div>
  )
}
`,zL=`import clsx from 'clsx'
import {useState, Suspense} from 'react'
import Skeleton from './Skeleton'
import {fetchListWithCancel} from './api'
import List from './List'
import Input from './Input'

export default function Search(props) {
  const [promise, update] = useState(() => fetchListWithCancel(10))

  function __inputChange(e) {
    promise.cancel()
    const len = e.target.value.length % 10
    update(fetchListWithCancel(len))
  }

  const cls = clsx('pt-4', {
    ['hidden']: !props.selected
  })

  return (
    <div className={cls}>
      <Input onChange={__inputChange} placeholder='Enter something' />
      <Suspense fallback={<Skeleton />}>
        <List promise={promise} />
      </Suspense>
    </div>
  )
}
`,LL=`function classNames(...classes) {
  return classes.filter(Boolean).join(' ')
}

export default function Tabs({tabs, onSwitch}) {
  return (
    <div>
      <div className="hidden">
        <label htmlFor="tabs" className="sr-only">
          Select a tab
        </label>
        {/* Use an "onChange" listener to redirect the user to the selected tab URL. */}
        <select
          id="tabs"
          name="tabs"
          className="block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500"
          defaultValue={tabs.find((tab) => tab.current).name}
          onChange={(e) => onSwitch(e.target.selectedIndex)}
        >
          {tabs.map((tab) => (
            <option key={tab.name}>{tab.name}</option>
          ))}
        </select>
      </div>
      <div className="block">
        <nav className="flex space-x-4" aria-label="Tabs">
          {tabs.map((tab, i) => (
            <a
              key={tab.name}
              href={tab.href}
              className={classNames(
                tab.current ? 'bg-indigo-100 text-indigo-700' : 'text-gray-500 hover:text-gray-700',
                'rounded-md px-3 py-2 text-sm font-medium',
              )}
              aria-current={tab.current ? 'page' : undefined}
              onClick={() => onSwitch(i)}
            >
              {tab.name}
            </a>
          ))}
        </nav>
      </div>
    </div>
  )
}
`;function BL(...t){return t.filter(Boolean).join(" ")}function XL({tabs:t,onSwitch:e}){return i.jsxs("div",{children:[i.jsxs("div",{className:"hidden",children:[i.jsx("label",{htmlFor:"tabs",className:"sr-only",children:"Select a tab"}),i.jsx("select",{id:"tabs",name:"tabs",className:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",defaultValue:t.find(n=>n.current).name,onChange:n=>e(n.target.selectedIndex),children:t.map(n=>i.jsx("option",{children:n.name},n.name))})]}),i.jsx("div",{className:"block",children:i.jsx("nav",{className:"flex space-x-4","aria-label":"Tabs",children:t.map((n,r)=>i.jsx("a",{href:n.href,className:BL(n.current?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700","rounded-md px-3 py-2 text-sm font-medium"),"aria-current":n.current?"page":void 0,onClick:()=>e(r),children:n.name},n.name))})})]})}document.documentElement.style.fontSize="14px";function g3(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full mt-4",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}const Um=t=>{let e=new AbortController,n=e.signal;const r=new Promise(s=>{fetch(`https://randomuser.me/api/?results=${t}&inc=name,gender,email,nat,picture&noinfo`,{signal:n}).then(a=>{s(a.json())}).catch(()=>{console.log("接口成功取消！")})});return r.cancel=()=>{e&&e.abort()},r};function x3({promise:t}){const{results:e}=j.use(t);return i.jsx("div",{children:e.map((n,r)=>i.jsxs("div",{className:"flex border p-4 items-center my-4 rounded-md",children:[i.jsx("img",{className:"w-12 h-12 rounded-full",src:n.picture.large,alt:""}),i.jsxs("div",{className:"flex-1 ml-4",children:[i.jsx("div",{className:"font-bold",children:n.name.last}),i.jsx("div",{className:"text-gray-400 mt-1 text-sm line-clamp-1",children:"react 19 re, a design language for background applications"})]})]},`h${r}`))})}function Mf(t){const[e,n]=j.useState(()=>Um(5)),r=ct({hidden:!t.selected});return i.jsx("div",{className:r,children:i.jsx(j.Suspense,{fallback:i.jsx(g3,{}),children:i.jsx(x3,{promise:e})})})}function UL(t){const{...e}=t;return i.jsxs("div",{className:"flex items-center border px-2 rounded-md text-gray-500",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),i.jsx("input",{className:"flex-1 !border-none p-2",style:{outline:"none"},type:"text",...e})]})}function qL(t){const[e,n]=j.useState(()=>Um(10));function r(a){e.cancel();const l=a.target.value.length%10;n(Um(l))}const s=ct("pt-4",{hidden:!t.selected});return i.jsxs("div",{className:s,children:[i.jsx(UL,{onChange:r,placeholder:"Enter something"}),i.jsx(j.Suspense,{fallback:i.jsx(g3,{}),children:i.jsx(x3,{promise:e})})]})}function YL(){const[t,e]=j.useState(0),n=j.useRef([{name:"My Account",href:"#",current:!0,element:Mf},{name:"Company",href:"#",current:!1,element:Mf},{name:"Team Members",href:"#",current:!1,element:Mf},{name:"Billing",href:"#",current:!1,element:qL}]),r=j.useRef(new Set([n.current[t]]));function s(l){n.current[t].current=!1,n.current[l].current=!0;const o=n.current[l];r.current.has(o)||r.current.add(o),e(l)}let a=Array.from(r.current);return i.jsxs("div",{children:[i.jsx(XL,{tabs:n.current,onSwitch:s}),a.map((l,o)=>i.jsx(l.element,{selected:l.current},`z-${o}`))]})}function wb(t){const e={blockquote:"blockquote",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(ne,{reload:!0,children:i.jsx(YL,{})}),`
`,i.jsx(e.p,{children:"这个案例的实现就稍微有点难度了。我们需要满足如下条件"}),`
`,i.jsxs(e.ol,{children:[`
`,i.jsx(e.li,{children:"1、初始化时，只渲染默认的当前列页，而不会渲染其他任何未被点击过的页面/组件。"}),`
`,i.jsx(e.li,{children:"2、渲染过的页面，在切换离开之后，需要缓存下来，下一次切换回事来直接显示即可，效果类似于 keep-alive"}),`
`,i.jsx(e.li,{children:"3、每个 tab 按钮，对应一个页面，按钮与页面之间应该是 1 对 1 的关系"}),`
`]}),`
`,i.jsx(e.p,{children:"首先，我们应该设计 tabs 的格式如下。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const tabs = [
  { name: 'My Account', href: '#', current: true, element: Account },
  { name: 'Company', href: '#', current: false, element: Account },
  { name: 'Team Members', href: '#', current: false, element: Account },
  { name: 'Billing', href: '#', current: false, element: Search },
]
`})}),`
`,i.jsx(e.p,{children:"由于是一对一的关系，因此每个项可以自由对应需求所需要的页面组件"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"这里需要注意的是，虽然有几个对应的组件名是一样的，但是他们最终的实例是不同的"}),`
`]}),`
`,i.jsx(e.p,{children:"接下来比较难的是，如何设计数据来确保同时满足上面的几个需求。"}),`
`,i.jsx(e.p,{children:"我的方案如下"}),`
`,i.jsx(e.p,{children:"首先，定义一个 map 对象，用于存储已经渲染过的页面。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const map = useRef(new Set([tabs[current]]))
`})}),`
`,i.jsx(e.p,{children:"每次点击时，将页面案例加进来，但是在这之前，需要判断是否已经存在"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function __handler(index) {
  tabs[current].current = false
  tabs[index].current = true

  const item = tabs[index]
  if (!map.current.has(item)) {
    map.current.add(item)
  }

  switchToSelected(index)
}
`})}),`
`,i.jsx(e.p,{children:"最后遍历 map 中的数据将页面渲染出来即可。"}),`
`,i.jsx(e.p,{children:"这里需要注意的是，由于页面是 1 对 1 的关系，因此，每个页面的数据单独维护即可。"}),`
`,i.jsx(e.p,{children:"例如其中一个组件代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import clsx from 'clsx'
import {useState, Suspense} from 'react'
import Skeleton from './Skeleton'
import {fetchListWithCancel} from './api'
import List from './List'

export default function Account(props) {
  const [promise, update] = useState(() => fetchListWithCancel(5))

  const cls = clsx({
    ['hidden']: !props.selected
  })

  return (
    <div className={cls}>
      <Suspense fallback={<Skeleton />}>
        <List promise={promise} />
      </Suspense>
    </div>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["这里我们还要考虑一个布局的问题。只能当前选中的页面显示出来。因此我们这里通过利用 ",i.jsx(e.code,{children:"display"})," 的值来控制。传入一个 ",i.jsx(e.code,{children:"selected"})," 来判断是否需要将其值从 ",i.jsx(e.code,{children:"block"})," 改变为 ",i.jsx(e.code,{children:"none"})]}),`
`,i.jsx(e.p,{children:"完整代码与案例演示请看右侧区域。"})]})}function VL(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(wb,{...t})}):wb(t)}const WL={"App.js":PL,"Account.jsx":ZL,"Search.jsx":zL,"api.js":_L,"Tabs.jsx":LL,"List.jsx":ML,"Input.jsx":{code:DL,hidden:!0},"Skeleton.jsx":{code:EL,hidden:!0}};function HL(){return i.jsx(Ee,{files:WL,renderArticle:t=>i.jsx(VL,{components:{code:t}})})}const IL=`import {useState, Suspense, useCallback} from 'react'
import Skeleton from './Skeleton'
import {fetchListWithCancel} from './api'
import Tabs from './Tabs'
import List from './List'

const config = [
  { name: 'Applied', href: '#', count: 0, current: true },
  { name: 'Phone Screening', href: '#', count: 0, current: false },
  { name: 'Interview', href: '#', count: 0, current: false }
]

export default function Example() {
  const [current, switchToSelected] = useState(0)
  const [promise, update] = useState(() => fetchListWithCancel(5))
  const [tabs, changeTabs] = useState(config)

  function __handler(index) {
    tabs[current].current = false
    tabs[index].current = true
    switchToSelected(index)
    changeTabs([...tabs])

    promise.cancel()
    const len = Math.floor(Math.random() * 10)
    update(fetchListWithCancel(len))
  }

  function __complete(number) {
    tabs[current].count = number
    changeTabs([...tabs])
  }

  return (
    <div>
      <Tabs tabs={tabs} onSwitch={__handler} />

      <Suspense fallback={<Skeleton />}>
        <List promise={promise} onComplete={__complete} />
      </Suspense>
    </div>
  )
}
`,GL=`export const fetchList = async (number) => {
  const res = await fetch(\`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`)
  return res.json()
}

export const fetchListWithCancel = (number) => {
  let controller = new AbortController();
  let signal = controller.signal;
  const promise = new Promise(resolve => {
    fetch(
      \`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`,
      {signal}
    ).then(res => {
      localStorage.setItem('modal', 'xxx')
      resolve(res.json())
    }).catch(() => {
      console.log('接口成功取消！')
    })
  })

  promise.cancel = () => {
    if (controller) {
      controller.abort()
    }
  }
  return promise
}

`,FL=`document.documentElement.style.fontSize = '14px'

export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,JL=`import { use, useEffect } from 'react';

function CurrentList({promise, onComplete}) {
  const {results} = use(promise)

  useEffect(() => {
    onComplete && onComplete(results.length)
  }, [results.length]);

  return (
    <div>
      {results.map((item, i) => (
        <div key={\`h\${i}\`} className='flex border p-4 items-center my-4 rounded-md'>
          <img className='w-12 h-12 rounded-full' src={item.picture.large} alt='' />
          <div className='flex-1 ml-4'>
            <div className='font-bold'>{item.name.last}</div>
            <div className='text-gray-400 mt-1 text-sm line-clamp-1'>react 19 re, a design language for background applications</div>
          </div>
        </div>
      ))}
    </div>
  )
}

export default CurrentList
`,KL=`function classNames(...classes) {
  return classes.filter(Boolean).join(' ')
}

export default function Tabs({tabs, onSwitch}) {
  return (
    <div>
      <div className="border-b border-gray-200">
        <nav className="-mb-px flex space-x-8" aria-label="Tabs">
          {tabs.map((tab, index) => (
            <a
              key={tab.name}
              href="#"
              onClick={() => onSwitch(index)}
              className={classNames(
                tab.current
                  ? 'border-indigo-500 text-indigo-600'
                  : 'border-transparent text-gray-500 hover:border-gray-200 hover:text-gray-700',
                'flex whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium',
              )}
              aria-current={tab.current ? 'page' : undefined}
            >
              {tab.name}
              {tab.count ? (
                <span
                  className={classNames(
                    tab.current ? 'bg-indigo-100 text-indigo-600' : 'bg-gray-100 text-gray-900',
                    'ml-3 rounded-full px-2.5 py-0.5 text-xs font-medium inline-block',
                  )}
                >
                  {tab.count}
                </span>
              ) : null}
            </a>
          ))}
        </nav>
      </div>
    </div>
  )
}
`;document.documentElement.style.fontSize="14px";function eB(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full mt-4",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}const kb=t=>{let e=new AbortController,n=e.signal;const r=new Promise(s=>{fetch(`https://randomuser.me/api/?results=${t}&inc=name,gender,email,nat,picture&noinfo`,{signal:n}).then(a=>{localStorage.setItem("modal","xxx"),s(a.json())}).catch(()=>{console.log("接口成功取消！")})});return r.cancel=()=>{e&&e.abort()},r};function $b(...t){return t.filter(Boolean).join(" ")}function tB({tabs:t,onSwitch:e}){return i.jsx("div",{children:i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:t.map((n,r)=>i.jsxs("a",{href:"#",onClick:()=>e(r),className:$b(n.current?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-200 hover:text-gray-700","flex whitespace-nowrap border-b-2 px-1 py-4 text-sm font-medium"),"aria-current":n.current?"page":void 0,children:[n.name,n.count?i.jsx("span",{className:$b(n.current?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-900","ml-3 rounded-full px-2.5 py-0.5 text-xs font-medium inline-block"),children:n.count}):null]},n.name))})})})}function nB({promise:t,onComplete:e}){const{results:n}=j.use(t);return j.useEffect(()=>{e&&e(n.length)},[n.length]),i.jsx("div",{children:n.map((r,s)=>i.jsxs("div",{className:"flex border p-4 items-center my-4 rounded-md",children:[i.jsx("img",{className:"w-12 h-12 rounded-full",src:r.picture.large,alt:""}),i.jsxs("div",{className:"flex-1 ml-4",children:[i.jsx("div",{className:"font-bold",children:r.name.last}),i.jsx("div",{className:"text-gray-400 mt-1 text-sm line-clamp-1",children:"react 19 re, a design language for background applications"})]})]},`h${s}`))})}const rB=[{name:"Applied",href:"#",count:0,current:!0},{name:"Phone Screening",href:"#",count:0,current:!1},{name:"Interview",href:"#",count:0,current:!1},{name:"Offer",href:"#",count:0,current:!1},{name:"Disqualified",href:"#",count:0,current:!1}];function sB(){const[t,e]=j.useState(0),[n,r]=j.useState(()=>kb(5)),[s,a]=j.useState(rB);function l(c){s.forEach(d=>{d.current=!1}),s[c].current=!0,e(c),a([...s]),n.cancel();const u=Math.floor(Math.random()*10);r(kb(u))}function o(c){s[t].count=c,a([...s])}return i.jsxs("div",{children:[i.jsx(tB,{tabs:s,onSwitch:l}),i.jsx(j.Suspense,{fallback:i.jsx(eB,{}),children:i.jsx(nB,{promise:n,onComplete:o})})]})}function Nb(t){const e={code:"code",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(ne,{reload:!0,children:i.jsx(sB,{})}),`
`,i.jsx(e.p,{children:"有的时候我们需要从 Suspense 包裹的子组件中获取数据。"}),`
`,i.jsx(e.p,{children:"注意看这个案例。我设计了一个随机数量的请求，每一次请求返回随机数量的列表，Tabs 中的按钮旁边需要显示当前列表的长度。"}),`
`,i.jsx(e.p,{children:"但是此时，和将列表数据直接维护到 state 中不同，此时我们在 state 中维护的是 promise ，然后我们使用 use 从 promise 中读取数据。所以只有子组件使用 use 读取才能获得列表的长度。这个时候，我们如何在保持现有解决方案的前提之下，在父组件中拿到列表的数据呢？"}),`
`,i.jsx(e.p,{children:"首先父组件要拿到子组件的数据，我们可以给子组件传一个事件进去，让子组件在得到数据时，执行这个事件回调。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`<Suspense fallback={<Skeleton />}>
  <List promise={promise} onComplete={__complete} />
</Suspense>
`})}),`
`,i.jsxs(e.p,{children:["子组件在执行 ",i.jsx(e.code,{children:"onComplete"})," 的时候，把父组件需要的数据作为参数返回出来即可"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function CurrentList({promise, onComplete}) {
  const {results} = use(promise)
  onComplete && onComplete(results.length)

  return (...)
}
`})}),`
`,i.jsxs(e.p,{children:["这里我们需要考虑的一个问题就是 ",i.jsx(e.code,{children:"onComplete"})," 的执行时机要怎么比较合适。因为如果 onComplete 中执行逻辑在父组件中，子组件无法控制，因此父组件的执行逻辑有可能会导致子组件re-render，因此我们可以简单使用 useEffect 来防止 onComplete 反复执行"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-diff",children:`function CurrentList({promise, onComplete}) {
  const {results} = use(promise)
+ useEffect(() => {
    onComplete && onComplete(results.length)
+ }, [results.length]);

  return (...)
}
`})}),`
`,i.jsx(e.p,{children:"这样处理之后，我们就可以轻松在父组件中，无压力拿到子组件中的数据了。父组件的代码示例如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function __complete(number) {
  tabs[current].count = number
  changeTabs([...tabs])
}
`})}),`
`,i.jsx(e.p,{children:"完整代码与案例演示查看右侧区域。"})]})}function iB(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Nb,{...t})}):Nb(t)}const aB={"App.js":IL,"api.js":GL,"List.jsx":JL,"Tabs.jsx":KL,"Skeleton.jsx":FL};function lB(){return i.jsx(Ee,{files:aB,renderArticle:t=>i.jsx(iB,{components:{code:t}})})}const oB=`import {use, useState, Suspense} from 'react'
import Skeleton from './Skeleton'
import {fetchList} from './api'
import List from './List'

export default function Example() {
  const [promise, update] = useState(() => fetchList(3))
  return (
    <div>
      <Suspense fallback={<Skeleton type='card' />}>
        <AccountUse promise={promise} />
      </Suspense>
    </div>
  )
}

function AccountUse(props) {
  const {results} = use(props.promise)
  const [promise, update] = useState(() => fetchList(5))
  return (
    <div className='border border-blue-100 shadow rounded-md p-4 w-full mt-4'>
      <div className='flex space-x-4'>
        {results.map((item, index) => (
          <div className="flex-1 overflow-hidden" key={\`z-\${index}\`}>
            <div className='rounded-md h-32 overflow-hidden bg-cover bg-no-repeat bg-center' style={{backgroundImage: \`url(\${item.picture.large})\`}}></div>
            <div className="mt-4 font-bold">{item.name.last}</div>
            <div className="mt-1 text-gray-400 text-sm">{item.email}</div>
          </div>
        ))}
      </div>

      <div className="mt-8 text-gray-400 text-sm">Account users</div>
      <Suspense fallback={<Skeleton/>}>
        <List promise={promise}/>
      </Suspense>
    </div>
  )
}
`,cB=`export const fetchList = async (number) => {
  const res = await fetch(\`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`)
  return res.json()
}

export const fetchListWithCancel = (number) => {
  let controller = new AbortController();
  let signal = controller.signal;
  const promise = new Promise(resolve => {
    fetch(
      \`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`,
      {signal}
    ).then(res => {
      resolve(res.json())
    }).catch(() => {
      console.log('接口成功取消！')
    })
  })

  promise.cancel = () => {
    if (controller) {
      controller.abort()
    }
  }
  return promise
}
`,uB=`document.documentElement.style.fontSize = '14px'

export default function Skeleton(props) {
  if (props.type === 'card') {
    return (
      <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
        <div className="animate-pulse flex space-x-4 items-center">
          {[1, 2, 3].map((_, i) => (
            <div className="flex-1" key={\`z-\${i}\`}>
              <div className='rounded-md bg-slate-200  h-32'></div>
              <div className="grid grid-cols-3 gap-4 mt-2">
                <div className="h-2 bg-slate-200 rounded col-span-2"></div>
                <div className="h-2 bg-slate-200 rounded col-span-1"></div>
              </div>
              <div className="grid grid-cols-4 gap-4 mt-2">
                <div className="h-2 bg-slate-200 rounded col-span-3"></div>
              </div>
            </div>
          ))}
        </div>
      </div>
    )
  }

  if (props.type === 'header') {
    return (
      <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
        <div className="animate-pulse flex space-x-4 items-center">
          <div className="rounded-full bg-slate-200 h-10 w-10"></div>
          <div className="flex-1 space-y-3 py-1">
            <div className="h-2 bg-slate-200 rounded"></div>
            <div className="space-y-3">
              <div className="grid grid-cols-3 gap-4">
                <div className="h-2 bg-slate-200 rounded col-span-2"></div>
                <div className="h-2 bg-slate-200 rounded col-span-1"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    )
  }

  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,dB=`import { use } from 'react';
export default function CurrentList({promise}) {
  const {results} = use(promise)
  return (
    <div>
      {results.map((item, i) => (
        <div key={\`h\${i}\`} className='flex border p-4 items-center my-4 rounded-md'>
          <img className='w-12 h-12 rounded-full' src={item.picture.large} alt='' />
          <div className='flex-1 ml-4'>
            <div className='font-bold'>{item.name.last}</div>
            <div className='text-gray-400 mt-1 text-sm line-clamp-1'>react 19 re, a design language for background applications</div>
          </div>
        </div>
      ))}
    </div>
  )
}
`;document.documentElement.style.fontSize="14px";function O3(t){return t.type==="card"?i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full mt-4",children:i.jsx("div",{className:"animate-pulse flex space-x-4 items-center",children:[1,2,3].map((e,n)=>i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"rounded-md bg-slate-200  h-32"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"grid grid-cols-4 gap-4 mt-2",children:i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-3"})})]},`z-${n}`))})}):t.type==="header"?i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full mt-4",children:i.jsxs("div",{className:"animate-pulse flex space-x-4 items-center",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-3 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]})})]})]})}):i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full mt-4",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}const v3=async t=>(await fetch(`https://randomuser.me/api/?results=${t}&inc=name,gender,email,nat,picture&noinfo`)).json();function hB({promise:t}){const{results:e}=j.use(t);return i.jsx("div",{children:e.map((n,r)=>i.jsxs("div",{className:"flex border p-4 items-center my-4 rounded-md",children:[i.jsx("img",{className:"w-12 h-12 rounded-full",src:n.picture.large,alt:""}),i.jsxs("div",{className:"flex-1 ml-4",children:[i.jsx("div",{className:"font-bold",children:n.name.last}),i.jsx("div",{className:"text-gray-400 mt-1 text-sm line-clamp-1",children:"react 19 re, a design language for background applications"})]})]},`h${r}`))})}function fB(){const[t,e]=j.useState(()=>v3(3));return i.jsx("div",{children:i.jsx(j.Suspense,{fallback:i.jsx(O3,{type:"card"}),children:i.jsx(pB,{promise:t})})})}function pB(t){const{results:e}=j.use(t.promise),[n,r]=j.useState(()=>v3(5));return i.jsxs("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full mt-4",children:[i.jsx("div",{className:"flex space-x-4",children:e.map((s,a)=>i.jsxs("div",{className:"flex-1 overflow-hidden",children:[i.jsx("div",{className:"rounded-md h-32 overflow-hidden bg-cover bg-no-repeat bg-center",style:{backgroundImage:`url(${s.picture.large})`}}),i.jsx("div",{className:"mt-4 font-bold",children:s.name.last}),i.jsx("div",{className:"mt-1 text-gray-400 text-sm",children:s.email})]},`z-${a}`))}),i.jsx("div",{className:"mt-8 text-gray-400 text-sm",children:"Account users"}),i.jsx(j.Suspense,{fallback:i.jsx(O3,{}),children:i.jsx(hB,{promise:n})})]})}function mB(){return i.jsx("div",{children:i.jsx(fB,{})})}function Cb(t){const e={code:"code",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(ne,{reload:!0,children:i.jsx(mB,{})}),`
`,i.jsxs(e.p,{children:["如案例演示的这样，有的时候，我们需要这种",i.jsx(e.strong,{children:"瀑布流式"}),"的接口请求交互方式。也就是上一个模块请求成功之后，再请求下一个模块。"]}),`
`,i.jsx(e.p,{children:"我们可以利用 Suspense 的嵌套来轻松做到这个事情。"}),`
`,i.jsx(e.p,{children:"我们可以在父组件中，通过一个 promise 向子组件传递数据"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export default function Example() {
  const [promise, update] = useState(() => fetchList(3))
  return (
    <div>

      <Suspense fallback={<Skeleton type='card' />}>
        <AccountUse promise={promise} />
      </Suspense>
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"然后在子组件 AccountUse 中，使用同样的方式向它的子组件传递数据"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function AccountUse(props) {
  const {results} = use(props.promise)
  const [promise, update] = useState(() => fetchList(5))
  return (
    <div className='border border-blue-100 shadow rounded-md p-4 w-full mt-4'>
      <div>...</div>

      <div className="mt-8 text-gray-400 text-sm">Account users</div>
      <Suspense fallback={<Skeleton/>}>
        <List promise={promise}/>
      </Suspense>
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"最后在之后的子组件 List 中仅使用 use 获取数据即可"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export default function CurrentList({promise}) {
  const {results} = use(promise)
  return (
    <div>
      {results.map((item, i) => (
        <div key={\`h\${i}\`} className='flex border p-4 items-center my-4 rounded-md'>
          ...
        </div>
      ))}
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"这里需要注意的是，当你决定这样用时，往往后请求的接口都会依赖先请求的结果，如果并没有明确的先后依赖关系，我们并不建议采用这种交互方案。"}),`
`,i.jsx(e.p,{children:"完整的代码和案例演示看右侧区域。"})]})}function gB(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Cb,{...t})}):Cb(t)}const xB={"App.js":oB,"api.js":cB,"List.jsx":dB,"Skeleton.jsx":uB};function OB(){return i.jsx(Ee,{files:xB,renderArticle:t=>i.jsx(gB,{components:{code:t}})})}const vB=`import React, {useState, Suspense} from 'react'
import Userinfo from './Userinfo'
import Skeleton from './Skeleton'
import Button from './Button'
import {getMessage} from './api'
import use from './use'

export default function Demo01() {
  const [promise, updatePromise] = useState(() => [getMessage()])

  function __handler() {
    updatePromise([...promise, getMessage()])
  }

  return (
    <>
      <div className='text-right mb-4 flex justify-between items-center'>
        <div className='text-sm text-gray-400'>当前运行案例版本：react@16.14.0</div>
        <Button onClick={__handler}>新增数据</Button>
      </div>
      {promise.map((item, index) => (
        <Suspense fallback={<Skeleton />} key={\`hello \${index}\`}>
          <User promise={item} index={index} />
        </Suspense>
      ))}
    </>
  )
}

function User(props) {
  const result = use(props.promise)
  return (
    <Userinfo index={props.index} username={result.id} message={result.value} />
  )
}
`,bB=`import React from 'react';
import {twMerge} from 'tailwind-merge'
import clsx from 'clsx'

document.documentElement.style.fontSize = '14px'
// 本组件只是一个简单的 UI 组件，学习时无需多过关注

export default function Button(props) {
  const {className, primary, danger, sm, lg, signal, success, ...other} = props
  const base = 'rounded-md border border-transparent font-medium cursor-pointer transition relative'

  // type
  const normal = 'bg-gray-100 hover:bg-gray-200'

  // size
  const md = 'text-xs py-2 px-4'

  const cls = twMerge(clsx(base, normal, md, {
    // type
    ['bg-blue-500 text-white hover:bg-blue-600']: primary,
    ['bg-red-500 text-white hover:bg-red-600']: danger,
    ['bg-green-500 text-white hover:bg-green-600']: success,
    ['text-sky-500 bg-white border border-sky-300 hover:bg-sky-50']: signal,

    // size
    ['text-xs py-1.5 px-3']: sm,
    ['text-lg py-2 px-6']: lg,
  }, className))

  return (
    <button className={cls} {...other}>
      {props.children}
      {signal && (
        <span className="absolute flex h-3 w-3 right-[-5px] top-[-5px]">
          <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span>
          <span className="relative inline-flex rounded-full h-3 w-3 bg-sky-500"></span>
        </span>
      )}
    </button>
  )
}
`,yB=`const random = [
  'React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.',
  'Whether you work on your own or with thousands of other developers, using React feels the same.',
  'React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.',
  'This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ',
  'You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it.'
]

var myHeaders = new Headers();
myHeaders.append("User-Agent", "Apifox/1.0.0 (https://apifox.com)");

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow',
  data: 'hex'
};

// 你可以动态修改最后的数字，然后观察请求情况
const url = 'https://echo.apifox.com/delay/1'

export const getMessage = async () => {
  await fetch(url, requestOptions)
  const i = Math.floor(Math.random() * 10) % 5
  return {
    value: random[i],
    id: getUuid()
  }
}

function getUuid() {
  var s = [];
  var hexDigits = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"
  for (var i = 0; i < 16; i++) {
    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)
  }

  s[8] = "-"
  let uuid = s.join("")
  return uuid
}
`,jB=`import React from 'react';
export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full my-4">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,SB=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.2/tailwind.min.css" rel="stylesheet">
    <title>案例演示</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
`,wB=`import React from 'react'

const Userinfo = (props) => {
  const message = unescape(props.message.replace(/\\\\u/gi,'%u'));
  const username = unescape((props.username || '').replace(/\\\\u/gi,'%u'));
  const index = props.index || 0;

  let base = 'flex border border-blue-100 p-4 rounded-md my-4 items-start'

  return (
    <div className={base}>
      <img className='w-10' src={\`https://api.dicebear.com/7.x/miniavs/svg?seed=\${index}\`} alt='' />
      <div className='flex-1 ml-3'>
        <div>{username || 'no name'}</div>
        <div className='text-sm mt-1 text-gray-600'>{message}</div>
      </div>
    </div>
  )
}

export default Userinfo
`,kB=`import React from 'react';
import ReactDOM from 'react-dom';
import App from './App'

ReactDOM.render(<App />, document.getElementById('root'))
`,$B=`export default function use(promise) {
  if (promise.status === 'fulfilled') {
    return promise.value
  } else if (promise.status === 'rejected') {
    throw promise.reason
  } else if (promise.status === 'pending') {
    throw promise
  } else {
    promise.status = 'pending'
    promise.then(result => {
      promise.status = 'fulfilled'
      promise.value = result
    }, reason => {
      promise.status = 'rejected'
      promise.reason = reason
    })
    throw promise
  }
}
`;function Tb(t){const e={code:"code",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"可以看到，use + Suspense 的结合，可以极大的简化我们的开发代码，在开发体验上的提升是非常明显的。但是，如果由于客观原因，我们的项目无法升级到 React 19，那么我们就无法享受这种开发体验带来的提升了吗？"}),`
`,i.jsx(e.p,{children:"当然不是。早在 React 16 的后期版本中，就提供了对 Suspense 的支持，因此，我们只需要在这个基础之上，自己定义一个 use 方法，去读取 promise 中的值就可以实现我们前面所有章节的效果了。"}),`
`,i.jsx(e.p,{children:"自定义的代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export default function use(promise) {
  if (promise.status === 'fulfilled') {
    return promise.value
  } else if (promise.status === 'rejected') {
    throw promise.reason
  } else if (promise.status === 'pending') {
    throw promise
  } else {
    promise.status = 'pending'
    promise.then(result => {
      promise.status = 'fulfilled'
      promise.value = result
    }, reason => {
      promise.status = 'rejected'
      promise.reason = reason
    })
    throw promise
  }
}
`})}),`
`,i.jsx(e.p,{children:"如果你要理解这段代码，可以结合我们前面专门分析过的 Suspense 的运行原理来理解。"}),`
`,i.jsx(e.p,{children:"定义好之后，我们原本需要从 React 中引入的 use 方法，从这个模块里引入就可以了"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-diff",children:`- import React, {use} from 'react'
+ import use from './use'
`})}),`
`,i.jsxs(e.p,{children:["在右侧代码中，我提供了一个完整的案例来使用 use，右侧案例的 React 运行版本是 ",i.jsx(e.code,{children:"react@16.14.0"})]})]})}function NB(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Tb,{...t})}):Tb(t)}document.documentElement.style.fontSize="14px";var CB=new Headers;CB.append("User-Agent","Apifox/1.0.0 (https://apifox.com)");const TB={"App.js":vB,"index.js":kB,"api.js":yB,"use.js":$B,"Userinfo.jsx":wB,"Button.jsx":bB,"Skeleton.jsx":jB,"/public/index.html":{code:SB,hidden:!0}};function RB(){return i.jsx("div",{children:i.jsxs("div",{className:"mt-5 md:flex",children:[i.jsxs("div",{className:"md:w-[40%] pr-4 keep",children:[i.jsx(NB,{}),i.jsx("div",{className:"border-b mt-20 mb-8 text-lg font-bold pb-3"}),i.jsx(Ld,{repo:"yangbo5207/react19feature",repoId:"R_kgDOMGiHOw",category:"General",categoryId:"DIC_kwDOMGiHO84Cf8dR",maping:"pathname",term:"欢迎道友",strict:"0",reactionsEnabled:"1",emitMetadata:"1",inputPosition:"top",lang:"zh-CN",crossorigin:"anonymous",async:!0})]}),i.jsx("div",{className:"md:w-[60%] sticky top-[8rem] h-[calc(100vh_-_8rem-35px)] overflow-y-auto",children:i.jsx(D0,{template:"react",theme:Y0,options:{externalResources:["https://cdn.tailwindcss.com"],editorHeight:"auto"},customSetup:{dependencies:{react:"16.14.0","react-dom":"16.14.0","tailwind-merge":"latest",clsx:"latest"}},files:TB,children:i.jsxs(B0,{children:[i.jsx(L0,{}),i.jsx(n3,{children:i.jsx(e3,{})})]})})})]})})}const QB=`import { useRef } from 'react';
import Button from './Button'
import Post from './Post'

export default function App() {
  const post = useRef(null);

  function handleClick() {
    post.current.scrollAndFocusAddComment();
  }

  return (
    <>
      <Button onClick={handleClick} primary>Write a comment</Button>
      <Post ref={post} />
    </>
  );
}

`,AB=`import { useRef, useImperativeHandle } from 'react';
import Input from './Input'

export default function Post({ref}) {
  const commentsRef = useRef(null);
  const addCommentRef = useRef(null);

  useImperativeHandle(ref, () => {
    return {
      scrollAndFocusAddComment() {
        commentsRef.current.scrollToBottom();
        addCommentRef.current.focus();
      }
    };
  }, []);

  return (
    <>
      <article>
        <p className='my-5'>Welcome to my Blog!</p>
      </article>
      <CommentList ref={commentsRef} />
      <AddComment ref={addCommentRef} />
    </>
  );
}


const CommentList = ({ref}) => {
  const divRef = useRef(null);

  useImperativeHandle(ref, () => {
    return {
      scrollToBottom() {
        const node = divRef.current;
        node.scrollTop = node.scrollHeight;
      }
    };
  }, []);

  let comments = [];
  for (let i = 0; i < 50; i++) {
    comments.push(<p key={i}>Comment #{i}</p>);
  }

  return (
    <div className="border p-4 rounded h-32 overflow-y-auto" ref={divRef}>
      {comments}
    </div>
  );
};


function AddComment(props) {
  return (
    <Input placeholder="Add comment..." ref={props.ref} className="mt-4" />
  )
}
`,PB=`import clsx from 'clsx'
import {twMerge} from 'tailwind-merge'

export default function Input(props) {
  const {ref, className, ...other} = props
  const base = 'flex items-center border px-2 rounded-md text-gray-500'
  const cls = clsx(base, className)
  return (
    <div className={twMerge(cls)}>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-5">
        <path strokeLinecap="round" strokeLinejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
      </svg>

      <input
        ref={ref}
        className='flex-1 !border-none p-2'
        style={{ outline: 'none' }}
        type='text' {...other}
      />
    </div>
  )
}
`;function _B(){const t=j.useRef(null);return i.jsxs("div",{className:"flex justify-between",children:[i.jsx("input",{ref:t,type:"text",className:"border p-2 rounded-md flex-1"}),i.jsx("button",{onClick:()=>t.current.focus(),className:"ml-3",children:"点击获取焦"})]})}function b3(t){const{ref:e,className:n,...r}=t,a=ct("flex items-center border px-2 rounded-md text-gray-500",n);return i.jsxs("div",{className:yr(a),children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),i.jsx("input",{ref:e,className:"flex-1 !border-none p-2",style:{outline:"none"},type:"text",...r})]})}function EB(){const t=j.useRef(null);return i.jsxs("div",{className:"flex justify-between",children:[i.jsx(b3,{ref:t,type:"text",className:"flex-1"}),i.jsx("button",{onClick:()=>t.current.focus(),className:"ml-3",children:"点击获取焦"})]})}function MB(){const t=j.useRef(null);function e(){t.current.scrollAndFocusAddComment()}return i.jsxs(i.Fragment,{children:[i.jsx(De,{onClick:e,primary:!0,children:"Write a comment"}),i.jsx(DB,{ref:t})]})}const DB=({ref:t})=>{const e=j.useRef(null),n=j.useRef(null);return j.useImperativeHandle(t,()=>({scrollAndFocusAddComment(){e.current.scrollToBottom(),n.current.focus()}}),[]),i.jsxs(i.Fragment,{children:[i.jsx("article",{children:i.jsx("p",{children:"Welcome to my Blog!"})}),i.jsx(ZB,{ref:e}),i.jsx(zB,{ref:n})]})},ZB=({ref:t})=>{const e=j.useRef(null);j.useImperativeHandle(t,()=>({scrollToBottom(){const r=e.current;r.scrollTop=r.scrollHeight}}),[]);let n=[];for(let r=0;r<50;r++)n.push(i.jsxs("p",{children:["Comment #",r]},r));return i.jsx("div",{className:"border p-4 rounded h-32 overflow-y-auto",ref:e,children:n})};function zB(t){return i.jsx(b3,{placeholder:"Add comment...",ref:t.ref,className:"mt-4"})}function Rb(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"React 中的控制反转"})}),`
`,i.jsx(e.p,{children:"在面向对象编程中，IOC (Inversion of Control) 控制反转是一个非常高级的概念。它是一种设计理念，在减少对象之间的耦合关系上有非常重要的作用。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"许多前端虽然对其有所耳闻，但说实话，能理解的并不多。甚至很多前端对解耦这个概念都是一头雾水。"}),`
`]}),`
`,i.jsxs(e.p,{children:["IOC 的设计理念里，有三个角色，一个角色是",i.jsx(e.strong,{children:"容器 C"}),"，一个角色是",i.jsx(e.strong,{children:"被控制者 B"}),"，一个角色是",i.jsx(e.strong,{children:"控制者 A"}),"，许多时候，在代码开发中，控制者 A 直接去控制对象 B，会导致 B 被多次实例化而从让代码逻辑变得更加复杂。因此 IOC 的理念是让 控制者 A 失去对 B 的直接控制权，它只能与容器交互。从而将 A 与 B 的直接联系隔离开。"]}),`
`,i.jsx(e.p,{children:"这样说可能会有点绕，但是呢，我们使用一个大家经常使用的代码来说明一下，你一下就能明白。"}),`
`,i.jsxs(e.p,{children:["在实践中，我们可以通过 ref 直接拿到 input 的对象，然后通过调用 ",i.jsx(e.code,{children:".focus"})," 让输入框获取焦点。代码如下"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import { useRef } from 'react'

export default function Demo01() {
  const input = useRef(null)
  return (
    <div className='flex justify-between'>
      <input ref={input} type='text' className='border p-2 rounded-md flex-1' />
      <button
        onClick={() => input.current.focus()}
        className='ml-3'
      >点击获取焦</button>
    </div>
  )
}
`})}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(_B,{})}),`
`,i.jsxs(e.p,{children:["但是许多时候，直接使用 ",i.jsx(e.code,{children:"input"})," 标签并不能满足我们的需求，我们需要基于 input 做额外的封装。但是封装之后，我们还是希望能通过调用 ",i.jsx(e.code,{children:".focus"})," 让输入框获取焦点。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`const input = useRef(null)
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`<Input ref={input} type='text' />
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`input.current.focus()
`})}),`
`,i.jsx(e.p,{children:"封装之后的区别就在于，我们使用封装之后的 Input，就无法直接拿到内部的 input 对象了，但是我们的目标依然是获取 input 对象，然后调用 focus"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`var input = document.getElementById('input')
input.focus()
`})}),`
`,i.jsx(e.p,{children:"但是在模块的划分上，input 元素本身并不属于当前模块/组件，因此，调用 input 方法的行为，其实是属于一种混乱。除非我们不做解耦和封装。"}),`
`,i.jsx(e.p,{children:"因此，在 React 的组件封装中，并不支持直接获取到 input 的引用，而是以一种传入控制器的方式来调用它。在这个场景里:"}),`
`,i.jsx(e.p,{children:`input 对象本身是被调用者
Input 组件是容器
ref 是控制器`}),`
`,i.jsx(e.p,{children:"当前组件利用 ref 来调用 input。从而让代码的解耦变得非常合理。可扩展性也很强。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import { useRef } from 'react'
import Input from './Input'

export default function Demo02() {
  const input = useRef(null)
  return (
    <div className='flex justify-between'>
      <Input ref={input} type='text' className='flex-1' />
      <button
        onClick={() => input.current.focus()}
        className='ml-3'
      >点击获取焦</button>
    </div>
  )
}
`})}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(EB,{})}),`
`,i.jsx(e.p,{children:"这个案例中 Input 代码封装逻辑如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import clsx from 'clsx'
import {twMerge} from 'tailwind-merge'

export default function Input(props) {
  const {ref, className, ...other} = props
  const base = 'flex items-center border px-2 rounded-md text-gray-500'
  const cls = clsx(base, className)
  return (
    <div className={twMerge(cls)}>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-5">
        <path strokeLinecap="round" strokeLinejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
      </svg>

      <input
        ref={ref}
        className='flex-1 !border-none p-2'
        style={{ outline: 'none' }}
        type='text' {...other}
      />
    </div>
  )
}
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["注意一些概念上的区分：",i.jsx(e.strong,{children:"控制反转是一种设计思维"}),"，依赖注入是控制反转的一种具体实现，在 React 中，ref 也是一种控制反转的具体实现"]}),`
`]}),`
`,i.jsx(e.p,{children:"所以不要听着别人吹控制反转就觉得牛，你可能也天天在用"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"2"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"forwardRef 基础知识"})}),`
`,i.jsx(e.p,{children:"forwardRef 能够帮助 React 组件传递 ref。或者说是内部对象控制权的转移与转发。它接收一个组件作为参数"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`import { forwardRef } from 'react';

function MyInput(props, ref) {
  // ...
}

const InputNumber = forwardRef(MyInput);
`})}),`
`,i.jsx(e.p,{children:"这里需要注意的是，我们需要把 ref 放在自定义组件的参数中"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function MyInput(props, ref) {
  // ...
}
`})}),`
`,i.jsx(e.p,{children:"forwardRef 返回一个可渲染的函数组件。因此，我们可以通过一个简单的案例完善上面的代码"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function MyInput(props, ref) {
  return (
    <label>
      {props.label}
      <input ref={ref} />
    </label>
  );
}

const InputNumber = forwardRef(MyInput)
`})}),`
`,i.jsx(e.p,{children:"所以呢，在 React 的开发中，forwardRef 能够帮助我们实现更良好的解耦，这也是我一直非常喜欢使用 forwardRef 的原因。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"3"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"React19 中，ref 机制更改，forwardRef 被无情抛弃"})}),`
`,i.jsx(e.p,{children:"但是，在 React 19 中，forwardRef 被直接背刺，由于 ref 传递机制的更改，我们可以不用 forwardRef 也能做到同样的事情了。"}),`
`,i.jsx(e.p,{children:"首先，在声明组件时，ref 不再独立成为一个参数，而是作为 props 属性中的一个属性。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`function MyInput(props) {
  return (
    <label>
      {props.label}
      <input ref={props.ref} />
    </label>
  );
}
`})}),`
`,i.jsx(e.p,{children:"其次，代码这样写了之后，就可以直接在父组件中，通过 ref 拿到 input 的控制权"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function Index() {
  const input = useRef(null)

  function __clickHandler() {
    input.current.focus()
  }

  return (
    <div>
      <button onClick={__clickHandler}>
        点击获取焦点
      </button>
      <MyInput ref={input} />
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"在父组件中的使用与以前一样，但是子组件由于不再需要 forwardRef，变得更加简单了。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import { useRef } from 'react'

export default function Demo02() {
  const input = useRef(null)
  return (
    <div className='flex justify-between'>
      <input ref={input} type='text' className='border p-2 rounded-md flex-1' />
      <button
        onClick={() => input.current.focus()}
        className='ml-3'
      >点击获取焦</button>
    </div>
  )
}
`})}),`
`,i.jsx(e.h2,{children:"4"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"useImperativeHandle 与 ref 的新配合"})}),`
`,i.jsx(e.p,{children:"除了直接拿到元素对象本身就已经存在的 ref，我们还可以通过 useImperativeHandle 来自定义 ref 控制器能执行哪些方法"}),`
`,i.jsx(e.p,{children:"useImperativeHandle 接收三个参数，分别是"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"ref:"})," 组件声明时传入的 ref"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"createHandle:"})," 回调函数，需要返回 ref 引用的对象，我们也是在这里重写 ref 引用"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"deps:"})," 依赖项数组，可选。state，props 以及内部定义的其他变量都可以作为依赖项，React 内部会使用 Object.is 来对比依赖项是否发生了变化。依赖项发生变化时，createHandle 会重新执行，ref 引用会更新。如果不传入依赖项，那么每次更新 createHandle 都会重新执行"]}),`
`]}),`
`,i.jsx(e.p,{children:"在官方文档中，有这样一个案例，演示效果如图所示，当我点击按钮时，下方的 input 自动获取焦点，并且中间的滚动条滚动到最底部。"}),`
`,i.jsx(e.p,{children:i.jsx(e.img,{src:"https://files.mdnice.com/user/3925/5454bbf2-46c4-43b8-b3ff-d71e23ad31b0.png",alt:""})}),`
`,i.jsx(e.p,{children:"我们结合新的 ref 传递机制和 useImperativeHandle 一起来分析一下这个案例应该怎么实现。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"思考时，请一定要把封装的思维带入进来，否则可能很难感受到这样做在解耦上的具体好处"}),`
`]}),`
`,i.jsx(e.p,{children:"首先我们先进行组件拆分，将整个内容拆分为按钮部分与信息部分，信息部分主要负责信息的展示与输入，因此页面组件大概长这样"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<>
  <button>Write a comment</button>
  <Post />
</>
`})}),`
`,i.jsx(e.p,{children:"我们期望点击按钮时，信息部分的输入框自动获取焦点，信息部分的信息展示区域能滚动到最底部，因此整个页面组件的代码可以表示为如下："}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`import { useRef } from 'react';
import Post from './Post.js';

export default function Page() {
  const postRef = useRef(null);

  function handleClick() {
    postRef.current.scrollAndFocusAddComment();
  }

  return (
    <>
      <button onClick={handleClick}>
        Write a comment
      </button>
      <Post ref={postRef} />
    </>
  );
}
`})}),`
`,i.jsx(e.p,{children:"再来思考信息部分。"}),`
`,i.jsx(e.p,{children:"信息部分 Post 又分为两个部分，分别是信息展示部分与信息输入部分。此时这两个部分的 ref 要透传给 Post，并最终再次透传给页面组件。因此他们的组件结构应该长这样"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<>
  <article>
    <p>Welcome to my blog!</p>
  </article>
  <CommentList ref={commentsRef} />
  <AddComment ref={addCommentRef} />
</>
`})}),`
`,i.jsx(e.p,{children:"这个时候，有一个需要考虑的点就是，有两个对象需要被控制，因此我们需要借助 useImperativeHandle 来自定义控制器，并在控制的方法中，整合他们"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`useImperativeHandle(ref, () => {
  return {
    scrollAndFocusAddComment() {
      commentsRef.current.scrollToBottom();
      addCommentRef.current.focus();
    }
  };
}, []);
`})}),`
`,i.jsxs(e.p,{children:["ref 的传递，只需要把它看成是一个普通的 props 即可，因此，",i.jsx(e.code,{children:"Post"})," 组件完整代码如下"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`const Post = ({ref}) => {
  const commentsRef = useRef(null);
  const addCommentRef = useRef(null);

  useImperativeHandle(ref, () => {
    return {
      scrollAndFocusAddComment() {
        commentsRef.current.scrollToBottom();
        addCommentRef.current.focus();
      }
    };
  }, []);

  return (
    <>
      <article>
        <p>Welcome to my blog!</p>
      </article>
      <CommentList ref={commentsRef} />
      <AddComment ref={addCommentRef} />
    </>
  );
}
`})}),`
`,i.jsx(e.p,{children:"同样的道理，我们只需要把 CommentList 与 AddComment 的 ref 传递出来就可以了。"}),`
`,i.jsx(e.p,{children:"所以信息展示部分 CommentList 组件的代码为"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`import { useRef, useImperativeHandle } from 'react';

const CommentList = ({ref}) => {
  const divRef = useRef(null);

  useImperativeHandle(ref, () => {
    return {
      scrollToBottom() {
        const node = divRef.current;
        node.scrollTop = node.scrollHeight;
      }
    };
  }, []);

  let comments = [];
  for (let i = 0; i < 50; i++) {
    comments.push(<p key={i}>Comment #{i}</p>);
  }

  return (
    <div className="CommentList" ref={divRef}>
      {comments}
    </div>
  );
};

export default CommentList;
`})}),`
`,i.jsx(e.p,{children:"信息输入部分 AddComment 的代码为"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`function AddComment(props) {
  return (
    <input
      placeholder="Add comment..."
      ref={props.ref}
    />
  )
};

export default AddComment;
`})}),`
`,i.jsx(e.p,{children:"与之前相比，确实要简单了许多。完整的代码与案例演示请戳右侧区域。"}),`
`,i.jsx(e.h2,{children:"5"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"总结"})}),`
`,i.jsx(e.p,{children:"如果你对封装解耦比较重视，那么你一定能明显感受到，ref 与 useImperativeHandle 的结合能发挥的想象空间远不止于此，这种方式给 React 提供了一种扩展 React 能力的重要手段，因此，当你成为 React 高手之后，你一定会非常喜欢使用它们，他们的组合能让 React 项目变得更加多样化。"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(MB,{})})]})}function LB(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Rb,{...t})}):Rb(t)}const BB={"App.js":QB,"Post.jsx":AB,"Button.jsx":_s,"Input.jsx":PB};function XB(){return i.jsx(Ee,{files:BB,renderArticle:t=>i.jsx(LB,{components:{code:t}})})}const UB=`import { useRef } from 'react'
import Dialog from 'components/Dialog'

export default function App() {
  const dialog = useRef(null)
  return (
    <div className='flex justify-between'>
      <button
        onClick={() => dialog.current.show()}
        className='ml-3'
      >点击我，显示对话框组件</button>
      <Dialog ref={dialog} title='Message For You' onSure={() => dialog.current.close()}>
        <strong className='text-red-500'>React 19</strong> 是全网学习体验最好的小册，没有之一。它能帮助你快速领悟到 React 的独特的开发魅力，你将会感受到更快的学习速度，更高效的开发速度，更专业的开发思维。
        <div className='mt-4'>
          <img src='https://images.unsplash.com/photo-1485856407642-7f9ba0268b51?q=80&w=3540&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' alt=''/>
        </div>

      </Dialog>
    </div>
  )
}
`,qB=`import { useEffect, useRef, useState, useImperativeHandle } from 'react';
import Modal from '../Modal'
import Button from "components/Button";
import clsx from 'clsx'
import './index.css'

let mousePosition

const getClickPosition = (e) => {
  mousePosition = {
    x: e.pageX,
    y: e.pageY
  }
  setTimeout(() => {
    mousePosition = null
  }, 100)
}

document.documentElement.addEventListener('click', getClickPosition, true)

function setTransformOrigin(node, value) {
  var style = node.style;
  ['Webkit', 'Moz', 'Ms', 'ms'].forEach(function (prefix) {
    style[prefix + 'TransformOrigin'] = value;
  });
  style['transformOrigin'] = value;
}

function offset(el) {
  const rect = el.getBoundingClientRect()
  const pos = {
    left: rect.left,
    top: rect.top
  }
  const doc = el.ownerDocument
  const w = doc.defaultView
  pos.left += getScroll(w)
  pos.top += getScroll(w, 1)
  return pos
}

// 1st use window.pageXOffset and window.pageYOffset
// 2nd use window.document.documentElement.scrollLeft/scrollTop
// 3rd use window.document.body.scrollLeft/scrollTop
function getScroll(w, top) {
  var ret = w['page' + (top ? 'Y' : 'X') + 'Offset'];
  var method = 'scroll' + (top ? 'Top' : 'Left');
  if (typeof ret !== 'number') {
    var d = w.document;
    ret = d.documentElement[method];
    if (typeof ret !== 'number') {
      ret = d.body[method];
    }
  }
  return ret;
}

export default function Dialog(props) {
  const {title, onClose, children, onSure, onCancel, ref, footer} = props
  const [show, setShow] = useState(false)
  const [display, setDisplay] = useState(false)
  const wrapperRef = useRef(null)
  const modal = useRef(null)

  useImperativeHandle(ref, () => ({
    show: () => {
      modal.current.show()
      document.body.style.overflow = 'hidden'
      setShow(true)
      setDisplay(true)
    },
    close
  }))

  function close() {
    setShow(false)
    modal.current.close()
    document.body.style.overflow = 'visible'
  }

  function closeHandler() {
    close()
    onClose && onClose()
  }

  function clickHander(e) {
    e.stopPropagation()
  }

  function sureClickHander(e) {
    e.stopPropagation()
    onSure && onSure()
  }

  function animationendHandler() {
    if (!show) {
      setDisplay(false)
    }
  }

  const cls = clsx('dialog-wrapper', {
    in: show,
    out: !show
  })

  useEffect(() => {
    const node = wrapperRef.current
    if (display && node) {
      const elOffset = offset(node)

      if (mousePosition)
        setTransformOrigin(node, mousePosition.x - elOffset.left + 'px ' + (mousePosition.y - elOffset.top) + 'px')
    }
  }, [display])

  return (
    <Modal ref={modal} onClose={closeHandler}>
      {display ? (
        <div ref={wrapperRef} className={cls} onClick={clickHander} onAnimationEnd={animationendHandler}>
          <header className="flex justify-between items-center mb-2">
            <div className="font-bold text-lg leading-6">
              {title}
            </div>
            <div onClick={closeHandler} className='p-2 rounded-md cursor-pointer transition hover:bg-gray-200'>
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5}
                   stroke="currentColor" className="size-5">
                <path strokeLinecap="round" strokeLinejoin="round" d="M6 18 18 6M6 6l12 12"/>
              </svg>
            </div>
          </header>
          <section className="leading-6">
            {children}
          </section>
          {footer || (
            <footer className="text-end mt-4">
              <Button primary onClick={sureClickHander}>确认</Button>
            </footer>
          )}

        </div>
      ) : null}
    </Modal>
  )
}
`,YB=`import { useState, useImperativeHandle} from "react";
import s from './index.module.css'
import {createPortal} from 'react-dom'
import clsx from 'clsx'

export default function Modal(props) {
  const {onClose, children, ref} = props
  const [show, setShow] = useState(false)
  const [display, setDisplay] = useState(false)

  useImperativeHandle(ref, () => ({
    show: () => {
      setShow(true);
      document.body.style.overflow = 'hidden'
      setDisplay(true)
    },
    close: () => {
      document.body.style.overflow = 'visible'
      setShow(false)
    }
  }))

  const cls = clsx(s.modal, {
    [s.in]: show,
    [s.out]: !show
  })

  function __animationendHandler() {
    if (!show) setDisplay(false)
  }

  function __closeHandler() {
    setShow(false)
    onClose && onClose()
  }

  if (!display) { return null }

  return (
    <>
      {
        createPortal(
          <div
            className={cls}
            onAnimationEnd={__animationendHandler}
            onClick={__closeHandler}
          >{children}</div>, document.body
        )
      }
    </>
  )
}
`;function VB(){const t=j.useRef(null);return i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{onClick:()=>t.current.show(),className:"ml-3",children:"点击弹窗显示"}),i.jsx(Zd,{ref:t,children:i.jsx("div",{className:"bg-white p-4 max-w-xl mt-48 mx-auto rounded",children:"这是一个小弹窗"})})]})}function Qb(){const t=j.useRef(null);return i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{onClick:()=>t.current.show(),className:"ml-3",children:"点击我，显示对话框组件"}),i.jsxs(Ya,{ref:t,title:"Message For You",onSure:()=>t.current.close(),children:[i.jsx("strong",{className:"text-red-500",children:"React 19"})," 是全网学习体验最好的小册，没有之一。它能帮助你快速领悟到 React 的独特的开发魅力，你将会感受到更快的学习速度，更高效的开发速度，更专业的开发思维。",i.jsx("div",{className:"mt-4",children:i.jsx("img",{src:"https://images.unsplash.com/photo-1485856407642-7f9ba0268b51?q=80&w=3540&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:""})})]})]})}function Ab(t){const e={code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(ne,{children:i.jsx(Qb,{})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"基于 ref 封装一个 Madal 组件"})}),`
`,i.jsxs(e.p,{children:["我们的目标是封装一个 Modal 组件，但是我并不需要传入 ",i.jsx(e.code,{children:"show"})," 等状态来控制 Modal 的显示与隐藏。而是使用 ref 来控制。目标代码如下"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import { useRef } from 'react'
import Modal from 'components/Modal'

export default function Task() {
  const modal = useRef(null)
  return (
    <div className='flex justify-between'>
      <button
        onClick={() => modal.current.show()}
        className='ml-3'
      >点击弹窗显示</button>
      <Modal ref={modal}>
        <div className='bg-white p-4 max-w-xl mt-48 mx-auto rounded'>
          这是一个小弹窗
        </div>
      </Modal>
    </div>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["这里的核心是，当我想要让弹窗显示时，只需要调用 ",i.jsx(e.code,{children:"modal.current.show()"})," 即可。这种方式可以有效避免在应用层组件中声明过多的状态来控制一切。"]}),`
`,i.jsx(e.p,{children:"演示案例如下："}),`
`,i.jsx(ne,{children:i.jsx(VB,{})}),`
`,i.jsx(e.p,{children:"对于刚接触 React 的新人来说，要实现这种带有动画的显示隐藏效果比较困难。我们这里就简单来拆解一下实现思路。"}),`
`,i.jsxs(e.p,{children:["首先，基于数据驱动 UI 的思路，那么在弹窗组件内部，我们肯定要首先定义一个状态 ",i.jsx(e.code,{children:"show"}),"， 用于控制弹窗的显示与隐藏。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function Modal() {
  const [show, setShow] = useState(false)
  ...
}
`})}),`
`,i.jsx(e.p,{children:"接下来估计部分道友就比较懵了，因为如果只是靠 show 的话，如何与动画结合起来考虑呢？很显然，隐藏的时候，我们最终要删除节点，但是节点删除之后，动画就直接消失了。因此在这个逻辑里，我们要分成两个步骤来处理动画的执行与节点的删除。"}),`
`,i.jsx(e.p,{children:"首先，在弹窗显示时，应该是先将 DOM 节点加入进来，然后再执行入场动画"}),`
`,i.jsx(e.p,{children:"在弹窗消失时，应该是先执行退场动画，然后再将 DOM 节点删除。"}),`
`,i.jsx(e.p,{children:"因此，这个时候，我们还需要引入另外一个状态用于分别控制动画的执行。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function Modal() {
  // 控制动画的执行
  const [show, setShow] = useState(false)
  // 控制节点的增删
  const [display, setDisplay] = useState(false)
  ...
}
`})}),`
`,i.jsxs(e.p,{children:["由于 show 我们约定是用来控制动画的执行，因此，在 css 上，我们根据 ",i.jsx(e.code,{children:"show"})," 的值来确定在 class 中加入入场动画还是退场动画"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const cls = clsx(s.modal, {
  [s.in]: show,
  [s.out]: !show
})
`})}),`
`,i.jsx(e.p,{children:"然后在入场时，首先要新增节点，并且立即执行动画"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`show: () => { setShow(true); setDisplay(true) }
`})}),`
`,i.jsx(e.p,{children:"在退场时，首先要执行动画，并在动画执行结束之后，再执行删除节点的操作"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`close: () => { setShow(false) }

...

function __animationendHandler() {
  if (!show) setDisplay(false)
}
`})}),`
`,i.jsx(e.p,{children:"这样，把逻辑稍微再整理一下，就能够实现动画效果了。"}),`
`,i.jsxs(e.p,{children:["当然，本次案例最核心的重点，还是使用 ",i.jsx(e.code,{children:"useImperativeHandle"})," 把内部的操作提供给外部的控制器 ref"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`useImperativeHandle(ref, () => ({
  show: () => { setShow(true); setDisplay(true) },
  close: () => { setShow(false) }
}))
`})}),`
`,i.jsxs(e.p,{children:["完整代码请看右侧案例中的 ",i.jsx(e.code,{children:"Modal.jsx"})]}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"基于 Modal 封装 Dialog 组件"})}),`
`,i.jsx(e.p,{children:"先来点击按钮感受一下演示效果。"}),`
`,i.jsx(ne,{children:i.jsx(Qb,{})}),`
`,i.jsx(e.p,{children:"这个案例中，比较有难度的是我们记录了鼠标的点击位置，并基于该位置对内部元素进行放大显示。退场时，还要往这个位置进行缩小隐藏。原理并不复杂，只是如果自己实现的话，要稍微花点时间调一下位置的计算。大家在使用时可以直接 copy 这段代码就行，我在兼容性上也做了完整的处理。"}),`
`,i.jsx(e.p,{children:"动画是基于缩放 scale 来实现，这里我们只需要基于鼠标点击的位置和目标位置更改变换中心即可，具体的计算细节请看右侧代码。动画 css 代码如下所示。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-css",children:`.dialog.in {
  animation-name: dialog-show;
}
.dialog.out {
  animation-name: dialog-hide;
}

@keyframes dialog-show {
  0% {transform: scale(1); opacity: 0;}
  1% { transform: scale(0);}
  100% { transform: scale(1); opacity: 1; }
}
@keyframes dialog-hide {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(0); opacity: 0; }
}
`})}),`
`,i.jsxs(e.p,{children:["这里我们需要观察的是，ref 的多层传递和使用。在我们使用 ",i.jsx(e.code,{children:"Modal"})," 时，并不需要特别关注 ref 在内部是如何处理的，只需要知道如何使用它即可。我们可以利用这种思维把类似的嵌套逻辑简化成单一逻辑。"]}),`
`,i.jsxs(e.p,{children:["最终的代码请看右侧案例中的 ",i.jsx(e.code,{children:"Dialog.jsx"})]})]})}function WB(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Ab,{...t})}):Ab(t)}const HB={"App.js":UB,"Dialog.jsx":qB,"Modal.jsx":YB};function IB(){return i.jsx(Ee,{files:HB,hidePreview:!0,renderArticle:t=>i.jsx(WB,{components:{code:t}})})}const GB=`import Provider from './context'
import Task from './task'

export default function App() {
  return (
    <Provider>
      <h3 className='font-bold'>Your Task</h3>
      <p className='!text-gray-400'>Here's a task for you!</p>
      <Task />
    </Provider>
  )
}
`,FB=`import {createContext, useState} from 'react'

const def = {
  task: 'TASK-8878',
  content: 'Try to calculate the EXE feed, maybe it will index the multi-byte pixel!',
  status: 'Progress',
  priority: 'Medium'
}

export const Context = createContext({})

export default function Provider({ children }) {
  const [task, updateTask] = useState(def)

  return (
    <Context value={{task, updateTask}}>{children}</Context>
  )
}
`,JB=`import { useRef, use } from 'react'
import Editor from './editor'
import {Context} from './context'

export default function Demo03() {
  const editor = useRef(null)
  const {task} = use(Context)

  return (
    <div className='flex items-center border-t pt-4'>
      <div className='font-bold'>{task.task}</div>
      <div className='flex-1 mx-3 line-clamp-1'>{task.content}</div>
      <div className='text-green-500'>{task.status}</div>

      <button
        onClick={() => editor.current.show()}
        className='ml-3'
      >edit</button>
      <Editor ref={editor} title='Editor' />
    </div>
  )
}
`,KB=`import { use } from 'react'
import Dialog from 'components/Dialog'
import {Context} from './context.jsx'

export default function Editor(props) {
  const {ref, ...other} = props
  const {task, updateTask} = use(Context)

  function __inputchange(e) {
    updateTask({
      ...task,
      content: e.target.value,
    })
  }

  return (
    <Dialog ref={ref} {...other} onSure={() => ref.current.close()}>
      <div className='flex items-center'>
        <div className='w-20'>name</div>
        <div className='flex-1 p-2 text-sm font-bold'>{task.task}</div>
      </div>

      <div className='flex items-center mt-4'>
        <div className='w-20'>content</div>
        <input
          value={task.content}
          className='flex-1 border rounded-md p-2 text-sm'
          onChange={__inputchange}
        />
      </div>

      <div className='flex items-center mt-4'>
        <div className='w-20'>status</div>
        <div className='flex-1 p-2 text-sm text-green-500'>{task.status}</div>
      </div>

      <div className='flex items-center mt-4'>
        <div className='w-20'>Priority</div>
        <div className='flex-1 p-2 text-sm text-red-500'>{task.priority}</div>
      </div>
    </Dialog>
  )
}
`,eX={task:"TASK-8878",content:"Try to calculate the EXE feed, maybe it will index the multi-byte pixel!",status:"Progress",priority:"Medium"},H0=j.createContext({});function tX({children:t}){const[e,n]=j.useState(eX);return i.jsx(H0,{value:{task:e,updateTask:n},children:t})}function nX(t){const{ref:e,...n}=t,{task:r,updateTask:s}=j.use(H0);function a(l){s({...r,content:l.target.value})}return i.jsxs(Ya,{ref:e,...n,onSure:()=>e.current.close(),children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-20",children:"name"}),i.jsx("div",{className:"flex-1 p-2 text-sm font-bold",children:r.task})]}),i.jsxs("div",{className:"flex items-center mt-4",children:[i.jsx("div",{className:"w-20",children:"content"}),i.jsx("input",{value:r.content,className:"flex-1 border rounded-md p-2 text-sm",onChange:a})]}),i.jsxs("div",{className:"flex items-center mt-4",children:[i.jsx("div",{className:"w-20",children:"status"}),i.jsx("div",{className:"flex-1 p-2 text-sm text-green-500",children:r.status})]}),i.jsxs("div",{className:"flex items-center mt-4",children:[i.jsx("div",{className:"w-20",children:"Priority"}),i.jsx("div",{className:"flex-1 p-2 text-sm text-red-500",children:r.priority})]})]})}function rX(){const t=j.useRef(null),{task:e}=j.use(H0);return i.jsxs("div",{className:"flex items-center border-t pt-4",children:[i.jsx("div",{className:"font-bold",children:e.task}),i.jsx("div",{className:"flex-1 mx-3 line-clamp-1",children:e.content}),i.jsx("div",{className:"text-green-500",children:e.status}),i.jsx("button",{onClick:()=>t.current.show(),className:"ml-3",children:"edit"}),i.jsx(nX,{ref:t,title:"Editor"})]})}function Pb(){return i.jsxs(tX,{children:[i.jsx("h3",{className:"font-bold",children:"Your Task"}),i.jsx("p",{className:"!text-gray-400",children:"Here's a task for you!"}),i.jsx(rX,{})]})}function _b(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(ne,{children:i.jsx(Pb,{})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"0"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"改动"})}),`
`,i.jsx(e.p,{children:"与之前的版本相比，在 React19 中，context 有一些细微的变化。主要体现在如下三个方面。"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"1、删除旧版 Context"})}),`
`,i.jsx(e.p,{children:"旧版本的 Context 在 2018 年 10 月（v16.6.0）被废弃。但是为了保证平滑的升级，旧版代码一直沿用到了现在。在 React 19 中，这些代码会正式被删除。旧版本的 Context 仅在使用 contextTypes 和 getChildContext API 的类组件中可用。因此它的删除对现在的项目应该只会造成很小的影响。"}),`
`,i.jsx(e.p,{children:"如果你在项目中仍然使用了旧版 Context，你可以参考下面新旧版本的对比写法进行调整升级。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// 之前
import PropTypes from 'prop-types';

class Parent extends React.Component {
  static childContextTypes = {
    foo: PropTypes.string.isRequired,
  };

  getChildContext() {
    return { foo: 'bar' };
  }

  render() {
    return <Child />;
  }
}

class Child extends React.Component {
  static contextTypes = {
    foo: PropTypes.string.isRequired,
  };

  render() {
    return <div>{this.context.foo}</div>;
  }
}
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// 之后
const FooContext = React.createContext();

class Parent extends React.Component {
  render() {
    return (
      <FooContext value='bar'>
        <Child />
      </FooContext>
    );
  }
}

class Child extends React.Component {
  static contextType = FooContext;

  render() {
    return <div>{this.context}</div>;
  }
}
`})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"2、简化 Provider 的使用"})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const Context = createContext({})
`})}),`
`,i.jsx(e.p,{children:"在以前的使用中，我们需要使用 Context.Provider 来包裹子组件。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`<Context.Provider value={value}>
  {props.children}
</Context.Provider>
`})}),`
`,i.jsx(e.p,{children:"在 React19 中，我们可以直接使用 Context 来代替 Provider，从而让代表变得更加简洁。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`<Context value={value}>
  {props.children}
</Context>
`})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"3、可以使用 use 获取 context"})}),`
`,i.jsx(e.p,{children:"以前的版本中，在组件内部我们使用 useContext 来获取 context 中的状态。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// after
import { use } from 'react';

function MyComponent() {
  const theme = use(ThemeContext);
  // ...
`})}),`
`,i.jsx(e.h2,{children:"2"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"重学一次 context"})}),`
`,i.jsx(e.p,{children:i.jsx(e.img,{src:"https://files.mdnice.com/user/3925/9cb65ddb-71ee-42c2-8062-347ca8312b92.png",alt:""})}),`
`,i.jsxs(e.p,{children:["在 React 中，props 能够帮助我们将数据层层往下传递。但是，当数据传递太多层之后，不仅代码上比较繁琐，理解上也容易混乱不清。因此，我们需要一种能够",i.jsx(e.strong,{children:"跨越组件层级"}),"让直达子组件的数据传递方式，这就是 context."]}),`
`,i.jsxs(e.p,{children:["context 表示组件实例在运行期间能够",i.jsx(e.strong,{children:"直接读取"}),"的状态和内容。他记录了内存中的活跃数据。我们可以将这些数据使用 ",i.jsx(e.code,{children:"useState"})," 来定义。那么，context 中的数据更改，就会驱动所有使用到该数据的 UI 发生变化。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"context 的学习主要分为如下三个部分"}),`
`,i.jsxs(e.p,{children:[i.jsx(e.strong,{children:"一、"})," 如何创建 context"]}),`
`,i.jsxs(e.p,{children:[i.jsx(e.strong,{children:"二、"})," 顶层组件中如何传递数据"]}),`
`,i.jsxs(e.p,{children:[i.jsx(e.strong,{children:"三、"})," 子组件中如何获取数据"]}),`
`]}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"一、如何创建 context"})}),`
`,i.jsxs(e.p,{children:["我们可以使用 ",i.jsx(e.code,{children:"createContext"})," 来创建 context."]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`const SomeContext = createContext(defaultValue)
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"defaultValue"})," 表示默认值。他可以作为数据的兜底结果。当你无法从 ",i.jsx(e.code,{children:"value"})," 中读取具体的值时，则会使用 ",i.jsx(e.code,{children:"defaultValue"})," 中的值。在代码运行过程中，默认值始终保持不变。如果没有默认值，我们至少需要传入一个 ",i.jsx(e.code,{children:"null"}),"。"]}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"createContext"})," 执行之后的返回值，就是我们需要的 ",i.jsx(e.code,{children:"context"}),"。"]}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"二、如何传递 context"})}),`
`,i.jsx(e.p,{children:"返回的 context 通常是一系列组件的顶层父组件。因此，在使用时，我们通常会首先定义该顶层父组件。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function Provider(props) {
  const value = {...}
  return (
    <SomeContext value={value}>
      {props.children}
    </SomeContext>
  )
}
export default Provider
`})}),`
`,i.jsxs(e.p,{children:["在该顶层父组件中，我们使用刚才创建的 ",i.jsx(e.code,{children:"context"})," 作为父级标签，把子组件包起来。并作为渲染内容返回。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<SomeContext value={value}>
  {props.children}
</SomeContext>
`})}),`
`,i.jsxs(e.p,{children:["此处的 ",i.jsx(e.code,{children:"value"})," 表示我们在上下文中定义好的值。我们可以自己随意定义你想要传递给子组件的所有数据/方法。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"这些数据/方法通常被多个不同的子组件共同使用。否则我们没必要将数据/方法存储在 context 中。"}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`import { createContext } from 'react';

const ThemeContext = createContext('light');

function App() {
  const [theme, setTheme] = useState('light');
  // ...
  return (
    <ThemeContext value={theme}>
      <Page />
    </ThemeContext>
  );
}
`})}),`
`,i.jsxs(e.p,{children:["此时，案例中 ",i.jsx(e.code,{children:"Page"})," 组件的所有后代子组件，都可以直接获取 context 中的值，不管层级有多深。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"value 可以是任何类型，你可以根据自己的项目需要设计合适的数据类型。"}),`
`]}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"三、如何获取 context 中的值"})}),`
`,i.jsxs(e.p,{children:["在任意被包裹的子组件中，我们可以使用 ",i.jsx(e.code,{children:"use"})," 来获取 context 中的值。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function Button() {
  // ✅ Recommended way
  const theme = use(ThemeContext);
  return <button className={theme} />;
}
`})}),`
`,i.jsx(e.p,{children:"获取方法非常简单，接下来，我们使用具体的实践案例来分享 context 的使用。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["需要注意，多个 Context ",i.jsx(e.strong,{children:"可以嵌套使用"}),"，只是在实践中，这种场景不算多见。"]}),`
`]}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"3"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"案例：在弹窗中更改页面的值"})}),`
`,i.jsx(e.p,{children:"学习了 context 的知识之后，我们来结合之前自定义的弹窗组件，一起来实现一下页面最开始的那个案例。"}),`
`,i.jsx(ne,{children:i.jsx(Pb,{})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"由于是演示案例，所以数据比较简单，组件层级也不够深，所以大家把重点关注在 context 的技术学习上即可。并非代表真实实践中需要这样使用。"}),`
`]}),`
`,i.jsx(e.p,{children:"首先，我们创建一个 context 文件，该文件中，我们会创建 Context，并在其中定义好需要传递到各子组件中的去的数据和方法"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const def = {
  task: 'TASK-8878',
  content: 'Try to calculate the EXE feed, maybe it will index the multi-byte pixel!',
  status: 'Progress',
  priority: 'Medium'
}

export const Context = createContext({})

export default function Provider({ children }) {
  const [task, updateTask] = useState(def)

  return (
    <Context value={{task, updateTask}}>{children}</Context>
  )
}
`})}),`
`,i.jsx(e.p,{children:"然后在父组件中，使用 Provider 包裹需要用到的子组件。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import Provider from './context'
import Task from './task'

export default function App() {
  return (
    <Provider>
      <h3 className='font-bold'>Your Task</h3>
      <p className='!text-gray-400'>Here's a task for you!</p>
      <Task />
    </Provider>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["然后在各子组件中，使用 ",i.jsx(e.code,{children:"use(Context)"})," 获取当前组件需要的数据和方法即可"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import { use } from 'react'
import {Context} from './context.jsx'

export default function Editor(props) {
  const {ref, ...other} = props
  const {task, updateTask} = use(Context)
  ...
`})}),`
`,i.jsx(e.p,{children:"完整的代码请查看右侧代码。"}),`
`,i.jsxs(e.p,{children:["这里比较有意思的一个地方是在 ",i.jsx(e.code,{children:"editor.jsx"})," 文件中，对于 ref 的使用和处理，大家可以留心观察一下。"]})]})}function sX(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(_b,{...t})}):_b(t)}const iX={"App.js":GB,"context.jsx":FB,"task.jsx":JB,"editor.jsx":KB};function aX(){return i.jsx(Ee,{files:iX,hidePreview:!0,renderArticle:t=>i.jsx(sX,{components:{code:t}})})}const lX=`import Provider from './context'
import Total from './Total'
import Card from './Card.jsx'
import './skin.css'

export default function App() {
  return (
    <Provider>
      <Total />
      <Card />
      <Card />
      <Card />
    </Provider>
  )
}
`,oX=`import {createContext, useState} from 'react'

export const Context = createContext({})

export default function Provider({ children }) {
  const [count, incrementer] = useState(0)

  const value = {
    count,
    incrementer
  }

  return (
    <Context value={value}>{children}</Context>
  )
}
`,cX=`import {use, useState} from 'react'
import {Context} from './context.jsx'

export default function Total() {
  const {count} = use(Context)
  return (
    <div>
      <h3 className='font-bold'>Total Switch Count</h3>
      <p className='!text-gray-400'>这里统计的是所有组件的切换次数: {count}</p>
    </div>
  )
}
`,uX=`import {use, useState} from 'react'
import {Context} from './context.jsx'
import Switch from 'components/Switch'

export default function Card() {
  const {count, incrementer} = use(Context)
  const [theme, setTheme] = useState('theme-light')
  const [number, setNumber] = useState(0)

  function onSwitch(bool) {
    setTheme(bool ? 'theme-dark' : 'theme-light')
    setNumber(number + 1)
    incrementer(count + 1)
  }

  return (
    <div className={theme}>
      <div className='context-card p-4 rounded transition'>
        <div className="title font-bold">Canary</div>
        <div className='mt-4'>The useActionState Hook is currently only available in React’s Canary and experimental channels. Learn more about release channels here. </div>
      </div>

      <div className='flex justify-between py-4 items-center'>
        <div className='mr-4 text-green-500'>当前组件切换次数: {number}</div>
        <Switch onChange={onSwitch} />
      </div>
    </div>
  )
}
`,dX=`@layer context_count {
  .theme-dark {
    --text-color: rgba(255, 255, 255, 0.8);
    --bg-color: rgba(0, 0, 0, 0.8);
    --border-color: rgba(0, 0, 0, 0.1);
  }
  .theme-light {
    --text-color: rgba(0, 0, 0, 0.88);
    --bg-color: rgba(0, 0, 0, 0.02);
    --border-color: rgba(0, 0, 0, 0.1);
  }
}
.context-card {
  background-color: var(--bg-color);
  border: 1px solid var(--border-color);
  color: var(--text-color);
}
`,I0=j.createContext({});function hX({children:t}){const[e,n]=j.useState(0),r={count:e,incrementer:n};return i.jsx(I0,{value:r,children:t})}function fX(){const{count:t}=j.use(I0);return i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold",children:"Total Switch Count"}),i.jsxs("p",{className:"!text-gray-400",children:["这里统计的是所有组件的切换次数: ",t]})]})}function pX(t){const{value:e=!1,onChange:n}=t,[r,s]=j.useState(e),a=r?"switch right":"switch left";function l(o){s(o),n&&n(o)}return i.jsx("div",{className:a,onClick:()=>l(!r),children:i.jsx("div",{className:"circle"})})}function Df(){const{count:t,incrementer:e}=j.use(I0),[n,r]=j.useState("theme-light"),[s,a]=j.useState(0);function l(o){r(o?"theme-dark":"theme-light"),a(s+1),e(t+1)}return i.jsxs("div",{className:n,children:[i.jsxs("div",{className:"context-card p-4 rounded transition",children:[i.jsx("div",{className:"title font-bold",children:"Canary"}),i.jsx("div",{className:"mt-4",children:"The useActionState Hook is currently only available in React’s Canary and experimental channels. Learn more about release channels here. "})]}),i.jsxs("div",{className:"flex justify-between py-4 items-center",children:[i.jsxs("div",{className:"mr-4 text-green-500",children:["当前组件切换次数: ",s]}),i.jsx(pX,{onChange:l})]})]})}function Eb(){return i.jsxs(hX,{children:[i.jsx(fX,{}),i.jsx(Df,{}),i.jsx(Df,{}),i.jsx(Df,{})]})}function Mb(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(ne,{reload:!0,children:i.jsx(Eb,{})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"0"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"皮肤切换方案"})}),`
`,i.jsx(e.p,{children:"利用 CSS 变量来实现皮肤切换，是目前最简单优雅的方案，也是最流行的方案。"}),`
`,i.jsxs(e.p,{children:["CSS 变量又称之为",i.jsx(e.strong,{children:"自定义属性"}),"。他已经在主流浏览器中被普遍支持，我们可以在许多项目中使用该特性。我们熟知的 antd 中就大量运用了自定义属性。"]}),`
`,i.jsxs(e.p,{children:["声明一个自定义属性，需要以 ",i.jsx(e.code,{children:"--"})," 开头，属性值可以是任何有效的 CSS 值。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-css",children:`element {
  --main-bg-color: brown;
}
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["注意理解这句话：",i.jsx(e.strong,{children:"自定义属性和其他属性一样，是写在规则集之内的。"})," 因此，它的改变，也能触发 transition 动画的执行"]}),`
`]}),`
`,i.jsx(e.p,{children:"并且要注意的是，规则集所指定的选择器定义了自定义属性的可见作用域。通常的最佳实践是定义在根伪类 :root 下，这样就可以在 HTML 文档的任何地方访问到它了"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-css",children:`:root {
  --main-bg-color: brown;
}
`})}),`
`,i.jsx(e.p,{children:"当然，我也应该根据实践运用灵活选择作用域。"}),`
`,i.jsx(e.p,{children:"在本案例中，我们仅定义一个对当前代码生效的自定义属性。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-css",children:`@layer context_count {
  .theme-dark {
    --text-color: rgba(255, 255, 255, 0.8);
    --bg-color: rgba(0, 0, 0, 0.8);
    --border-color: rgba(0, 0, 0, 0.1);
  }
  .theme-light {
    --text-color: rgba(0, 0, 0, 0.88);
    --bg-color: rgba(0, 0, 0, 0.02);
    --border-color: rgba(0, 0, 0, 0.1);
  }
}
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"@layer"})," 表示降低当前属性的优先级，从而不影响其他任何元素的样式。哪怕是同名的也不会受到影响，此时我们将与皮肤属性相关的都自定义在主题中，不同的主题对应不同的属性。"]}),`
`,i.jsx(e.p,{children:"然后运用到具体的元素上"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-css",children:`.context-card {
  background-color: var(--bg-color);
  border: 1px solid var(--border-color);
  color: var(--text-color);
}
`})}),`
`,i.jsx(e.p,{children:"此时，我们只需要构建如下所示的父子关系，然后更改父元素的 className，就可以轻松做到主题切换"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<!-- 所有使用了主题自定义变量的元素，是 \`.theme-light\` 的子元素 -->
<div class='theme-light'>
  <div class='context-card'></div>
</div>
`})}),`
`,i.jsx(e.p,{children:"切换主题时，只需要更改父元素的 class 即可。将其修改成另外一个配置好的主题。"}),`
`,i.jsx(e.p,{children:"有了这些皮肤切换的基础知识之后，我们来结合 context 实现一个皮肤切换并统计切换总次数的案例。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"多个模块皮肤切换总次数统计"})}),`
`,i.jsx(e.p,{children:"首先，我们要创建一个 context，并在 context 中准备好可能会用到的全局数据。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {createContext, useState} from 'react'

export const Context = createContext({})

export default function Provider({ children }) {
  const [count, incrementer] = useState(0)

  const value = {
    count,
    incrementer
  }

  return (
    <Context value={value}>{children}</Context>
  )
}
`})}),`
`,i.jsx(e.p,{children:"然后，我们要在顶层父组件中，使用 Provider 将所有的子组件包裹起来，这里也顺带引入皮肤切换相关的 css 文件"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import Provider from './context'
import Total from './Total'
import Card from './Card.jsx'
import './skin.css'

export default function App() {
  return (
    <Provider>
      <Total />
      <Card />
      <Card />
      <Card />
    </Provider>
  )
}
`})}),`
`,i.jsx(e.p,{children:"最后，我们只需要在子组件中，使用 use 读取对应的数据和方法"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {use, useState} from 'react'
import {Context} from './context.jsx'

export default function Total() {
  const {count} = use(Context)
  return (
    <div>
      <h3 className='font-bold'>Total Switch Count</h3>
      <p className='!text-gray-400'>这里统计的是所有组件的切换次数: {count}</p>
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"演示效果如下，完整代码，请看右侧代码区域。"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(Eb,{})}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"2"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"皮肤切换思路的扩展"})}),`
`,i.jsx(e.p,{children:"我们可以把皮肤切换的方案，扩展到类似于 Switch 组件的实现上。在 Switch 组件中，当我们点击时，除了有颜色相关的样式切换之外，还有元素的位置要发生变化，因此，我们只需要额外多设计一个自定义属性就可以用完全一样的思路来实现这个组件了。"}),`
`,i.jsx(e.p,{children:"代码如下，非常的简洁。演示效果请看上面的皮肤切换案例。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-css",children:`@layer switch {
  .left {
    --bg-color: rgba(0, 0, 0, 0.1);
    --x: 0;
  }

  .right {
    --bg-color: rgba(0, 0, 0, 0.9);
    --x: 24px;
  }
}

.switch {
  @apply p-[1px] border w-14 rounded-full cursor-pointer transition;
  background-color: var(--bg-color);
}

.switch .circle {
  @apply rounded-full w-6 h-6 transition;
  background-color: white;
  transform: translateX(var(--x));
}
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {useState} from 'react'
import './index.css'

export default function Switch(props) {
  const {value = false, onChange} = props
  const [checked, toggle] = useState(value)

  const cls = checked ? 'switch right' : 'switch left'

  function __click(value) {
    toggle(value)
    onChange && onChange(value)
  }

  return (
    <div className={cls} onClick={() => __click(!checked)}>
      <div className='circle'></div>
    </div>
  )
}
`})})]})}function mX(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Mb,{...t})}):Mb(t)}const gX={"App.js":lX,"context.jsx":oX,"Total.jsx":cX,"Card.jsx":uX,"skin.css":dX};function xX(){return i.jsx(Ee,{files:gX,hidePreview:!0,renderArticle:t=>i.jsx(mX,{components:{code:t}})})}const OX=`import {useState, Suspense, useDeferredValue} from 'react'
import Spin from './Spin'
import Skeleton from './Skeleton'
import {fetchListWithCancel} from './api'
import List from './List'
import Input from './Input'

export default function App() {
  const [promise, update] = useState(() => fetchListWithCancel(5))
  const deferred = useDeferredValue(promise)


  function __inputChange(e) {
    promise.cancel()
    const len = e.target.value.length % 5
    update(fetchListWithCancel(len))
  }

  return (
    <div>
      <Input onChange={__inputChange} placeholder='Enter something' />
      <Suspense fallback={<Skeleton />}>
        <Spin loading={deferred !== promise} type='mask'>
          <List promise={deferred} />
        </Spin>
      </Suspense>
    </div>
  )
}
`,vX=`export const fetchList = async (number) => {
  const res = await fetch(\`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`)
  return res.json()
}

export const fetchListWithCancel = (number) => {
  let controller = new AbortController();
  let signal = controller.signal;
  const promise = new Promise(resolve => {
    fetch(
      \`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`,
      {signal}
    ).then(res => {
      resolve(res.json())
    }).catch(() => {
      console.log('接口成功取消！')
    })
  })

  promise.cancel = () => {
    if (controller) {
      controller.abort()
    }
  }
  return promise
}
`,bX=`document.documentElement.style.fontSize = '14px'

export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full mt-4">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,yX=`import { use } from 'react';
export default function CurrentList({promise}) {
  const {results} = use(promise)
  console.log('我会执行几次呢')
  return (
    <div>
      {results.map((item, i) => (
        <div key={\`h\${i}\`} className='flex border p-4 items-center my-4 rounded-md'>
          <img className='w-12 h-12 rounded-full' src={item.picture.large} alt='' />
          <div className='flex-1 ml-4'>
            <div className='font-bold'>{item.name.last}</div>
            <div className='text-gray-400 mt-1 text-sm line-clamp-1'>react 19 re, a design language for background applications</div>
          </div>
        </div>
      ))}
    </div>
  )
}
`,jX=`export default function Input(props) {
  const {...other} = props
  return (
    <div className='flex items-center border px-2 rounded-md text-gray-500'>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-5">
        <path strokeLinecap="round" strokeLinejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
      </svg>

      <input
        className='flex-1 !border-none p-2'
        style={{ outline: 'none' }}
        type='text' {...other}
      />
    </div>
  )
}
`,y3=`import {useState, useEffect} from 'react'
import clsx from 'clsx'
import './index.css'

export default function Index(props) {
  const {loading, type = 'icon'} = props
  const [show, setShow] = useState(false)
  const [display, setDisplay] = useState(false)

  useEffect(() => {
    if (loading) { setShow(true); setDisplay(true)
    } else { setShow(false) }
  }, [loading]);

  const base = 'spin flex items-center justify-center top-0 bg-white bg-opacity-50'
  const cls = clsx(base, {
    in: show,
    out: !show
  })

  function __animationendHandler() {
    if (!show) setDisplay(false)
  }

  return (
    <div className='relative'>
      {props.children}
      {display ? (
        <div className={cls} onAnimationEnd={__animationendHandler}>
          {type === 'icon' && (
            <svg className="animate-spin" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="24" height="24">
              <path d="M249.836 210.77c5.558-3.827 10.73-7.527 15.812-10.695 4.967-3.314 9.807-6.121 14.208-8.785 2.18-1.362 4.374-2.515 6.425-3.673l5.873-3.281c0.945-0.551 1.789-0.953 2.625-1.377l2.425-1.226 4.381-2.233 1.954-1.004 2.219-1.093 3.918-1.924 7.184-3.527c2.883-1.44 5.996-3.272 8.694-5.22 26.969-19.458 33.057-57.094 13.599-84.063-19.458-26.968-57.094-33.057-84.063-13.599l-6.49 4.682-3.54 2.554-2.071 1.499-2.62 1.947-5.824 4.351a7267.87 7267.87 0 0 0-3.193 2.399c-1.091 0.824-2.25 1.676-3.282 2.533a33346.62 33346.62 0 0 1-6.735 5.441c-2.343 1.915-4.833 3.859-7.308 6.046-4.991 4.313-10.423 8.905-15.952 14.121-5.645 5.071-11.353 10.792-17.394 16.739-5.886 6.125-12.079 12.515-18.185 19.505-12.303 13.875-24.827 29.53-36.839 46.835a494.61 494.61 0 0 0-33.896 56.497 491.342 491.342 0 0 0-27.329 64.159c-1.02 2.77-1.888 5.605-2.789 8.428l-2.688 8.477c-1.692 5.691-3.266 11.429-4.857 17.152l-2.135 8.669c-0.683 2.896-1.479 5.756-2.051 8.682l-1.84 8.729-0.914 4.358-0.785 4.387a479.254 479.254 0 0 0-7.583 69.967c-0.302 5.759-0.239 11.514-0.279 17.214l-0.017 4.267c-0.001 1.42 0.069 2.841 0.101 4.257l0.25 8.464 0.127 4.204 0.264 4.188 0.531 8.317 0.278 4.451 0.399 3.933 0.792 7.821c0.14 1.313 0.244 2.561 0.412 3.918l0.527 4.098 1.056 8.115c0.185 1.337 0.33 2.695 0.549 4.002l0.648 3.91 1.289 7.744c1.825 10.246 3.911 20.188 6.263 29.766a463.195 463.195 0 0 0 16.342 52.81l2.255 5.904 1.108 2.899 1.186 2.836 4.611 10.976c3.247 7.033 6.19 13.723 9.353 19.831 6.048 12.328 12.043 22.661 17.007 31.096 5.121 8.359 9.212 14.84 12.197 19.141l4.472 6.638-3.293-7.292c-2.209-4.713-5.148-11.776-8.748-20.761-3.443-9.059-7.545-20.055-11.346-32.919-2.041-6.376-3.771-13.301-5.726-20.516l-2.612-11.204-0.667-2.878-0.583-2.935-1.183-5.957c-3.105-16.055-5.568-33.549-6.889-52.052-0.668-9.251-1.027-18.753-1.1-28.437l0.03-7.3 0.014-3.67c0.002-1.227 0.084-2.416 0.122-3.629l0.284-7.263 0.139-3.644c0.053-1.229 0.166-2.577 0.247-3.863a35704.717 35704.717 0 0 1 0.798-11.787l0.017-0.247c0.013 0.588 0.018 0.028 0.027 0.098l0.05-0.472 0.101-0.945 0.2-1.891 0.8-7.581 0.4-3.801 0.535-3.801 1.069-7.62c0.187-1.271 0.335-2.545 0.555-3.815l0.67-3.811c0.909-5.082 1.708-10.185 2.859-15.253a424.734 424.734 0 0 1 17.057-60.03l1.316-3.663 1.437-3.623 2.859-7.225c0.907-2.417 2.03-4.761 3.033-7.135l3.079-7.082c2.208-4.653 4.37-9.295 6.624-13.867l3.508-6.783c1.167-2.252 2.294-4.513 3.565-6.702a414.503 414.503 0 0 1 31.89-49.502 407.116 407.116 0 0 1 35.476-41.25 406.598 406.598 0 0 1 35.793-32.288c5.751-4.687 11.515-8.857 16.918-12.861zM1023.966 510.486l-0.001-0.005-0.875-7.954-1.051-9.554-0.687-6.125-1.153-8.152c-0.828-5.729-1.741-12.089-2.813-18.907l-4.259-20.887c-0.691-3.726-1.738-7.517-2.729-11.425l-3.102-12.024c-0.558-2.048-1.019-4.142-1.677-6.221l-1.958-6.314-4.07-13.021-1.049-3.333-1.211-3.324c-0.814-2.223-1.638-4.467-2.469-6.732-1.673-4.522-3.34-9.131-5.115-13.781l-5.938-13.981-3.046-7.123c-1.037-2.384-2.247-4.72-3.375-7.102l-6.997-14.388c-0.569-1.22-1.222-2.408-1.877-3.598l-1.958-3.583-3.95-7.211-3.995-7.265c-1.354-2.422-2.881-4.773-4.324-7.175l-8.875-14.427c-12.567-18.998-26.533-37.793-42.018-55.643-15.662-17.71-32.638-34.534-50.581-50.045a527.617 527.617 0 0 0-56.726-41.602c-19.622-12.201-39.702-22.647-59.484-31.64l-14.925-6.188c-2.47-0.995-4.881-2.072-7.356-2.979l-7.402-2.651-7.306-2.609-3.615-1.289c-1.198-0.434-2.394-0.863-3.618-1.21l-14.37-4.353c-2.366-0.691-4.68-1.466-7.035-2.069l-7.02-1.754-13.669-3.402c-4.524-0.941-8.985-1.788-13.341-2.655l-6.47-1.271-3.184-0.621-3.186-0.465-12.373-1.797-5.96-0.862c-1.957-0.298-3.928-0.403-5.85-0.61l-11.239-1.057c-3.638-0.329-7.151-0.735-10.598-0.81l-19.18-0.823-16.258 0.11-6.935 0.057c-2.177 0.091-4.219 0.237-6.115 0.34l-9.619 0.566-7.982 0.472 7.959 0.875 9.529 1.05c1.872 0.215 3.884 0.411 6.023 0.683l6.797 1.101 15.801 2.578 18.393 3.951c3.283 0.628 6.614 1.603 10.051 2.514l10.571 2.838c1.801 0.509 3.644 0.92 5.469 1.526l5.542 1.793 11.432 3.697 2.927 0.946 2.914 1.104 5.902 2.242c3.965 1.517 8.007 3.017 12.084 4.613l12.243 5.366 6.241 2.733c2.088 0.929 4.128 2.029 6.212 3.044l12.59 6.277c1.068 0.506 2.106 1.094 3.145 1.685l3.131 1.761 6.302 3.542 6.353 3.568c2.118 1.209 4.165 2.586 6.263 3.878l12.601 7.922c16.565 11.247 32.949 23.681 48.48 37.44a473.639 473.639 0 0 1 43.435 44.87 467.917 467.917 0 0 1 35.892 50.115c10.476 17.304 19.389 34.971 27.062 52.322 1.761 4.404 3.506 8.772 5.234 13.098 0.843 2.166 1.771 4.273 2.532 6.444l2.224 6.49 2.201 6.396 1.093 3.162c0.368 1.047 0.734 2.092 1.019 3.166l3.633 12.572c0.578 2.068 1.242 4.086 1.738 6.146l1.441 6.137 2.829 11.931 2.152 11.645 1.045 5.64 0.514 2.772 0.362 2.779 1.423 10.784 0.697 5.188c0.245 1.704 0.3 3.423 0.458 5.098l0.794 9.786c0.249 3.167 0.584 6.22 0.595 9.223l0.516 16.686-0.346 13.152-0.109 5.579-0.343 6.014-0.567 9.595-0.472 7.988c-0.169 3.219-0.107 6.829 0.256 10.138 3.638 33.056 33.383 56.904 66.438 53.267 33.056-3.637 56.905-33.382 53.268-66.438zM885.176 762.451l-4.868 5.897c-1.711 2.052-3.44 4.238-5.4 6.399-3.858 4.365-7.946 9.128-12.608 13.957-4.517 4.944-9.632 9.919-14.922 15.205-5.467 5.131-11.147 10.547-17.374 15.864-12.349 10.726-26.262 21.624-41.613 32.046a434.435 434.435 0 0 1-50.026 29.303 431.157 431.157 0 0 1-56.59 23.39c-2.436 0.874-4.935 1.6-7.419 2.361l-7.455 2.279c-5.006 1.425-10.053 2.742-15.078 4.091-2.536 0.593-5.075 1.187-7.617 1.78-2.545 0.566-5.051 1.25-7.622 1.714l-7.663 1.523-3.822 0.763-3.851 0.64a419.278 419.278 0 0 1-61.304 5.938c-5.039 0.219-10.081 0.088-15.068 0.072l-3.733-0.022c-1.238-0.012-2.392-0.1-3.587-0.145l-7.067-0.313-3.505-0.146-3.997-0.27-7.961-0.537-1.981-0.133-0.989-0.067-0.494-0.033c0.221-0.008-0.844-0.005 0.433-0.022l-0.226-0.025-3.593-0.396-7.127-0.78a406.62 406.62 0 0 1-53.494-10.013 402.48 402.48 0 0 1-45.808-14.792l-5.111-2.022-2.511-0.99-2.452-1.066-9.494-4.124c-6.074-2.917-11.861-5.522-17.131-8.352-10.648-5.379-19.552-10.718-26.826-15.11l-1.338-0.807a1085.391 1085.391 0 0 0-3.457-2.276l-4.116-2.687c-0.638-0.414-1.252-0.813-1.842-1.194l-2.021-1.354-3.621-2.439-6.637-4.472c-2.685-1.782-5.825-3.567-8.857-4.938-30.307-13.689-65.973-0.218-79.662 30.089-13.689 30.308-0.218 65.974 30.089 79.663l7.293 3.294 3.979 1.797 2.369 1.063 2.994 1.302c2.073 0.896 4.3 1.857 6.676 2.885l3.672 1.574 1.917 0.819 1.9 0.745c10.22 4.014 22.646 8.772 37.189 13.242 7.215 2.375 15.042 4.443 23.216 6.727l12.687 3.1 3.261 0.787 3.325 0.701 6.75 1.415c18.195 3.715 38.044 6.719 59.054 8.439a494.284 494.284 0 0 0 65.863 0.997l8.535-0.519 4.285-0.266 0.268-0.017c1.44-0.02 0.541-0.02 0.927-0.03l0.492-0.051 0.986-0.1 1.977-0.201 7.938-0.807 3.991-0.406 4.502-0.554 9.015-1.133c1.492-0.2 3.034-0.365 4.486-0.598l4.344-0.709c5.795-0.965 11.61-1.832 17.399-3.066a485.178 485.178 0 0 0 68.692-18.701l4.2-1.463 4.157-1.588 8.292-3.176c2.771-1.016 5.468-2.251 8.194-3.37l8.134-3.434c5.351-2.451 10.685-4.869 15.941-7.39l7.805-3.918c2.591-1.307 5.188-2.576 7.712-3.991a474.344 474.344 0 0 0 57.071-35.83 467.174 467.174 0 0 0 47.72-40.068 466.596 466.596 0 0 0 37.51-40.586c5.455-6.542 10.335-13.082 14.998-19.24 4.483-6.313 8.789-12.218 12.512-18 3.868-5.667 7.179-11.177 10.297-16.204 1.589-2.492 2.957-4.989 4.318-7.332 1.349-2.348 2.635-4.586 3.854-6.711 4.686-8.611 8.271-15.384 10.509-20.116l3.527-7.185-4.682 6.489c-2.985 4.266-7.65 10.33-13.635 17.935z"></path>
            </svg>
          )}
        </div>
      ) : null}
    </div>
  )
}
`,j3=`.spin {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  right: 0;
  
  animation-duration: 400ms;
  z-index: 1000;
}
.spin.in {
  animation-name: show;
}

.spin.out {
  animation-name: hide;
  animation-fill-mode: forwards;
}

@keyframes show {
  0% { opacity: 0 }
  100% { opacity: 1 }
}
@keyframes hide {
  0% { opacity: 1 }
  100% { opacity: 0 }
}
`;function G0(t){const{loading:e,type:n="icon"}=t,[r,s]=j.useState(!1),[a,l]=j.useState(!1);j.useEffect(()=>{e?(s(!0),l(!0)):s(!1)},[e]);const c=ct("spin flex items-center justify-center top-0 bg-white bg-opacity-50",{in:r,out:!r});function u(){r||l(!1)}return i.jsxs("div",{className:"relative",children:[t.children,a?i.jsx("div",{className:c,onAnimationEnd:u,children:n==="icon"&&i.jsx("svg",{className:"animate-spin",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",children:i.jsx("path",{d:"M249.836 210.77c5.558-3.827 10.73-7.527 15.812-10.695 4.967-3.314 9.807-6.121 14.208-8.785 2.18-1.362 4.374-2.515 6.425-3.673l5.873-3.281c0.945-0.551 1.789-0.953 2.625-1.377l2.425-1.226 4.381-2.233 1.954-1.004 2.219-1.093 3.918-1.924 7.184-3.527c2.883-1.44 5.996-3.272 8.694-5.22 26.969-19.458 33.057-57.094 13.599-84.063-19.458-26.968-57.094-33.057-84.063-13.599l-6.49 4.682-3.54 2.554-2.071 1.499-2.62 1.947-5.824 4.351a7267.87 7267.87 0 0 0-3.193 2.399c-1.091 0.824-2.25 1.676-3.282 2.533a33346.62 33346.62 0 0 1-6.735 5.441c-2.343 1.915-4.833 3.859-7.308 6.046-4.991 4.313-10.423 8.905-15.952 14.121-5.645 5.071-11.353 10.792-17.394 16.739-5.886 6.125-12.079 12.515-18.185 19.505-12.303 13.875-24.827 29.53-36.839 46.835a494.61 494.61 0 0 0-33.896 56.497 491.342 491.342 0 0 0-27.329 64.159c-1.02 2.77-1.888 5.605-2.789 8.428l-2.688 8.477c-1.692 5.691-3.266 11.429-4.857 17.152l-2.135 8.669c-0.683 2.896-1.479 5.756-2.051 8.682l-1.84 8.729-0.914 4.358-0.785 4.387a479.254 479.254 0 0 0-7.583 69.967c-0.302 5.759-0.239 11.514-0.279 17.214l-0.017 4.267c-0.001 1.42 0.069 2.841 0.101 4.257l0.25 8.464 0.127 4.204 0.264 4.188 0.531 8.317 0.278 4.451 0.399 3.933 0.792 7.821c0.14 1.313 0.244 2.561 0.412 3.918l0.527 4.098 1.056 8.115c0.185 1.337 0.33 2.695 0.549 4.002l0.648 3.91 1.289 7.744c1.825 10.246 3.911 20.188 6.263 29.766a463.195 463.195 0 0 0 16.342 52.81l2.255 5.904 1.108 2.899 1.186 2.836 4.611 10.976c3.247 7.033 6.19 13.723 9.353 19.831 6.048 12.328 12.043 22.661 17.007 31.096 5.121 8.359 9.212 14.84 12.197 19.141l4.472 6.638-3.293-7.292c-2.209-4.713-5.148-11.776-8.748-20.761-3.443-9.059-7.545-20.055-11.346-32.919-2.041-6.376-3.771-13.301-5.726-20.516l-2.612-11.204-0.667-2.878-0.583-2.935-1.183-5.957c-3.105-16.055-5.568-33.549-6.889-52.052-0.668-9.251-1.027-18.753-1.1-28.437l0.03-7.3 0.014-3.67c0.002-1.227 0.084-2.416 0.122-3.629l0.284-7.263 0.139-3.644c0.053-1.229 0.166-2.577 0.247-3.863a35704.717 35704.717 0 0 1 0.798-11.787l0.017-0.247c0.013 0.588 0.018 0.028 0.027 0.098l0.05-0.472 0.101-0.945 0.2-1.891 0.8-7.581 0.4-3.801 0.535-3.801 1.069-7.62c0.187-1.271 0.335-2.545 0.555-3.815l0.67-3.811c0.909-5.082 1.708-10.185 2.859-15.253a424.734 424.734 0 0 1 17.057-60.03l1.316-3.663 1.437-3.623 2.859-7.225c0.907-2.417 2.03-4.761 3.033-7.135l3.079-7.082c2.208-4.653 4.37-9.295 6.624-13.867l3.508-6.783c1.167-2.252 2.294-4.513 3.565-6.702a414.503 414.503 0 0 1 31.89-49.502 407.116 407.116 0 0 1 35.476-41.25 406.598 406.598 0 0 1 35.793-32.288c5.751-4.687 11.515-8.857 16.918-12.861zM1023.966 510.486l-0.001-0.005-0.875-7.954-1.051-9.554-0.687-6.125-1.153-8.152c-0.828-5.729-1.741-12.089-2.813-18.907l-4.259-20.887c-0.691-3.726-1.738-7.517-2.729-11.425l-3.102-12.024c-0.558-2.048-1.019-4.142-1.677-6.221l-1.958-6.314-4.07-13.021-1.049-3.333-1.211-3.324c-0.814-2.223-1.638-4.467-2.469-6.732-1.673-4.522-3.34-9.131-5.115-13.781l-5.938-13.981-3.046-7.123c-1.037-2.384-2.247-4.72-3.375-7.102l-6.997-14.388c-0.569-1.22-1.222-2.408-1.877-3.598l-1.958-3.583-3.95-7.211-3.995-7.265c-1.354-2.422-2.881-4.773-4.324-7.175l-8.875-14.427c-12.567-18.998-26.533-37.793-42.018-55.643-15.662-17.71-32.638-34.534-50.581-50.045a527.617 527.617 0 0 0-56.726-41.602c-19.622-12.201-39.702-22.647-59.484-31.64l-14.925-6.188c-2.47-0.995-4.881-2.072-7.356-2.979l-7.402-2.651-7.306-2.609-3.615-1.289c-1.198-0.434-2.394-0.863-3.618-1.21l-14.37-4.353c-2.366-0.691-4.68-1.466-7.035-2.069l-7.02-1.754-13.669-3.402c-4.524-0.941-8.985-1.788-13.341-2.655l-6.47-1.271-3.184-0.621-3.186-0.465-12.373-1.797-5.96-0.862c-1.957-0.298-3.928-0.403-5.85-0.61l-11.239-1.057c-3.638-0.329-7.151-0.735-10.598-0.81l-19.18-0.823-16.258 0.11-6.935 0.057c-2.177 0.091-4.219 0.237-6.115 0.34l-9.619 0.566-7.982 0.472 7.959 0.875 9.529 1.05c1.872 0.215 3.884 0.411 6.023 0.683l6.797 1.101 15.801 2.578 18.393 3.951c3.283 0.628 6.614 1.603 10.051 2.514l10.571 2.838c1.801 0.509 3.644 0.92 5.469 1.526l5.542 1.793 11.432 3.697 2.927 0.946 2.914 1.104 5.902 2.242c3.965 1.517 8.007 3.017 12.084 4.613l12.243 5.366 6.241 2.733c2.088 0.929 4.128 2.029 6.212 3.044l12.59 6.277c1.068 0.506 2.106 1.094 3.145 1.685l3.131 1.761 6.302 3.542 6.353 3.568c2.118 1.209 4.165 2.586 6.263 3.878l12.601 7.922c16.565 11.247 32.949 23.681 48.48 37.44a473.639 473.639 0 0 1 43.435 44.87 467.917 467.917 0 0 1 35.892 50.115c10.476 17.304 19.389 34.971 27.062 52.322 1.761 4.404 3.506 8.772 5.234 13.098 0.843 2.166 1.771 4.273 2.532 6.444l2.224 6.49 2.201 6.396 1.093 3.162c0.368 1.047 0.734 2.092 1.019 3.166l3.633 12.572c0.578 2.068 1.242 4.086 1.738 6.146l1.441 6.137 2.829 11.931 2.152 11.645 1.045 5.64 0.514 2.772 0.362 2.779 1.423 10.784 0.697 5.188c0.245 1.704 0.3 3.423 0.458 5.098l0.794 9.786c0.249 3.167 0.584 6.22 0.595 9.223l0.516 16.686-0.346 13.152-0.109 5.579-0.343 6.014-0.567 9.595-0.472 7.988c-0.169 3.219-0.107 6.829 0.256 10.138 3.638 33.056 33.383 56.904 66.438 53.267 33.056-3.637 56.905-33.382 53.268-66.438zM885.176 762.451l-4.868 5.897c-1.711 2.052-3.44 4.238-5.4 6.399-3.858 4.365-7.946 9.128-12.608 13.957-4.517 4.944-9.632 9.919-14.922 15.205-5.467 5.131-11.147 10.547-17.374 15.864-12.349 10.726-26.262 21.624-41.613 32.046a434.435 434.435 0 0 1-50.026 29.303 431.157 431.157 0 0 1-56.59 23.39c-2.436 0.874-4.935 1.6-7.419 2.361l-7.455 2.279c-5.006 1.425-10.053 2.742-15.078 4.091-2.536 0.593-5.075 1.187-7.617 1.78-2.545 0.566-5.051 1.25-7.622 1.714l-7.663 1.523-3.822 0.763-3.851 0.64a419.278 419.278 0 0 1-61.304 5.938c-5.039 0.219-10.081 0.088-15.068 0.072l-3.733-0.022c-1.238-0.012-2.392-0.1-3.587-0.145l-7.067-0.313-3.505-0.146-3.997-0.27-7.961-0.537-1.981-0.133-0.989-0.067-0.494-0.033c0.221-0.008-0.844-0.005 0.433-0.022l-0.226-0.025-3.593-0.396-7.127-0.78a406.62 406.62 0 0 1-53.494-10.013 402.48 402.48 0 0 1-45.808-14.792l-5.111-2.022-2.511-0.99-2.452-1.066-9.494-4.124c-6.074-2.917-11.861-5.522-17.131-8.352-10.648-5.379-19.552-10.718-26.826-15.11l-1.338-0.807a1085.391 1085.391 0 0 0-3.457-2.276l-4.116-2.687c-0.638-0.414-1.252-0.813-1.842-1.194l-2.021-1.354-3.621-2.439-6.637-4.472c-2.685-1.782-5.825-3.567-8.857-4.938-30.307-13.689-65.973-0.218-79.662 30.089-13.689 30.308-0.218 65.974 30.089 79.663l7.293 3.294 3.979 1.797 2.369 1.063 2.994 1.302c2.073 0.896 4.3 1.857 6.676 2.885l3.672 1.574 1.917 0.819 1.9 0.745c10.22 4.014 22.646 8.772 37.189 13.242 7.215 2.375 15.042 4.443 23.216 6.727l12.687 3.1 3.261 0.787 3.325 0.701 6.75 1.415c18.195 3.715 38.044 6.719 59.054 8.439a494.284 494.284 0 0 0 65.863 0.997l8.535-0.519 4.285-0.266 0.268-0.017c1.44-0.02 0.541-0.02 0.927-0.03l0.492-0.051 0.986-0.1 1.977-0.201 7.938-0.807 3.991-0.406 4.502-0.554 9.015-1.133c1.492-0.2 3.034-0.365 4.486-0.598l4.344-0.709c5.795-0.965 11.61-1.832 17.399-3.066a485.178 485.178 0 0 0 68.692-18.701l4.2-1.463 4.157-1.588 8.292-3.176c2.771-1.016 5.468-2.251 8.194-3.37l8.134-3.434c5.351-2.451 10.685-4.869 15.941-7.39l7.805-3.918c2.591-1.307 5.188-2.576 7.712-3.991a474.344 474.344 0 0 0 57.071-35.83 467.174 467.174 0 0 0 47.72-40.068 466.596 466.596 0 0 0 37.51-40.586c5.455-6.542 10.335-13.082 14.998-19.24 4.483-6.313 8.789-12.218 12.512-18 3.868-5.667 7.179-11.177 10.297-16.204 1.589-2.492 2.957-4.989 4.318-7.332 1.349-2.348 2.635-4.586 3.854-6.711 4.686-8.611 8.271-15.384 10.509-20.116l3.527-7.185-4.682 6.489c-2.985 4.266-7.65 10.33-13.635 17.935z"})})}):null]})}document.documentElement.style.fontSize="14px";function S3(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full mt-4",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}const xd=t=>{let e=new AbortController,n=e.signal;const r=new Promise(s=>{fetch(`https://randomuser.me/api/?results=${t}&inc=name,gender,email,nat,picture&noinfo`,{signal:n}).then(a=>{s(a.json())}).catch(()=>{console.log("接口成功取消！")})});return r.cancel=()=>{e&&e.abort()},r};function w3({promise:t}){const{results:e}=j.use(t);return console.log("我会执行几次呢"),i.jsx("div",{children:e.map((n,r)=>i.jsxs("div",{className:"flex border p-4 items-center my-4 rounded-md",children:[i.jsx("img",{className:"w-12 h-12 rounded-full",src:n.picture.large,alt:""}),i.jsxs("div",{className:"flex-1 ml-4",children:[i.jsx("div",{className:"font-bold",children:n.name.last}),i.jsx("div",{className:"text-gray-400 mt-1 text-sm line-clamp-1",children:"react 19 re, a design language for background applications"})]})]},`h${r}`))})}function k3(t){const{...e}=t;return i.jsxs("div",{className:"flex items-center border px-2 rounded-md text-gray-500",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),i.jsx("input",{className:"flex-1 !border-none p-2",style:{outline:"none"},type:"text",...e})]})}function SX(){const[t,e]=j.useState(()=>xd(5)),n=j.useDeferredValue(t);function r(s){t.cancel();const a=s.target.value.length%5;e(xd(a))}return i.jsxs("div",{children:[i.jsx(k3,{onChange:r,placeholder:"Enter something"}),i.jsx(j.Suspense,{fallback:i.jsx(S3,{}),children:i.jsx(G0,{loading:n!==t,type:"mask",children:i.jsx(w3,{promise:n})})})]})}function wX(){const[t,e]=j.useState(()=>xd(5));function n(r){t.cancel();const s=r.target.value.length%5;e(xd(s))}return i.jsxs("div",{children:[i.jsx(k3,{onChange:n,placeholder:"Enter something"}),i.jsx(j.Suspense,{fallback:i.jsx(S3,{}),children:i.jsx(w3,{promise:t})})]})}function kX(){const[t,e]=j.useState(0);function n(){e(t+1)}return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("div",{children:["counter: ",t]}),i.jsxs("div",{className:"mt-4",children:["counter: ",t]})]}),i.jsx("button",{onClick:n,children:"counter++"})]})}function $X(){const[t,e]=j.useState(0),n=j.useDeferredValue(t);function r(){e(t+1)}return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("div",{children:["counter: ",t]}),i.jsxs("div",{className:"mt-4",children:["counter: ",n]})]}),i.jsx("button",{onClick:r,children:"counter++"})]})}function NX(){const[t,e]=j.useState(0),n=j.useDeferredValue(t,0);function r(){e(t+1)}return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("div",{children:["counter: ",t]}),i.jsx(CX,{counter:n})]}),i.jsx("button",{onClick:r,children:"counter++"})]})}const CX=({counter:t})=>{const e=performance.now();for(;performance.now()-e<200;);return i.jsxs("div",{className:"mt-4",children:["Deferred: ",t]})};function TX(){const[t,e]=j.useState(0),n=j.useDeferredValue(t);function r(){e(t+1)}return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("div",{children:["counter: ",t]}),i.jsx(RX,{counter:n})]}),i.jsx("button",{onClick:r,children:"counter++"})]})}const RX=({counter:t})=>{let e=[];for(let n=0;n<200;n++)e.push(i.jsx(QX,{counter:t},n));return i.jsxs("div",{className:"mt-4 text-green-500",children:[i.jsxs("div",{children:["Deferred: ",t]}),i.jsx("ul",{className:"h-32 hidden",children:e})]})};function QX({counter:t}){let e=performance.now();for(;performance.now()-e<1;);return i.jsx("li",{children:t})}function Db(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"重头戏来了！"}),`
`,i.jsx(e.p,{children:"在进一步学习之前，道友们先操作感受一下这个案例中，搜索时 loading 的交互状态。在输入框中，快速输入任意内容。"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(SX,{})}),`
`,i.jsx(e.p,{children:"然后再对比一下前后两种 Loading 交互方式的区别。"}),`
`,i.jsx(ne,{children:i.jsx(wX,{})}),`
`,i.jsx(e.p,{children:"很显然，大多数时候，第一种 Loading 交互方案的体验是更好的。他的具体表现为："}),`
`,i.jsx(e.p,{children:"初始化时，显示 Skeleton 组件，表示此时列表中没有内容，即将加载新的内容进来。"}),`
`,i.jsxs(e.p,{children:[i.jsx(e.strong,{children:"更新时，保持现有列表"}),"，可在此的基础之上显示 Loading/蒙层/透明度，如果你确定接口请求的时间非常短，也可以没有任何 Loading 显示"]}),`
`,i.jsx(e.p,{children:"在前面的学习中，我们利用 Suspense 与 use 轻松做到了第二种交互方案，这种交互方案无论是在初始化还是在更新时，都是通过显示 Skeleton 来表示请求正在发生。接下来，我们需要学习如何利用新的知识，来做到第一种交互方案。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"useDeferredValue"})}),`
`,i.jsx(e.p,{children:"在 React 并发模式的基础之上，我们可以利用 useDeferredValue 在不变动代码顺序的情况之下，推迟指定 UI 更新任务的执行。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"并发模式的基础理论详细学习，你需要关注我的 React 知命境"}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const deferredValue = useDeferredValue(value, initialValue?)
`})}),`
`,i.jsx(e.p,{children:"对于刚接触的道友们来说，useDeferredValue 理解起来比较困难，我们循序渐进的用 4 个案例来理解一下。"}),`
`,i.jsx(e.p,{children:"首先，在正常情况下，一个 state 的变化，会导致 UI 发生变化。例如下面这个案例"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {useState} from 'react'

export default function Index() {
  const [counter, setCounter] = useState(0)

  function __clickHanler() {
    setCounter(counter + 1)
  }

  return (
    <div className='flex justify-between items-center'>
      <div>
        <div>counter: {counter}</div>
        <div className="mt-4">counter: {counter}</div>
      </div>
      <button onClick={__clickHanler}>counter++</button>
    </div>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["这里需要注意的是，状态 ",i.jsx(e.code,{children:"counter"})," 被两个元素使用，因此，这两个元素的更改，实际上是",i.jsx(e.strong,{children:"一个任务"}),"。他们必定会同时响应 counter 的变化。"]}),`
`,i.jsx(e.p,{children:"因此，当你快速点击按钮时，两个元素的变化是快速同时响应"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(kX,{})}),`
`,i.jsx(e.p,{children:"这个时候，我们可以利用 useDeferredValue，把他们拆分成两个任务。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {useState, useDeferredValue} from 'react'

export default function Index() {
  const [counter, setCounter] = useState(0)
  const deferred = useDeferredValue(counter)

  function __clickHanler() {
    setCounter(counter + 1)
  }

  return (
    <div className='flex justify-between items-center'>
      <div>
        <div>counter: {counter}</div>
        <div className='mt-4'>counter: {deferred}</div>
      </div>
      <button onClick={__clickHanler}>counter++</button>
    </div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"注意看，我们使用 counter 作为 useDeferredValue 的初始值，并将其返回值替换第二个元素"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`const deferred = useDeferredValue(counter)
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<div className='mt-4'>counter: {deferred}</div>
`})}),`
`,i.jsx(e.p,{children:"此时，第二个元素的更新，就不再与第一个元素同步。它更新的优先级被降低。这个时候它的执行在理论上是可以被更高的优先级插队和中断的。"}),`
`,i.jsx(e.p,{children:"但是由于渲染都太短了，我们肉眼无法区分出来两个任务已经被分开了，因此，从视觉上的表现结果和刚才的案例没啥区别。"}),`
`,i.jsx(e.p,{children:"快速点击按钮查看一下演示效果"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx($X,{})}),`
`,i.jsx(e.p,{children:"为了看出区别，我们把第二个元素重构成一个子组件，并模拟成一个耗时组件"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {useState, useDeferredValue} from 'react'

export default function Index() {
  const [counter, setCounter] = useState(0)
  const deferred = useDeferredValue(counter, 0)

  function __clickHanler() {
    setCounter(counter + 1)
  }

  return (
    <div className='flex justify-between items-center'>
      <div>
        <div>counter: {counter}</div>
        <Expensive counter={deferred} />
      </div>
      <button onClick={__clickHanler}>counter++</button>
    </div>
  )
}

const Expensive = ({counter}) => {
  const start = performance.now()
  while (performance.now() - start < 200) {}
  return (
    <div className="mt-4">Deferred: {counter}</div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"快速点击按钮，此时我们发现，两个按钮的更新可以区分开了。并且在快速点击时，第二个 counter 的更新，会落后于第一个 counter，此时表示，我们可以利用 useDeferredValue 推迟 UI 的更新。将对应任务的优先级降低，使其可以被插队与中断。"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(NX,{})}),`
`,i.jsxs(e.p,{children:["此时我们也发现另外一个情况，那就是 counter 直接对应的高优先级执行也没有那么流畅，这是为什么呢？其实很简单，因为在我们的模拟案例中，",i.jsx(e.strong,{children:"并没有把耗时定位在渲染上"}),"。这就和实际的情况不太一样了。我们把耗时写在了 Expensive 函数里，而这个函数每次都会执行，它的执行阻塞了渲染。所以我们会觉得第一个 counter 的更新变得比较卡顿"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"所以这里我们一定要区分开渲染任务和 Expensive 函数，他们是不同的，UI 渲染是一个异步任务，而 Expensive 函数是同步执行的。useDeferredValue 推迟的是 UI 渲染任务。因此，我们需要特别注意的是，不要在同步逻辑上执行过多的耗时任务。"}),`
`]}),`
`,i.jsx(e.p,{children:"这里我们可以通过任务拆分的方式，把执行耗时时间分散到更多的子组件中去，这样 React 就可以利用任务中断的机制，在不阻塞渲染的情况下，中断低优先级的任务。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {useState, useDeferredValue} from 'react'

export default function Index() {
  const [counter, setCounter] = useState(0)
  const deferred = useDeferredValue(counter)

  function __clickHanler() {
    setCounter(counter + 1)
  }

  return (
    <div className='flex justify-between items-center'>
      <div>
        <div>counter: {counter}</div>
        <Expensive counter={deferred} />
      </div>
      <button onClick={__clickHanler}>counter++</button>
    </div>
  )
}

const Expensive = ({counter}) => {
  let items = []
  for (let i = 0; i < 200; i++) {
    items.push(<SlowItem key={i} counter={counter} />);
  }

  return (
    <div className='mt-4 text-green-500'>
      <div>Deferred: {counter}</div>
      <ul className='h-32 hidden'>
        {items}
      </ul>
    </div>
  );
}

function SlowItem({counter}) {
  let startTime = performance.now();
  while (performance.now() - startTime < 1) {
    // Do nothing for 1 ms per item to emulate extremely slow code
  }

  return (
    <li>{counter}</li>
  )
}
`})}),`
`,i.jsx(e.p,{children:"再来感受一下演示结果，我们就发现，第一个 counter 的更新也变得非常流畅了。"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(TX,{})}),`
`,i.jsx(e.p,{children:"此时我们注意观察，不要错漏这个细节。slowList 中包含了 250 个子组件。每个子组件都渲染 1ms，那么整个组件渲染就需要耗时至少 250ms."}),`
`,i.jsx(e.p,{children:"在父组件中，我们把 deferred 传递给 Expensive"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<Expensive counter={deferred} />
`})}),`
`,i.jsx(e.p,{children:"那么此时表示，Expensive 的 UI 更新任务是低优先级。counter 对应的任务可以中断它的执行。"}),`
`,i.jsx(e.p,{children:"此时一个很明显的区别就是，counter 的 UI 变化变得更加流畅了。这是因为耗时被拆分到了多个子组件中，React 就有机会中断这些函数的执行，并执行优先级更高的任务，以确保高优先级任务的流畅。"}),`
`,i.jsxs(e.p,{children:["如果你没有使用 React Compiler，你需要使用 memo 手动缓存 ",i.jsx(e.code,{children:"Expensive"}),"。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export default memo(function Expensive({ text }) {
  // ...
});
`})}),`
`,i.jsx(e.p,{children:"当更新发生时，useDefferdValue 会首先使用旧值传递给组件。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<Expensive counter={deferred} />
`})}),`
`,i.jsx(e.p,{children:"因此，当 counter 发生变化时，deferred 依然是旧值，那么此时，如果我们使用 memo 包裹，Expensive 的 props 就没有发生变化，我们可以跳过此次针对 Expensive 的更新。所以当我们快速点击时，Expensive 总是接受到旧值，它本身的渲染也会被中断，因此最终的表现结果是，当我们连续点击 7 次，counter 从 0 依次变成 7，而 deferred 会直接从 0 变成 7."}),`
`,i.jsx(e.p,{children:"这跟 React 的性能优化策略有关。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"2"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"运行原理"})}),`
`,i.jsx(e.p,{children:"看了上面两个例子，肯定还是有一部分人会觉得很懵，不要急，接下来我们把运行原理分析一下，整个情况就清晰了。"}),`
`,i.jsx(e.p,{children:"useDeferredValue 会尝试将 UI 任务更新两次。"}),`
`,i.jsxs(e.p,{children:["第一次，会给子组件传递旧值。此时 ",i.jsx(e.code,{children:"Expensive"})," 接收到的 props 会与上一次完全相同。如果结合了 React.memo，那么该组件就不会重新渲染。该组件可以重复使用之前的渲染结果"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"Compiler 编译之后不需要 memo"}),`
`]}),`
`,i.jsxs(e.p,{children:["此时，高优先级的任务渲染会发生，渲染完成之后，将会开始第二次渲染。此时，将会传入刚才更新之后的新值。对于 ",i.jsx(e.code,{children:"Expensive"})," 而言，props 发生了变化，整个组件会重新渲染。"]}),`
`,i.jsx(e.p,{children:"我们通常会将已经非常明确的耗时任务标记为 deferred，因此，这些任务都被视为低优先级。当重要的高优先级更新已经完成，低优先级任务在第二次渲染时尝试更新..."}),`
`,i.jsx(e.p,{children:"在它第二次更新的过程中，如果又有新的高优先级任务进来，那么 React 就会中断并放弃第二次更新，去执行高优先级的任务。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"注意：是中断，并放弃这次更新，所以表现出来的结果就是，中间会漏掉许多任务的执行"}),`
`]}),`
`,i.jsx(e.p,{children:"这样的运行机制有一个非常重要的好处。"}),`
`,i.jsx(e.p,{children:"那就是，如果你的电脑性能足够强悍，那么第二次的更新可能会快速完成，高优先级的任务来不及中断，那么我们的页面响应就是非常理想的。"}),`
`,i.jsx(e.p,{children:"但是如果我们的电脑性能比较差，第二次更新还没完成，新的高优先级任务又来了，那么就可以通过中断的方式，降级处理，保证重要 UI 的流畅，放弃低优先级任务。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"在不同性能的设备上，有不同的反应，这个是跟防抖、节流的最重要的区别"}),`
`]}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"3"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"重新分析取消请求案例"})}),`
`,i.jsx(e.p,{children:"那我们回过头来，分析一下最开始的那个案例，重新看一眼代码"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`export default function Search() {
  const [promise, update] = useState(() => fetchListWithCancel(5))
  const deferred = useDeferredValue(promise)


  function __inputChange(e) {
    promise.cancel()
    const len = e.target.value.length % 5
    update(fetchListWithCancel(len))
  }
  ...
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<Suspense fallback={<Skeleton />}>
  <Spin loading={deferred !== promise} type='mask'>
    <List promise={deferred} />
  </Spin>
</Suspense>
`})}),`
`,i.jsx(e.p,{children:"这里我们将 promise 做为 state，当 promise 被重新赋值时，List 会经历两次更新。"}),`
`,i.jsx(e.p,{children:"首先点击事件触发，请求立即发生。promise 被改变。触发组件更新。"}),`
`,i.jsx(e.p,{children:"第一次更新时，deferred 使用旧值传参，此时对于 List 而言，api 没有发生变化。因此，利用这个机制，我们可以阻止 Suspense 直接渲染成 fallback."}),`
`,i.jsx(e.p,{children:"在 Suspense 包裹之下，只有当接口请求成功之后，deferred 的第二次更新才会发生，因此，在这个过程中，如果我们快速进行第二次点击，可以直接取消上一次请求，让第二次更新来不及执行。此时新的请求发生。"}),`
`,i.jsx(e.p,{children:"最终案例的完整代码与演示效果请看右侧区域。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"4"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"总结"})}),`
`,i.jsx(e.p,{children:"这种场景的最佳实践代码非常的简洁和优雅。写起来也很舒服，性能也非常强悍。但是理解起来会比较困难。因此想要做到灵活运用，还需要多多消化。"}),`
`,i.jsx(e.p,{children:"但是，等你彻底掌握它之后，你就会发现 React 19 在异步交互上真的太优雅了。这样的开发体验，是依赖 useEffect 完全比不了的。"})]})}function AX(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Db,{...t})}):Db(t)}const PX={"App.js":OX,"api.js":vX,"List.jsx":yX,"Input.jsx":jX,"Skeleton.jsx":bX,"Spin.jsx":{code:y3,hidden:!0},"index.css":{code:j3,hidden:!0}};function _X(){return i.jsx(Ee,{files:PX,renderArticle:t=>i.jsx(AX,{components:{code:t}})})}const EX=`import {useState, Suspense, useDeferredValue} from 'react'
import Skeleton from './Skeleton'
import {fetchListWithCancel} from './api'
import Tabs from './Tabs'
import List from './List'
import Spin from './Spin'

const tabs = [
  { name: 'My Account', href: '#', current: true },
  { name: 'Company', href: '#', current: false },
  { name: 'Team Members', href: '#', current: false },
  { name: 'Billing', href: '#', current: false },
]


export default function Example() {
  const [current, switchToSelected] = useState(0)
  const [promise, update] = useState(() => fetchListWithCancel(5))
  const deferred = useDeferredValue(promise)

  function __handler(index) {
    tabs[current].current = false
    tabs[index].current = true
    switchToSelected(index)

    promise.cancel()
    update(fetchListWithCancel(5))
  }

  return (
    <div>
      <Tabs tabs={tabs} onSwitch={__handler} />

      <Suspense fallback={<Skeleton />}>
        <Spin loading={deferred !== promise} type='mask'>
          <List promise={deferred} />
        </Spin>
      </Suspense>
    </div>
  )
}
`,MX=`const random = [
  'React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.',
  'Whether you work on your own or with thousands of other developers, using React feels the same.',
  'React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.',
  'This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ',
  'You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it.'
]

var myHeaders = new Headers();
myHeaders.append("User-Agent", "Apifox/1.0.0 (https://apifox.com)");

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow',
  data: 'hex'
};

// 你可以动态修改最后的数字，然后观察请求情况
const url = 'https://echo.apifox.com/delay/1'

export const getMessage = async () => {
  await fetch(url, requestOptions)
  const i = Math.floor(Math.random() * 10) % 5
  return {
    value: random[i]
  }
}

export const fetchListWithCancel = (number) => {
  let controller = new AbortController();
  let signal = controller.signal;
  const promise = new Promise(resolve => {
    fetch(
      \`https://randomuser.me/api/?results=\${number}&inc=name,gender,email,nat,picture&noinfo\`,
      {signal}
    ).then(res => {
      resolve(res.json())
    }).catch(() => {
      console.log('接口成功取消！')
    })
  })

  promise.cancel = () => {
    if (controller) {
      controller.abort()
    }
  }
  return promise
}
`,DX=`export default function Skeleton(props) {
  return (
    <div className="border border-blue-100 shadow rounded-md p-4 w-full">
      <div className="animate-pulse flex space-x-4">
        <div className="rounded-full bg-slate-200 h-10 w-10"></div>
        <div className="flex-1 space-y-6 py-1">
          <div className="h-2 bg-slate-200 rounded"></div>
          <div className="space-y-3">
            <div className="grid grid-cols-3 gap-4">
              <div className="h-2 bg-slate-200 rounded col-span-2"></div>
              <div className="h-2 bg-slate-200 rounded col-span-1"></div>
            </div>
            <div className="h-2 bg-slate-200 rounded"></div>
          </div>
        </div>
      </div>
    </div>
  )
}
`,ZX=`import { use } from 'react';
export default function CurrentList({promise}) {
  const {results} = use(promise)
  return (
    <div>
      {results.map((item, i) => (
        <div key={\`h\${i}\`} className='flex border p-4 items-center my-4 rounded-md'>
          <img className='w-12 h-12 rounded-full' src={item.picture.large} alt='' />
          <div className='flex-1 ml-4'>
            <div className='font-bold'>{item.name.last}</div>
            <div className='text-gray-400 mt-1 text-sm line-clamp-1'>react 19 re, a design language for background applications</div>
          </div>
        </div>
      ))}
    </div>
  )
}
`,zX=`function classNames(...classes) {
  return classes.filter(Boolean).join(' ')
}

export default function Tabs({tabs, onSwitch}) {
  return (
    <div>
      <div className="hidden">
        <label htmlFor="tabs" className="sr-only">
          Select a tab
        </label>
        {/* Use an "onChange" listener to redirect the user to the selected tab URL. */}
        <select
          id="tabs"
          name="tabs"
          className="block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500"
          defaultValue={tabs.find((tab) => tab.current).name}
          onChange={(e) => onSwitch(e.target.selectedIndex)}
        >
          {tabs.map((tab) => (
            <option key={tab.name}>{tab.name}</option>
          ))}
        </select>
      </div>
      <div className="block">
        <nav className="flex space-x-4" aria-label="Tabs">
          {tabs.map((tab, i) => (
            <a
              key={tab.name}
              href={tab.href}
              className={classNames(
                tab.current ? 'bg-indigo-100 text-indigo-700' : 'text-gray-500 hover:text-gray-700',
                'rounded-md px-3 py-2 text-sm font-medium',
              )}
              aria-current={tab.current ? 'page' : undefined}
              onClick={(e) => {
                e.preventDefault();
                onSwitch(i)
              }}
            >
              {tab.name}
            </a>
          ))}
        </nav>
      </div>
    </div>
  )
}
`,LX=t=>{const e=unescape(t.message.replace(/\\u/gi,"%u")),n=unescape((t.title||"").replace(/\\u/gi,"%u"));let r="flex border border-blue-100 p-4 rounded-md shadow";return e?i.jsxs("div",{className:r,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 mt-2",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})}),i.jsxs("div",{className:"flex-1 ml-3",children:[i.jsx("div",{children:n||"Heads Up!"}),i.jsx("div",{className:"text-sm mt-1 text-gray-600",children:e})]})]}):i.jsxs("div",{className:`${r} justify-center items-center flex-col text-gray-500`,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z"})}),i.jsx("div",{className:"mt-2",children:"no data."})]})};function $3(t){return i.jsx("div",{className:"border border-blue-100 shadow rounded-md p-4 w-full",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}document.documentElement.style.fontSize="14px";function BX(t){const{className:e,primary:n,danger:r,sm:s,lg:a,signal:l,success:o,...c}=t,f=yr(ct("rounded-md border border-transparent font-medium cursor-pointer transition relative","bg-gray-100 hover:bg-gray-200","text-xs py-2 px-4",{"bg-blue-500 text-white hover:bg-blue-600":n,"bg-red-500 text-white hover:bg-red-600":r,"bg-green-500 text-white hover:bg-green-600":o,"text-sky-500 bg-white border border-sky-300 hover:bg-sky-50":l,"text-xs py-1.5 px-3":s,"text-lg py-2 px-6":a},e));return i.jsxs("button",{className:f,...c,children:[t.children,l&&i.jsxs("span",{className:"absolute flex h-3 w-3 right-[-5px] top-[-5px]",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-sky-500"})]})]})}const XX=["React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.","Whether you work on your own or with thousands of other developers, using React feels the same.","React components are JavaScript functions. Want to show some content conditionally? Use an if statement. Displaying a list? Try array map(). Learning React is learning programming.","This markup syntax is called JSX. It is a JavaScript syntax extension popularized by React. ","You don’t have to build your whole page in React. Add React to your existing HTML page, and render interactive React components anywhere on it."];var N3=new Headers;N3.append("User-Agent","Apifox/1.0.0 (https://apifox.com)");var UX={method:"GET",headers:N3,redirect:"follow",data:"hex"};const qX="https://echo.apifox.com/delay/1",Zb=async()=>{await fetch(qX,UX);const t=Math.floor(Math.random()*10)%5;return{value:XX[t]}},zb=t=>{let e=new AbortController,n=e.signal;const r=new Promise(s=>{fetch(`https://randomuser.me/api/?results=${t}&inc=name,gender,email,nat,picture&noinfo`,{signal:n}).then(a=>{s(a.json())}).catch(()=>{console.log("接口成功取消！")})});return r.cancel=()=>{e&&e.abort()},r};function YX(){const[t,e]=j.useState(Zb()),[n,r]=j.useTransition();function s(){console.log("click"),r(()=>{console.log("transition"),e(Zb())})}return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-right mb-4",children:i.jsx(BX,{onClick:s,children:"更新数据"})}),i.jsx(j.Suspense,{fallback:i.jsx($3,{}),children:i.jsx(G0,{loading:n,children:i.jsx(VX,{promise:t})})})]})}function VX(t){const{value:e}=j.use(t.promise);return i.jsx(LX,{message:e})}function WX(...t){return t.filter(Boolean).join(" ")}function HX({tabs:t,onSwitch:e}){return i.jsxs("div",{children:[i.jsxs("div",{className:"hidden",children:[i.jsx("label",{htmlFor:"tabs",className:"sr-only",children:"Select a tab"}),i.jsx("select",{id:"tabs",name:"tabs",className:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",defaultValue:t.find(n=>n.current).name,onChange:n=>e(n.target.selectedIndex),children:t.map(n=>i.jsx("option",{children:n.name},n.name))})]}),i.jsx("div",{className:"block",children:i.jsx("nav",{className:"flex space-x-4","aria-label":"Tabs",children:t.map((n,r)=>i.jsx("a",{href:n.href,className:WX(n.current?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700","rounded-md px-3 py-2 text-sm font-medium"),"aria-current":n.current?"page":void 0,onClick:s=>{s.preventDefault(),e(r)},children:n.name},n.name))})})]})}function IX({promise:t}){const{results:e}=j.use(t);return i.jsx("div",{children:e.map((n,r)=>i.jsxs("div",{className:"flex border p-4 items-center my-4 rounded-md",children:[i.jsx("img",{className:"w-12 h-12 rounded-full",src:n.picture.large,alt:""}),i.jsxs("div",{className:"flex-1 ml-4",children:[i.jsx("div",{className:"font-bold",children:n.name.last}),i.jsx("div",{className:"text-gray-400 mt-1 text-sm line-clamp-1",children:"react 19 re, a design language for background applications"})]})]},`h${r}`))})}const Zf=[{name:"My Account",href:"#",current:!0},{name:"Company",href:"#",current:!1},{name:"Team Members",href:"#",current:!1},{name:"Billing",href:"#",current:!1}];function GX(){const[t,e]=j.useState(0),[n,r]=j.useState(()=>zb(5)),[s,a]=j.useTransition();function l(o){Zf[t].current=!1,Zf[o].current=!0,e(o),n.cancel(),a(()=>{r(zb(5))})}return i.jsxs("div",{children:[i.jsx(HX,{tabs:Zf,onSwitch:l}),i.jsx(j.Suspense,{fallback:i.jsx($3,{}),children:i.jsx(G0,{loading:s,type:"mask",children:i.jsx(IX,{promise:n})})})]})}function Lb(t){const e={blockquote:"blockquote",code:"code",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(ne,{reload:!0,children:i.jsx(YX,{})}),`
`,i.jsx(e.p,{children:"useTransition 与 useDeferredValue 有几乎一致的作用。他们都可以降低 UI 任务更新的优先级。只是在语法上有一些不太一样。因此这一章我们主要重点是介绍 useTransition 的语法，以及它与 useDeferredValue 的细微差异。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const [isPending, startTransition] = useTransition()
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"startTransition"})," 可以标记一个或者多个状态的 ",i.jsx(e.code,{children:"set"})," 方法，将他们标记为 ",i.jsx(e.code,{children:"transition"}),"，也就是调低他们更新的优先级。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"但是这里需要注意的是，被调低的不是 set 方法本身的执行，而是其对应的 UI 更新。"}),`
`]}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"isPending"})," 表示是否还有未完成的 UI 更新任务。我们可以利用这个状态来判断请求是否正在发生。"]}),`
`,i.jsx(e.p,{children:"上面的演示代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {use, useState, Suspense, useTransition} from 'react'
import Message from './Message'
import Skeleton from './Skeleton'
import Button from './Button'
import Spin from 'components/Spin'
import {getMessage} from './api'

export default function Demo01() {
  const [promise, update] = useState(getMessage)
  const [isPending, startTransition] = useTransition()

  function __handler() {
    startTransition(() => {
      update(getMessage())
    })
  }

  return (
    <>
      <div className='text-right mb-4'>
        <Button disabled={isPending} onClick={__handler}>更新数据</Button>
      </div>
      <Suspense fallback={<Skeleton />}>
        <Spin loading={isPending}>
          <Content promise={promise} />
        </Spin>
      </Suspense>
    </>
  )
}

function Content(props) {
  const {value} = use(props.promise)
  return (
    <Message message={value} />
  )
}
`})}),`
`,i.jsx(e.p,{children:"但是这里需要注意的是，被调低的不是 set 方法本身的执行，而是其对应的 UI 更新。因此当我们连续点击 10 次按钮时，update 就紧跟着会执行 10 次。只是在目前的 Suspense 的机制中，会将 10 次接口请求串行执行"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"这个机制目前存在争议，可能会在未来发生改变"}),`
`]}),`
`,i.jsx(e.p,{children:"当我试图使用这种方案取消上一次请求时，我们会发生并没有效果，这里的原因是因为状态 promise 在 update 执行完之后，就已经交给 Suspense 的机制去处理了，React 并没有支持这种中断机制。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function __handler() {
  startTransition(() => {
    promise.cancel()
    update(getMessage())
  })
}
`})}),`
`,i.jsx(e.p,{children:"因此，我们可以想办法在 promise 交给 Suspense 处理之前中断请求，在上一章中，我们使用了 useDeferredValue 的机制做到了这个事情。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export default function App() {
  const [promise, update] = useState(() => fetchListWithCancel(5))
  const deferred = useDeferredValue(promise)


  function __inputChange(e) {
    promise.cancel()
    const len = e.target.value.length % 5
    update(fetchListWithCancel(len))
  }
  ...
`})}),`
`,i.jsx(e.p,{children:"这里我们发现，我们第一时间交给 Suspense 的处理的并不是 promise，而是 deferred，因此我们可以在这之前，中断请求。"}),`
`,i.jsx(e.p,{children:"除了这个区别之外，useTransition 可以在组件顶层同时将多个 state 的 set 方法设置为低优先级。这一点是 useDeferredValue 做不到的。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function TabContainer() {
  const [isPending, startTransition] = useTransition();
  const [tab, setTab] = useState('about');
  const [other, setOther] = useState(false);

  function selectTab(nextTab) {
    startTransition(() => {
      setTab(nextTab);
      setOther(true)
    });
  }
  // ...
}
`})}),`
`,i.jsx(e.p,{children:"useDeferredValue 可以在子组件中，设置来自 props 的状态延迟。这个也是 useTransition 不方便做到的"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export default function Ex(props) {
  const deferred = useDeferredValue(props.value)
  ...
}
`})}),`
`,i.jsx(e.p,{children:"最后，大家可以通过连续快速点击多次 Tab 按钮，观察一下下面这种写法，与右侧区域案例的区别。这里我们使用 useTransition，右侧案例使用 useDeferredValue。两个案例在视觉上的表现是几乎一样的。区别就是，这个案例并没有成功取消上一次请求，而右侧案例取消成功了。大家可以查看接口请求验证一下结果"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"未来这种情况的区别，可能会因为 Suspense 机制的变化而发生变化"}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import {useState, Suspense, useTransition} from 'react'
import Skeleton from './Skeleton'
import {fetchListWithCancel} from './api'
import Tabs from './Tabs'
import List from './List'
import Spin from 'components/Spin'

const tabs = [
  { name: 'My Account', href: '#', current: true },
  { name: 'Company', href: '#', current: false },
  { name: 'Team Members', href: '#', current: false },
  { name: 'Billing', href: '#', current: false },
]


export default function Example() {
  const [current, switchToSelected] = useState(0)
  const [promise, update] = useState(() => fetchListWithCancel(5))
  const [isPending, startTransition] = useTransition()

  function __handler(index) {
    tabs[current].current = false
    tabs[index].current = true
    switchToSelected(index)

    promise.cancel()
    startTransition(() => {
      update(fetchListWithCancel(5))
    })
  }

  return (
    <div>
      <Tabs tabs={tabs} onSwitch={__handler} />

      <Suspense fallback={<Skeleton />}>
        <Spin loading={isPending} type='mask'>
          <List promise={promise} />
        </Spin>
      </Suspense>
    </div>
  )
}
`})}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(GX,{})})]})}function FX(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Lb,{...t})}):Lb(t)}const JX={"App.js":EX,"api.js":MX,"Tabs.jsx":zX,"List.jsx":ZX,"Skeleton.jsx":DX,"Spin.jsx":{code:y3,hidden:!0},"index.css":{code:j3,hidden:!0}};function KX(){return i.jsx(Ee,{files:JX,renderArticle:t=>i.jsx(FX,{components:{code:t}})})}const eU=`function Layou2t() {
  const $ = _c(3);
  if ($[0] !== "af424edd0cc2f0a8b6bcc96ea18b6e0ad26e18b67ffafe80bf321ad9ef551a1f") {
    for (let $i = 0; $i < 3; $i += 1) {
      $[$i] = Symbol.for("react.memo_cache_sentinel");
    }
    $[0] = "af424edd0cc2f0a8b6bcc96ea18b6e0ad26e18b67ffafe80bf321ad9ef551a1f";
  }
  let t0;
  if ($[1] === Symbol.for("react.memo_cache_sentinel")) {
    t0 = /* @__PURE__ */ jsxDEV(NavHeader, {}, void 0, false, {
      fileName: "/Users/yangbo/develop/react19feature/src/App.jsx",
      lineNumber: 20,
      columnNumber: 10
    }, this);
    $[1] = t0;
  } else {
    t0 = $[1];
  }
  let t1;
  if ($[2] === Symbol.for("react.memo_cache_sentinel")) {
    t1 = /* @__PURE__ */ jsxDEV("div", { children: [
        t0,
        /* @__PURE__ */ jsxDEV(Outlet, {}, void 0, false, {
          fileName: "/Users/xxx/develop/xxx/src/App.jsx",
          lineNumber: 27,
          columnNumber: 19
        }, this)
      ] }, void 0, true, {
      fileName: "/Users/xxx/develop/xxx/src/App.jsx",
      lineNumber: 27,
      columnNumber: 10
    }, this);
    $[2] = t1;
  } else {
    t1 = $[2];
  }
  return t1;
}
`;function Bb(t){const e={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"我们对 React Compiler 期待已久。"}),`
`,i.jsx(e.p,{children:"自从从它第一次在 React Conf 2021 亮相。到现在 React Conf 2024 正式开源，已经过去了三年之久。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"以前叫 React Forget，现改名为 React Compiler"}),`
`]}),`
`,i.jsx(e.h3,{children:"背景"}),`
`,i.jsxs(e.p,{children:["要了解 React Compiler，这还需要从 React 的更新机制说起。",i.jsx(e.strong,{children:"React 项目中的任何一个组件发生 state 状态的变更，React 更新机制都会从最顶层的根节点开始往下递归对比，通过双缓存机制判断出哪些节点发生了变化，然后更新节点"}),"。这样的更新机制成本并不小，因为在判断过程中，如果 React 发现 ",i.jsx(e.code,{children:"props、state、context"})," 任意一个不同，那么就认为该节点被更新了。因此，冗余的 ",i.jsx(e.code,{children:"re-render"})," 在这个过程中会",i.jsx(e.strong,{children:"大量发生"}),"。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:[i.jsx(e.strong,{children:"对比的成本非常小，但是 re-render 的成本较高"}),"，当我们在短时间之内快速更改 state 时，程序大概率会存在性能问题。因此在以往的开发方式中，掌握性能优化的手段是高级 React 开发者的必备能力"]}),`
`]}),`
`,i.jsx(e.p,{children:"一个组件节点在 React 中很难被判断为没有发生过更新。因为 props 的比较总是不同的。它的比较方式如下。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`{} === {} // false
`})}),`
`,i.jsx(e.p,{children:"因此，高级 React 开发者需要非常了解 React 的默认优化机制，让 props 的比较不发生，因为一旦发生，那么结果必定是 false。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"事实上，对 React 默认优化机制了解的开发者非常少，我们在开发过程中也不会为了优化这个性能去重新调整组件的分布。更多的还是使用 memo 与 useMemo/useCallback 暴力缓存节点"}),`
`]}),`
`,i.jsxs(e.p,{children:["在这样的背景之下，冗余的 ",i.jsx(e.code,{children:"re-render"})," 在大量的项目中发生。这也是为什么 React 总是呗吐槽性能不好的主要原因。当然，大多数项目并没有频繁更新 state 的需求，因此这一点性能问题表现得并不是很明显。"]}),`
`,i.jsxs(e.p,{children:["如果我们要解决冗余 re-render 的问题，需要对 React 默认优化技能有非常深刻的理解，需要对 ",i.jsx(e.code,{children:"memo、useCallback、useMemo"})," 有准确的理解。但是普通的 React 开发者很难理解他们，有的开发者虽然在项目中大量使用了，但是未必就达到了理想的效果。React Compiler 则是为了解决这个问题，它可以自动帮助我们记忆已经存在、并且没有发生更新的组件，从而解决组件冗余 ",i.jsx(e.code,{children:"re-render"})," 的问题。"]}),`
`,i.jsxs(e.p,{children:["从使用结果的体验来看，React Compiler 被集成在代码自动编译中，因此只要我们在项目中引入成功，就不再需要关注它的存在。",i.jsx(e.strong,{children:"我们的开发方式不会发生任何改变。"})," 它不会更改 React 现有的开发范式和更新方式，侵入性非常弱。这一点对于老项目来说，非常非常重要。"]}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"检测"})}),`
`,i.jsxs(e.p,{children:["并非所有的组件都能被优化。因此早在 React 18 的版本中，React 官方团队就提前发布了严格模式。在顶层根节点中，套一层 ",i.jsx(e.code,{children:"StrictMode"})," 即可。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<StrictMode>
  <BrowserRouter>
    <App />
  </BrowserRouter>
</StrictMode>
`})}),`
`,i.jsx(e.p,{children:"遵循严格模式的规范，我们的组件更容易符合 React Compiler 的优化规则。"}),`
`,i.jsx(e.p,{children:"我们可以使用如下方式首先检测代码库是否兼容。在项目根目录下执行如下指令。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`npx react-compiler-healthcheck
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"该脚本主要用于检测"}),`
`,i.jsx(e.p,{children:"1、项目中有多少组件可以成功优化**：越多越好**"}),`
`,i.jsx(e.p,{children:"2、是否使用严格模式，使用了优化成功率更高"}),`
`,i.jsx(e.p,{children:"3、是否使用了与 Compiler 不兼容的三方库"}),`
`]}),`
`,i.jsx(e.p,{children:"例如，我的其中一个项目，检测结果如下"}),`
`,i.jsxs("div",{style:{color:"rgb(23, 163, 74)"},children:[i.jsx("div",{children:"Successfully compiled 38 out of 40 components. "}),i.jsx("div",{children:"StrictMode usage found."}),i.jsx("div",{children:"Found no usage of incompatible libraries."})]}),`
`,i.jsx(e.p,{children:"每一项都基本上通过了，那我就可以放心的在项目中引入对应的插件开始体验了。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"2"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"在项目中引入"})}),`
`,i.jsx(e.p,{children:"官方文档中已经明确表示，由于 JavaScript 的灵活性，Compiler 无法捕获所有可能的意外行为，甚至编译之后还会出现错误。因此，目前而言，Compiler 依然可能会有他粗糙的一面。因此，我们可以通过配置，在具体的某一个小目录中运行 Compiler。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const ReactCompilerConfig = {
  sources: (filename) => {
    return filename.indexOf('src/path/to/dir') !== -1;
  },
};
`})}),`
`,i.jsx(e.p,{children:"React Compiler 还支持对应的 eslint 插件。该插件可以独立运行。不用非得与 Compiler 一起运行。"}),`
`,i.jsx(e.p,{children:"可以使用如下指令安装该插件"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`npm i eslint-plugin-react-compiler
`})}),`
`,i.jsx(e.p,{children:"然后在 eslint 的配置中添加"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`module.exports = {
  plugins: [
    'eslint-plugin-react-compiler',
  ],
  rules: {
    'react-compiler/react-compiler': 2,
  },
}
`})}),`
`,i.jsx(e.p,{children:"Compiler 目前结合 Babel 插件一起使用，因此，我们首先需要在项目中引入该插件"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`npm i babel-plugin-react-compiler
`})}),`
`,i.jsx(e.p,{children:"然后，在不同的项目中，有不同的配置。"}),`
`,i.jsxs(e.p,{children:[i.jsxs(e.strong,{children:["添加到 ",i.jsx(e.code,{children:"Babel"})," 的配置中"]}),"，如下所示"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`module.exports = function () {
  return {
    plugins: [
      ['babel-plugin-react-compiler', ReactCompilerConfig], // must run first!
      // ...
    ],
  };
};
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"注意，该插件应该在其他 Babel 插件之前运行"}),`
`]}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"在 vite 中使用"})}),`
`,i.jsxs(e.p,{children:["首先，我们需要安装 ",i.jsx(e.code,{children:"vite-plugin-react"}),"，注意不用搞错了，群里有的同学使用了 ",i.jsx(e.code,{children:"vite-plugin-react-swc"})," 结果搞了很久没配置成功。然后在 vite.config.js 中，添加如下配置"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`export default defineConfig(() => {
  return {
    plugins: [
      react({
        babel: {
          plugins: [
            ["babel-plugin-react-compiler", ReactCompilerConfig],
          ],
        },
      }),
    ],
    // ...
  };
});
`})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"在 Next.js 中使用"})}),`
`,i.jsxs(e.p,{children:["创建 ",i.jsx(e.code,{children:"babel.config.js"})," 并添加上面 Babel 同样的配置即可。"]}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"在 Remix 中使用"})}),`
`,i.jsx(e.p,{children:"安装如下插件，并且添加对应的配置项目。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`npm i vite-plugin-babel
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// vite.config.js
import babel from "vite-plugin-babel";

const ReactCompilerConfig = { /* ... */ };

export default defineConfig({
  plugins: [
    remix({ /* ... */}),
    babel({
      filter: /\\.[jt]sx?$/,
      babelConfig: {
        presets: ["@babel/preset-typescript"], // if you use TypeScript
        plugins: [
          ["babel-plugin-react-compiler", ReactCompilerConfig],
        ],
      },
    }),
  ],
});
`})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"在 Webpack 中使用"})}),`
`,i.jsx(e.p,{children:"我们可以单独为 Compiler 创建一个 Loader. 代码如下所示。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const ReactCompilerConfig = { /* ... */ };
const BabelPluginReactCompiler = require('babel-plugin-react-compiler');

function reactCompilerLoader(sourceCode, sourceMap) {
  // ...
  const result = transformSync(sourceCode, {
    // ...
    plugins: [
      [BabelPluginReactCompiler, ReactCompilerConfig],
    ],
  // ...
  });

  if (result === null) {
    this.callback(
      Error(
        \`Failed to transform "\${options.filename}"\`
      )
    );
    return;
  }

  this.callback(
    null,
    result.code,
    result.map === null ? undefined : result.map
  );
}

module.exports = reactCompilerLoader;
`})}),`
`,i.jsx(e.p,{children:"我们可以在 React 官方了解到更多关于 React Compiler 的介绍与注意事项。具体地址如下"}),`
`,i.jsx(e.p,{children:i.jsx(e.a,{href:"https://react.dev/learn/react-compiler",children:"https://react.dev/learn/react-compiler"})}),`
`,i.jsxs(e.p,{children:["引入成功之后，我们可以在开发者工具中的 ",i.jsx(e.code,{children:"Sources"})," 面板的 ",i.jsx(e.code,{children:"Page"})," 目录中查看编译之后的代码，长得跟右侧代码差不多就表示编译成功了。"]})]})}function tU(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Bb,{...t})}):Bb(t)}const nU={"App.js":eU};function rU(){return i.jsx(Ee,{files:nU,hidePreview:!0,renderArticle:t=>i.jsx(tU,{components:{code:t}})})}const sU=`import { c as _c } from "/src/mycache.js";
import __vite__cjsImport4_react from "/node_modules/.vite/deps/react.js?v=f1f30d19"; const useState = __vite__cjsImport4_react["useState"];
import reactLogo from "/src/assets/react.svg?import";
import viteLogo from "/vite.svg?import";
import "/src/App.css";
function App() {
  _s();
  const $ = _c(13);
  if ($[0] !== "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac") {
    for (let $i = 0; $i < 13; $i += 1) {
      $[$i] = Symbol.for("react.memo_cache_sentinel");
    }
    $[0] = "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac";
  }
  const [count, setCount] = useState(0);
  let t0;
  if ($[1] === Symbol.for("react.memo_cache_sentinel")) {
    t0 = /* @__PURE__ */ jsxDEV("a", { href: "https://vitejs.dev", target: "_blank", children: /* @__PURE__ */ jsxDEV("img", { src: viteLogo, className: "logo", alt: "Vite logo" }, void 0, false, {
        fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
        lineNumber: 19,
        columnNumber: 55
      }, this) }, void 0, false, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 19,
      columnNumber: 10
    }, this);
    $[1] = t0;
  } else {
    t0 = $[1];
  }
  let t1;
  let t2;
  if ($[2] === Symbol.for("react.memo_cache_sentinel")) {
    t1 = /* @__PURE__ */ jsxDEV("div", { children: [
        t0,
        /* @__PURE__ */ jsxDEV("a", { href: "https://react.dev", target: "_blank", children: /* @__PURE__ */ jsxDEV("img", { src: reactLogo, className: "logo react", alt: "React logo" }, void 0, false, {
            fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
            lineNumber: 27,
            columnNumber: 63
          }, this) }, void 0, false, {
          fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
          lineNumber: 27,
          columnNumber: 19
        }, this)
      ] }, void 0, true, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 27,
      columnNumber: 10
    }, this);
    t2 = /* @__PURE__ */ jsxDEV("h1", { children: "Vite + React" }, void 0, false, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 28,
      columnNumber: 10
    }, this);
    $[2] = t1;
    $[3] = t2;
  } else {
    t1 = $[2];
    t2 = $[3];
  }
  let t3;
  if ($[4] === Symbol.for("react.memo_cache_sentinel")) {
    t3 = () => setCount((count_0) => count_0 + 1);
    $[4] = t3;
  } else {
    t3 = $[4];
  }
  let t4;
  if ($[5] !== count) {
    t4 = /* @__PURE__ */ jsxDEV("button", { onClick: t3, children: [
        "count is ",
        count
      ] }, void 0, true, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 44,
      columnNumber: 10
    }, this);
    $[5] = count;
    $[6] = t4;
  } else {
    t4 = $[6];
  }
  let t5;
  if ($[7] === Symbol.for("react.memo_cache_sentinel")) {
    t5 = /* @__PURE__ */ jsxDEV("p", { children: [
        "Edit ",
        /* @__PURE__ */ jsxDEV("code", { children: "src/App.jsx" }, void 0, false, {
          fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
          lineNumber: 52,
          columnNumber: 18
        }, this),
        " and save to test HMR"
      ] }, void 0, true, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 52,
      columnNumber: 10
    }, this);
    $[7] = t5;
  } else {
    t5 = $[7];
  }
  let t6;
  if ($[8] !== t4) {
    t6 = /* @__PURE__ */ jsxDEV("div", { className: "card", children: [
        t4,
        t5
      ] }, void 0, true, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 59,
      columnNumber: 10
    }, this);
    $[8] = t4;
    $[9] = t6;
  } else {
    t6 = $[9];
  }
  let t7;
  if ($[10] === Symbol.for("react.memo_cache_sentinel")) {
    t7 = /* @__PURE__ */ jsxDEV("p", { className: "read-the-docs", children: "Click on the Vite and React logos to learn more" }, void 0, false, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 67,
      columnNumber: 10
    }, this);
    $[10] = t7;
  } else {
    t7 = $[10];
  }
  let t8;
  if ($[11] !== t6) {
    t8 = /* @__PURE__ */ jsxDEV(Fragment, { children: [
        t1,
        t2,
        t6,
        t7
      ] }, void 0, true, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 74,
      columnNumber: 10
    }, this);
    $[11] = t6;
    $[12] = t8;
  } else {
    t8 = $[12];
  }
  return t8;
}
_s(App, "7rNyFrw5FVpFFCFYkWAjQci0NUk=");
_c2 = App;
export default App;
var _c2;
$RefreshReg$(_c2, "App");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("/Users/yangbo/develop/r18-with-compiler/src/App.jsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate(currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}
`,iU=`import { useState } from 'react'
import reactLogo from './assets/react.svg'
import viteLogo from '/vite.svg'
import './App.css'

function App() {
  const [count, setCount] = useState(0)

  return (
    <>
      <div>
        <a href="https://vitejs.dev" target="_blank">
          <img src={viteLogo} className="logo" alt="Vite logo" />
        </a>
        <a href="https://react.dev" target="_blank">
          <img src={reactLogo} className="logo react" alt="React logo" />
        </a>
      </div>
      <h1>Vite + React</h1>
      <div className="card">
        <button onClick={() => setCount((count) => count + 1)}>
          count is {count}
        </button>
        <p>
          Edit <code>src/App.jsx</code> and save to test HMR
        </p>
      </div>
      <p className="read-the-docs">
        Click on the Vite and React logos to learn more
      </p>
    </>
  )
}

export default App
`;function Xb(t){const e={a:"a",blockquote:"blockquote",code:"code",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"非常的 nice，经过几天的尝试和研究，我在低版本中成功引入了 Compiler，目前已经在 vite 中运行起来了。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["我的思考过程，你可以",i.jsx(e.a,{href:"https://mp.weixin.qq.com/s/RQ1c6YdNgyG-vCCPQBFMjw",children:"点击这篇文章阅读"}),"，其他脚手架暂时还没试过，不过基本原理应该都是一致的，大家可以自己按照我的思路尝试一下"]}),`
`]}),`
`,i.jsxs(e.p,{children:["这里的关键就是在低版本中，缓存 hook ",i.jsx(e.code,{children:"useCacheMemo"})," 的缺失，当然这个名字只是一个语义化的称呼，在底层可能不一定是这个名字，我们只需要找个地方自定义这个 hook 即可。代码如下，非常的简单。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import { useState } from "react";

export function c(size) {
  return useState(() => new Array(size))[0];
}
`})}),`
`,i.jsxs(e.p,{children:["我们将其存储在某一个文件中，并取名为 ",i.jsx(e.code,{children:"usecache.js"})]}),`
`,i.jsxs(e.p,{children:["接下来要在 ",i.jsx(e.code,{children:"vite.config.js"})," 中，配置具体的 ReactCompilerConfig，让 ",i.jsx(e.code,{children:"runtimeModule"})," 指向我们刚才的 usecache.js。这里的目的是重新改写 ",i.jsx(e.code,{children:"react-compiler-runtime"})," 的引用路径。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const ReactCompilerConfig = {
  runtimeModule: "@/usecache",
};
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"@/*"})," 是在 vite 中配置的路径别名，完整的配置文件如下"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'

const ReactCompilerConfig = {
  runtimeModule: "@/usecache",
};

// https://vitejs.dev/config/
export default defineConfig({
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    }
  },
  plugins: [
    react({
      babel: {
        plugins: [["babel-plugin-react-compiler", ReactCompilerConfig]],
      }
    })
  ],
})
`})}),`
`,i.jsx(e.p,{children:"配置搞好之后，我们再引入 babel 插件，就可以正常运行了。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`yarn add babel-plugin-react-compiler
`})}),`
`,i.jsx(e.p,{children:"运行项目，查看开发者工具的 Sources 面板中的 Page 目录，我们发现 App.jsx 已经被编译成了右侧代码的样子。搞定。"})]})}function aU(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Xb,{...t})}):Xb(t)}const lU={"App.js":sU,原代码:iU};function oU(){return i.jsx(Ee,{files:lU,hidePreview:!0,renderArticle:t=>i.jsx(aU,{components:{code:t}})})}const cU=`import { c as _c } from "/src/mycache.js";
import __vite__cjsImport4_react from "/node_modules/.vite/deps/react.js?v=f1f30d19"; const useState = __vite__cjsImport4_react["useState"];
import reactLogo from "/src/assets/react.svg?import";
import viteLogo from "/vite.svg?import";
import "/src/App.css";
function App() {
  _s();
  const $ = _c(13);
  if ($[0] !== "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac") {
    for (let $i = 0; $i < 13; $i += 1) {
      $[$i] = Symbol.for("react.memo_cache_sentinel");
    }
    $[0] = "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac";
  }
  const [count, setCount] = useState(0);
  let t0;
  if ($[1] === Symbol.for("react.memo_cache_sentinel")) {
    t0 = /* @__PURE__ */ jsxDEV("a", { href: "https://vitejs.dev", target: "_blank", children: /* @__PURE__ */ jsxDEV("img", { src: viteLogo, className: "logo", alt: "Vite logo" }, void 0, false, {
        fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
        lineNumber: 19,
        columnNumber: 55
      }, this) }, void 0, false, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 19,
      columnNumber: 10
    }, this);
    $[1] = t0;
  } else {
    t0 = $[1];
  }
  let t1;
  let t2;
  if ($[2] === Symbol.for("react.memo_cache_sentinel")) {
    t1 = /* @__PURE__ */ jsxDEV("div", { children: [
        t0,
        /* @__PURE__ */ jsxDEV("a", { href: "https://react.dev", target: "_blank", children: /* @__PURE__ */ jsxDEV("img", { src: reactLogo, className: "logo react", alt: "React logo" }, void 0, false, {
            fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
            lineNumber: 27,
            columnNumber: 63
          }, this) }, void 0, false, {
          fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
          lineNumber: 27,
          columnNumber: 19
        }, this)
      ] }, void 0, true, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 27,
      columnNumber: 10
    }, this);
    t2 = /* @__PURE__ */ jsxDEV("h1", { children: "Vite + React" }, void 0, false, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 28,
      columnNumber: 10
    }, this);
    $[2] = t1;
    $[3] = t2;
  } else {
    t1 = $[2];
    t2 = $[3];
  }
  let t3;
  if ($[4] === Symbol.for("react.memo_cache_sentinel")) {
    t3 = () => setCount((count_0) => count_0 + 1);
    $[4] = t3;
  } else {
    t3 = $[4];
  }
  let t4;
  if ($[5] !== count) {
    t4 = /* @__PURE__ */ jsxDEV("button", { onClick: t3, children: [
        "count is ",
        count
      ] }, void 0, true, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 44,
      columnNumber: 10
    }, this);
    $[5] = count;
    $[6] = t4;
  } else {
    t4 = $[6];
  }
  let t5;
  if ($[7] === Symbol.for("react.memo_cache_sentinel")) {
    t5 = /* @__PURE__ */ jsxDEV("p", { children: [
        "Edit ",
        /* @__PURE__ */ jsxDEV("code", { children: "src/App.jsx" }, void 0, false, {
          fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
          lineNumber: 52,
          columnNumber: 18
        }, this),
        " and save to test HMR"
      ] }, void 0, true, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 52,
      columnNumber: 10
    }, this);
    $[7] = t5;
  } else {
    t5 = $[7];
  }
  let t6;
  if ($[8] !== t4) {
    t6 = /* @__PURE__ */ jsxDEV("div", { className: "card", children: [
        t4,
        t5
      ] }, void 0, true, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 59,
      columnNumber: 10
    }, this);
    $[8] = t4;
    $[9] = t6;
  } else {
    t6 = $[9];
  }
  let t7;
  if ($[10] === Symbol.for("react.memo_cache_sentinel")) {
    t7 = /* @__PURE__ */ jsxDEV("p", { className: "read-the-docs", children: "Click on the Vite and React logos to learn more" }, void 0, false, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 67,
      columnNumber: 10
    }, this);
    $[10] = t7;
  } else {
    t7 = $[10];
  }
  let t8;
  if ($[11] !== t6) {
    t8 = /* @__PURE__ */ jsxDEV(Fragment, { children: [
        t1,
        t2,
        t6,
        t7
      ] }, void 0, true, {
      fileName: "/Users/yangbo/develop/r18-with-compiler/src/App.jsx",
      lineNumber: 74,
      columnNumber: 10
    }, this);
    $[11] = t6;
    $[12] = t8;
  } else {
    t8 = $[12];
  }
  return t8;
}
_s(App, "7rNyFrw5FVpFFCFYkWAjQci0NUk=");
_c2 = App;
export default App;
var _c2;
$RefreshReg$(_c2, "App");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("/Users/yangbo/develop/r18-with-compiler/src/App.jsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate(currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}
`,uU=`import { useState } from 'react'
import reactLogo from './assets/react.svg'
import viteLogo from '/vite.svg'
import './App.css'

function App() {
  const [count, setCount] = useState(0)

  return (
    <>
      <div>
        <a href="https://vitejs.dev" target="_blank">
          <img src={viteLogo} className="logo" alt="Vite logo" />
        </a>
        <a href="https://react.dev" target="_blank">
          <img src={reactLogo} className="logo react" alt="React logo" />
        </a>
      </div>
      <h1>Vite + React</h1>
      <div className="card">
        <button onClick={() => setCount((count) => count + 1)}>
          count is {count}
        </button>
        <p>
          Edit <code>src/App.jsx</code> and save to test HMR
        </p>
      </div>
      <p className="read-the-docs">
        Click on the Vite and React logos to learn more
      </p>
    </>
  )
}

export default App
`;function Ub(t){const e={a:"a",code:"code",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"在 webpack 中引入会稍微麻烦一点，因为我们要自己定义一个 Loader，许多小伙伴对于 webpack 自定义 loader 比较陌生，因此我这里直接放了一个比较完整的代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const babel = require('@babel/core')


const ReactCompilerConfig = {
  // 这里是针对 react 低版本的配置，务必要按需使用
  // runtimeModule: "src/hooks/useMemoCache",
};

const BabelPluginReactCompiler = require('babel-plugin-react-compiler');

function reactCompilerLoader(sourceCode, sourceMap) {
  // ...
  const result = babel.transformSync(sourceCode, {
    // ...
    sourceFileName: this.resourcePath,
    filename: this.resourcePath,
    plugins: [
      [BabelPluginReactCompiler, ReactCompilerConfig],
    ],
    // ...
  });

  if (result === null) {
    this.callback(
      Error(
        \`Failed to transform "\${options.filename}"\`
      )
    );
    return;
  }

  this.callback(
    null,
    result.code,
    result.map === null ? undefined : result.map
  );
}

module.exports = reactCompilerLoader;
`})}),`
`,i.jsxs(e.p,{children:["定义好了这个 loader 之后，这里我们需要注意，如果你是 React 低版本，那么就需要使用我们自己定义一个 ",i.jsx(e.code,{children:"react-compiler-runtime"}),"，这里需要注意的是，与 vite 中低版本使用的项目的细微差异。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// src/hooks/useMemoCache
const React = require('react');
const $empty = Symbol.for("react.memo_cache_sentinel");
/**
 * DANGER: this hook is NEVER meant to be called directly!
 *
 * Note that this is a temporary userspace implementation of this function
 * from React 19. It is not as efficient and may invalidate more frequently
 * than the official API. Please upgrade to React 19 as soon as you can.
 **/
export function c(size: number) {
  return React.useState(() => {
    const $ = new Array(size);
    for (let ii = 0; ii < size; ii++) {
      $[ii] = $empty;
    }
    // @ts-ignore
    $[$empty] = true;
    return $;
  })[0];
}
`})}),`
`,i.jsx(e.p,{children:"然后在 Loader 中修改 ReactCompilerConfig 的配置，植入到你自己的项目中时，请一定要注意路径要对应上"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const ReactCompilerConfig = {
  runtimeModule: "src/hooks/useMemoCache",
};
`})}),`
`,i.jsx(e.p,{children:"然后在 webpack 的 Loader 配置中引入即可。"}),`
`,i.jsxs(e.p,{children:["你也可以使用 ",i.jsx(e.code,{children:"react-compiler-webpack"})," 这个插件使用。具体的使用方式请结合",i.jsx(e.a,{href:"https://github.com/SukkaW/react-compiler-webpack",children:"它的github说明使用"}),"。"]}),`
`,i.jsx(e.p,{children:"只是需要注意的是，在低版本中，我们需要额外配置 runtime 的指向"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`{
  test: /\\.[mc]?[jt]sx$/i,
  exclude: /node_modules/,
  use: [
    // babel-loader, swc-loader, esbuild-loader, or anything you like to transpile JSX should go here.
    // If you are using rspack, the rspack's buiilt-in react transformation is sufficient.
    // { loader: 'swc-loader' },
    // Now add forgetti-loader
    {
      loader: reactCompilerLoader,
      options: defineReactCompilerLoaderOption({
        runtimeModule: "src/hooks/useMemoCache"
      })
    }
  ]
}
`})})]})}function dU(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Ub,{...t})}):Ub(t)}const hU={"App.js":cU,原代码:uU};function fU(){return i.jsx(Ee,{files:hU,hidePreview:!0,renderArticle:t=>i.jsx(dU,{components:{code:t}})})}const pU=`import {useState} from 'react'
import Button from './Button'
import {_c} from './useCache.js'

export default function Counter() {
  const $ = _c(10);

  if ($[0] !== "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac") {
    for (let $i = 0; $i < 10; $i += 1) {
      $[$i] = Symbol.for("react.memo_cache_sentinel");
    }
    $[0] = "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac";
  }

  const [count, setCount] = useState(0);
  let t0;

  if ($[0] !== count) {
    t0 = function __clickHanler() {
      setCount(count + 1);
    };

    $[0] = count;
    $[1] = t0;
  } else {
    t0 = $[1];
  }

  const __clickHanler = t0;
  let t1;

  if ($[2] === Symbol.for("react.memo_cache_sentinel")) {
    t1 = <div>A Base Case</div>;
    $[2] = t1;
  } else {
    t1 = $[2];
  }

  let t2;

  if ($[3] !== count) {
    t2 = <div>currnt count is: {count}</div>;
    $[3] = count;
    $[4] = t2;
  } else {
    t2 = $[4];
  }

  let t3;

  if ($[5] !== __clickHanler) {
    t3 = <Button onClick={__clickHanler}>Increment</Button>;
    $[5] = __clickHanler;
    $[6] = t3;
  } else {
    t3 = $[6];
  }

  let t4;

  if ($[7] !== t2 || $[8] !== t3) {
    t4 = (
      <div>
        {t1}
        <div className="flex items-center justify-between">
          {t2}
          {t3}
        </div>
      </div>
    );
    $[7] = t2;
    $[8] = t3;
    $[9] = t4;
  } else {
    t4 = $[9];
  }

  return t4;
}
`,mU=`import {useState} from 'react'

export default function Counter() {
  const [count, setCount] = useState(0)

  function __clickHanler() {
    setCount(count + 1)
  }

  return (
    <div>
      <div>A Base Case</div>
      <div className="flex items-center justify-between">
        <div>currnt count is: {count}</div>
        <button onClick={__clickHanler}>Increment</button>
      </div>
    </div>
  )
}
`,gU=`import {useState} from 'react'
export function _c(size) {
  return useState(() => Array.from(size))[0]
}
`;function xU(){const[t,e]=j.useState(0);function n(){e(t+1)}return i.jsxs("div",{children:[i.jsx("div",{children:"A Base Case"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:["currnt count is: ",t]}),i.jsx("button",{onClick:n,children:"Increment"})]})]})}function qb(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"如何查看编译之后的代码"})}),`
`,i.jsxs(e.p,{children:["通常情况下，你只需要在合适的位置打印一个 log。然后我们就可以通过下图所示的位置，在 ",i.jsx(e.code,{children:"console"})," 面板中，点击跳转到编译之后的代码。"]}),`
`,i.jsx(e.p,{children:"当然，我们可以直接在 Sources 面板中查看。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`Chrome 开发者工具 -> Sources -> Page -> src
`})}),`
`,i.jsxs(e.p,{children:["除此之外，你也可以把代码拷贝到 ",i.jsx("a",{href:"https://playground.react.dev/",target:"_blank",children:i.jsx(e.strong,{children:"React Compiler Playground"})})," 。这是一个在线的代码编译转换工具。我们可以利用这个工具方便的将代码转换成 Compiler 编译之后的代码，学习非常方便。"]}),`
`,i.jsx(e.p,{children:"如果你存在任何疑问，完整的链接可以包含你的具体案例，在沟通和交流上非常方便。你可以在 react 的 issue 里看到大量 Compiler 不支持的骚操作。"}),`
`,i.jsx(e.p,{children:"知道了怎么查看编译之后的代码之后，那我们就需要看得懂才行。因此接下来"}),`
`,i.jsx(e.h2,{children:"2"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"Symbol.for"})}),`
`,i.jsx(e.p,{children:"我本来最初的想法是看懂编译之后的代码不是很有必要。但是偶尔会出现一些情况，程序运行的结果跟我预想的不一样。"}),`
`,i.jsx(e.p,{children:"出现这种迷惑行为的时候就感觉贼困惑，为啥会这样呢？布吉岛 ～，如何调整我自己的写法呢？也不知道。我很不喜欢这种一脸懵逼的感觉。"}),`
`,i.jsx(e.p,{children:"看是得看懂才行。虽然这个代码很不像是正常人应该去阅读的代码。先来感受一下编译之后的代码长什么样，下面是一个案例的运行结果与其对应的代码。"}),`
`,i.jsx(ne,{children:i.jsx(xU,{})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function Counter() {
  const $ = _c(10);

  if ($[0] !== "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac") {
    for (let $i = 0; $i < 10; $i += 1) {
      $[$i] = Symbol.for("react.memo_cache_sentinel");
    }
    $[0] = "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac";
  }

  const [count, setCount] = useState(0);
  let t0;

  if ($[0] !== count) {
    t0 = function __clickHanler() {
      setCount(count + 1);
    };

    $[0] = count;
    $[1] = t0;
  } else {
    t0 = $[1];
  }

  const __clickHanler = t0;
  let t1;

  if ($[2] === Symbol.for("react.memo_cache_sentinel")) {
    t1 = <div>A Base Case</div>;
    $[2] = t1;
  } else {
    t1 = $[2];
  }

  let t2;

  if ($[3] !== count) {
    t2 = <div>currnt count is: {count}</div>;
    $[3] = count;
    $[4] = t2;
  } else {
    t2 = $[4];
  }

  let t3;

  if ($[5] !== __clickHanler) {
    t3 = <button onClick={__clickHanler}>Increment</button>;
    $[5] = __clickHanler;
    $[6] = t3;
  } else {
    t3 = $[6];
  }

  let t4;

  if ($[7] !== t2 || $[8] !== t3) {
    t4 = (
      <div>
        {t1}
        <div className="flex items-center justify-between">
          {t2}
          {t3}
        </div>
      </div>
    );
    $[7] = t2;
    $[8] = t3;
    $[9] = t4;
  } else {
    t4 = $[9];
  }

  return t4;
}
`})}),`
`,i.jsxs(e.p,{children:["在 Compiler 编译后的代码中，有一个比较少见的语法会频繁出现：",i.jsx(e.code,{children:"Symbol.for"}),"，我先把这个知识点科普一下。"]}),`
`,i.jsx(e.p,{children:"Symbol 在 JavaScript 中，是一种基础数据类型。我们常常用 Symbol 来创建全局唯一值。例如，下面两个变量，虽然写法是一样的，但是他们的比较结果并不相等"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`var a = Symbol('hello')
var b = Symbol('hello')

a === b // false
`})}),`
`,i.jsx(e.p,{children:"Symbol.for 则不同，Symbol.for 传入相同字符串时，它不会重复创建不同的值。而是在后续的调用中，读取之前已经创建好的值。因此下面的代码对比结果为 true"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`var a = Symbol.for('for')
var b = Symbol.for('for')

a === b // true
`})}),`
`,i.jsxs(e.p,{children:["或者我们用另外一种说法来表达这种",i.jsx(e.strong,{children:"创建 -> 读取"}),"的过程。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`// 创建一个 symbol 并放入 symbol 注册表中，键为 "foo"
Symbol.for("foo");

// 从 symbol 注册表中读取键为"foo"的 symbol
Symbol.for("foo"); 
`})}),`
`,i.jsxs(e.p,{children:["在 Compiler 编译后的代码中，组件依赖 ",i.jsx(e.code,{children:"useMemoCache"})," 来缓存所有运算表达式，包括组件、函数等。在下面的例子中，",i.jsx(e.code,{children:"useMemoCache"})," 传入参数为 12，说明在该组件中，有 12 个单位需要被缓存。"]}),`
`,i.jsx(e.p,{children:"在初始化时，会默认给所有的缓存变量初始一个值。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`$ = useMemoCache(12)

for (let $i = 0; $i < 12; $i += 1) {
  $[$i] = Symbol.for("react.memo_cache_sentinel");
}
`})}),`
`,i.jsxs(e.p,{children:["那么，组件就可以根据缓存值是否等于 ",i.jsx(e.code,{children:"Symbol.for"})," 的初始值，来判断某一段内容是否被初始化过。",i.jsx(e.strong,{children:"如果相等，则没有被初始化。"})]}),`
`,i.jsx(e.p,{children:"如下："}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let t1;

if ($[1] === Symbol.for("react.memo_cache_sentinel")) {
  t1 = <div id="tips">Tab 切换</div>;
  $[1] = t1;
} else {
  t1 = $[1];
}
`})}),`
`,i.jsx(e.h2,{children:"3"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"缓存原理详细分析"})}),`
`,i.jsx(e.p,{children:"我们需要重新详细解读一下上面那段代码。这是整个编译原理的核心理论。对于每一段可缓存内容，这里以一个元素为例，"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`<div>A Base Case</div>
`})}),`
`,i.jsx(e.p,{children:"我们会先声明一个中间变量，用于接收元素对象。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let t1
`})}),`
`,i.jsxs(e.p,{children:["但是在接收之前，我们需要判断一下是否已经初始化过。如果没有初始化，那么则执行如下逻辑，创建该元素对象。创建完成之后，赋值给 t1，并缓存在 ",i.jsx(e.code,{children:"$[1]"})," 中。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`if ($[2] === Symbol.for("react.memo_cache_sentinel")) {
  t1 = <div>A Base Case</div>;
  $[2] = t1;
}
`})}),`
`,i.jsxs(e.p,{children:["如果已经初始化过，那么就直接读取之前缓存在 ",i.jsx(e.code,{children:"$[1]"})," 中的值即可。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`...
} else {
  t1 = $[2];
}
`})}),`
`,i.jsx(e.p,{children:"这样，当函数组件多次执行时，该元素组件就永远只会创建一次，而不会多次创建。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["这里需要注意的是，",i.jsx(e.strong,{children:"判断成本非常低"}),"，但是创建元素的成本会偏高，因此这种置换是非常划算的，我们后续会明确用数据告诉大家判断的成本"]}),`
`]}),`
`,i.jsx(e.p,{children:"对于一个函数组件中声明的函数而言，缓存的逻辑会根据情况不同有所变化。这里主要分为两种情况，一种情况是函数内部不依赖外部状态，例如"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function __clickHanler(index) {
  tabRef.current[index].appeared = true
  setCurrent(index)
}
`})}),`
`,i.jsx(e.p,{children:"那么编译缓存逻辑与上面的元素是完全一致的，代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let t0;

if ($[0] === Symbol.for("react.memo_cache_sentinel")) {
  t0 = function __clickHanler(index) {
    tabRef.current[index].appeared = true;
    setCurrent(index);
  };

  $[0] = t0;
} else {
  t0 = $[0];
}
`})}),`
`,i.jsx(e.p,{children:"另外一种情况是有依赖外部状态，例如"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`const [count, setCount] = useState(0)

// 此时依赖 counter，注意区分他们的细微差别
function __clickHanler() {
  setCount(count + 1)
}
`})}),`
`,i.jsx(e.p,{children:"那么编译结果，则只需要把是否重新初始化的判断条件调整一下即可"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let t0;

if ($[0] !== count) {
  t0 = function __clickHanler() {
    setCount(count + 1);
  };

  $[0] = count;
  $[1] = t0;
} else {
  t0 = $[1];
}
`})}),`
`,i.jsx(e.p,{children:"这样，当 count 发生变化，t0 就会重新赋值，而不会采用缓存值，从而完美的绕开了闭包问题。"}),`
`,i.jsxs(e.p,{children:["除此在外，无论是函数、还是组件元素的缓存判断条件，都会优先考虑外部条件，使用 ",i.jsx(e.code,{children:"Symbol.for"})," 来判断时，则表示没有其他任何值的变化会影响到该缓存结果。"]}),`
`,i.jsx(e.p,{children:"例如，一个组件元素如下所示"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`<button onClick={__clickHanler}>counter++</button>
`})}),`
`,i.jsxs(e.p,{children:["此时它的渲染结果受到 ",i.jsx(e.code,{children:"__clickHanler"})," 的影响，因此，判断条件则不会使用 ",i.jsx(e.code,{children:"Symbol.for"}),"，编译结果如下"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let t3;

if ($[5] !== __clickHanler) {
  t3 = <button onClick={__clickHanler}>Increment</button>;
  $[5] = __clickHanler;
  $[6] = t3;
} else {
  t3 = $[6];
}
`})}),`
`,i.jsxs(e.p,{children:["又例如下面这个元素组件，他的渲染结果受到 ",i.jsx(e.code,{children:"counter"})," 的影响。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`<div>currnt count is: {count}</div>
`})}),`
`,i.jsx(e.p,{children:"因此，它的编译结果为："}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let t2;

if ($[3] !== count) {
  t2 = <div>currnt count is: {count}</div>;
  $[3] = count;
  $[4] = t2;
} else {
  t2 = $[4];
}
`})}),`
`,i.jsx(e.p,{children:"对与这样的编译细节的理解至关重要。在以后的开发中，我们就可以完全不用担心闭包问题而导致程序出现你意想不到的结果了。"}),`
`,i.jsx(e.p,{children:"所有的可缓存对象，全部都是这个类似的逻辑。他的粒度细到每一个函数，每一个元素。这一点意义非凡，他具体代表着什么，我们在后续聊性能优化的时候再来明确。"}),`
`,i.jsx(e.p,{children:"不过需要注意的是，对于 map 的循环语法，在编译结果中，缓存的是整个结果，而不是渲染出来的每一个元素。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`{tabs.map((item, index) => {
  return (
    <item.component
      appearder={item.appeared}
      key={item.title}
      selected={current === index}
    />
  )
})}
`})}),`
`,i.jsx(e.p,{children:"编译结果表现如下："}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`let t4;

if ($[7] !== current) {
  t4 = tabs.map((item_0, index_1) => (
    <item_0.component
      appearder={item_0.appeared}
      key={item_0.title}
      selected={current === index_1}
    />
  ));
  $[7] = current;
  $[8] = t4;
} else {
  t4 = $[8];
}
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"对这种情况的了解非常重要，因为有的时候我们需要做更极限的性能优化时，map 循环可能无法满足我们的需求。因为此时循环依然在执行，后面的案例中我们会更具体的分析 Map 的表现"}),`
`]}),`
`,i.jsx(e.p,{children:"目前这个阶段，我们最主要的是关心程序执行逻辑与预想的要保持一致，因此接下来，我们利用三个案例，来分析编译之后的执行过程。"}),`
`,i.jsx(e.h2,{children:"4"}),`
`,i.jsx(e.p,{children:"实践案例一：counter 递增"}),`
`,i.jsxs(e.p,{children:["通过上面对 Compiler 渲染结果的理解，我们应该已经大概知道下面这段代码最终会渲染成什么样。我们目前要思考的问题就是，这个例子，编译之后，",i.jsx(e.strong,{children:"收益表现在哪里？"})]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function Index() {
  const [counter, setCounter] = useState(0)

  function __clickHanler() {
    console.log(counter)
    setCounter(counter + 1)
  }

  return (
    <div>
      <div id='tips'>基础案例，state 递增</div>
      <button onClick={__clickHanler}>counter++</button>
      <div className="counter">counter: {counter}</div>
    </div>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["一起来分析一下，当我们点击按钮时，此时 ",i.jsx(e.code,{children:"counter"})," 增加，因此 ",i.jsx(e.code,{children:"__clickHanler"})," 无法缓存，需要重新创建，那么 button 按钮和 counter 标签都无法缓存。"]}),`
`,i.jsxs(e.p,{children:["此时，只有 ",i.jsx(e.code,{children:"tips"})," 元素可以被缓存。但是 ",i.jsx(e.code,{children:"tips"})," 元素本身是一个基础元素，在原本的逻辑中，经历一个简单的判断就能知道不需要重新创建节点因此本案例的编译之后收益非常效果。"]}),`
`,i.jsx(e.p,{children:"编译代码结果如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function Index() {
  const $ = _c(10);

  const [counter, setCounter] = useState(0);
  let t0;

  if ($[0] !== counter) {
    t0 = function __clickHanler() {
      console.log(counter);
      setCounter(counter + 1);
    };

    $[0] = counter;
    $[1] = t0;
  } else {
    t0 = $[1];
  }

  const __clickHanler = t0;
  let t1;

  if ($[2] === Symbol.for("react.memo_cache_sentinel")) {
    t1 = <div id="tips">基础案例，state 递增</div>;
    $[2] = t1;
  } else {
    t1 = $[2];
  }

  let t2;

  if ($[3] !== __clickHanler) {
    t2 = <button onClick={__clickHanler}>counter++</button>;
    $[3] = __clickHanler;
    $[4] = t2;
  } else {
    t2 = $[4];
  }

  let t3;

  if ($[5] !== counter) {
    t3 = <div className="counter">counter: {counter}</div>;
    $[5] = counter;
    $[6] = t3;
  } else {
    t3 = $[6];
  }

  let t4;

  if ($[7] !== t2 || $[8] !== t3) {
    t4 = (
      <div>
        {t1}
        {t2}
        {t3}
      </div>
    );
    $[7] = t2;
    $[8] = t3;
    $[9] = t4;
  } else {
    t4 = $[9];
  }

  return t4;
}
`})}),`
`,i.jsx(e.h2,{children:"5"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"实践案例二：昂贵的子组件"})}),`
`,i.jsx(e.p,{children:"在上面一个例子的基础之上，我们新增一个子组件。该子组件的渲染非常耗时。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function Expensive() {
  var cur = performance.now()
  while (performance.now() - cur < 1000) {
    // block 1000ms
  }
  console.log('hellow')
  return (
    <div>我是一个耗时组件</div>
  )
}
`})}),`
`,i.jsx(e.p,{children:"父组件中引入该子组件，其他逻辑完全一致。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-diff",children:`function Index() {
  const [counter, setCounter] = useState(0)

  function __clickHanler() {
    setCounter(counter + 1)
  }

  return (
    <div>
      <div id='tips'>基础案例，state 递增</div>
      <button onClick={__clickHanler}>counter++</button>
      <div className="counter">counter: {counter}</div>
+      <Expensive />
    </div>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["我们在之前「React 知命境」的学习中，对于性能优化已经有非常深厚的积累。因此我们知道，在这种情况之下，由于父组件的状态发生了变化，导致子组件 ",i.jsx(e.code,{children:"Expensive"})," 会在 counter 递增时重复执行。从而导致页面渲染时非常卡顿。"]}),`
`,i.jsx(e.p,{children:"编译之后，针对这一段逻辑的优化代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let t4;

if ($[7] === Symbol.for("react.memo_cache_sentinel")) {
  t4 = <Expensive />;
  $[7] = t4;
} else {
  t4 = $[7];
}
`})}),`
`,i.jsx(e.p,{children:"正如代码所表达的一样，由于这一个组件，并没有依赖任何外部状态，因此只需要在初始化时赋值一次即可。后续直接使用缓存值。"}),`
`,i.jsxs(e.p,{children:["因此，在这个案例中，Compiler 编译之后的",i.jsx(e.strong,{children:"优化效果非常明显，收益巨大"}),"。"]}),`
`,i.jsx(e.h2,{children:"6"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"实践案例三：Tab 切换"})}),`
`,i.jsx(e.p,{children:"这个案例会非常的复杂，经验稍微欠缺一点的前端开发可能都实现不了。我们先来看一下我想要实现的演示效果。"}),`
`,i.jsx(e.p,{children:i.jsx(e.img,{src:"https://files.mdnice.com/user/3925/551a8f32-866d-4155-881a-5e3bce0d38ff.gif",alt:""})}),`
`,i.jsx(e.p,{children:"从演示效果上来看，这是一个普通的 tab 切换。但是先别急，我还有要求。我希望能实现极限的性能优化。"}),`
`,i.jsx(e.p,{children:"1、我希望首次渲染时，页面渲染更少的内容，因此此时，只能先渲染默认的 Panel。其他 Panel 需要在点击对应的按钮时，才渲染出来。"}),`
`,i.jsx(e.p,{children:"2、在切换过程中，我希望能够缓存已经渲染好的 Panel，只需要在样式上做隐藏，而不需要在后续的交互中重复渲染内容"}),`
`,i.jsx(e.p,{children:"3、当四个页面都渲染出来之后，再做切换时，此时只会有两个页面会发生变化，上一个选中的页面与下一个选中的页面。另外的页面不参与交互，则不应该 re-render。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"这个案例和要求不算特别难，但是对综合能力的要求还是蛮高的，大家有空可以自己尝试实现一下，看看能不能完全达到要求"}),`
`]}),`
`,i.jsx(e.p,{children:"具体的完整实现我们会在后续的直播中跟大家分享。大家可以加我好友然后进 React19 讨论群，React19 相关的直播消息会第一时间在群内公布。"}),`
`,i.jsx(e.p,{children:"这里，我主要想跟大家分享的就是 map 方法的小细节。有如下代码"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`{tabs.map((item, index) => {
  return (
    <item.component
      appearder={item.appeared}
      key={item.title}
      selected={current === index}
    />
  )
})}
`})}),`
`,i.jsx(e.p,{children:"它的编译结果表现如下："}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`let t4;

if ($[7] !== current) {
  t4 = tabs.map((item_0, index_1) => (
    <item_0.component
      appearder={item_0.appeared}
      key={item_0.title}
      selected={current === index_1}
    />
  ));
  $[7] = current;
  $[8] = t4;
} else {
  t4 = $[8];
}
`})}),`
`,i.jsxs(e.p,{children:["我们会发现，此时编译缓存的是整个 map 表达式，但是由于 map 表达式又依赖于 ",i.jsx(e.code,{children:"current"}),"，因此，在我们点击切换的交互过程中，每一次的 current 都会发生变化，那么这里针对 map 表达式的缓存就没有了任何意义。"]}),`
`,i.jsxs(e.p,{children:["但是实际上，我们可以观察到，我们有 4 个 Panel，点击切换的交互发生时，实际上只有两个 Pannel 发生了变化。因此，最极限的优化是，只有这两个组件对应的函数需要重新 ",i.jsx(e.code,{children:"re-render"}),"，那么我们的代码应该怎么写呢？"]}),`
`,i.jsx(e.p,{children:"其实非常简单，那就是不用 map，将数组拆开直接手写，代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let c1 = tabRef.current[0]
let c2 = tabRef.current[1]
let c3 = tabRef.current[2]
let c4 = tabRef.current[3]
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`<c1.component appearder={c1.appeared} selected={current === 0}/>
<c2.component appearder={c2.appeared} selected={current === 1}/>
<c3.component appearder={c3.appeared} selected={current === 2}/>
<c4.component appearder={c4.appeared} selected={current === 3}/>
`})}),`
`,i.jsx(e.p,{children:"然后，我们就会发现，在编译结果中，不再缓存 map 表达式的结果，而是缓存每一个组件"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let t5;

if ($[7] !== c1.component || $[8] !== c1.appeared || $[9] !== t4) {
  t5 = <c1.component appearder={c1.appeared} selected={t4} />;
  $[7] = c1.component;
  $[8] = c1.appeared;
  $[9] = t4;
  $[10] = t5;
} else {
  t5 = $[10];
}
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"这样做的收益在特定场景下的收益将会非常高。"}),`
`]}),`
`,i.jsx(e.h2,{children:"7"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"强悍的性能：细粒度记忆化更新"})}),`
`,i.jsx(e.p,{children:"经过上面的学习，想必各位道友对 React Compiler 的工作机制已经有了非常深刻的理解。此时，我们就需要分析一下，这样的记忆化更新机制，到底有多强。"}),`
`,i.jsx(e.p,{children:"首先明确一点，和 Vue 等其他框架的依赖收集不同，React Compiler 依然不做依赖收集。"}),`
`,i.jsx(e.p,{children:"React 依然通过从根节点自上而下的 diff 来找出需要更新的节点。在这个过程中，我们会通过大量的判断来决定使用缓存值。可以明确的是，Compiler 编译之后的代码，缓存命中的概率非常高，几乎所有应该缓存的元素和函数都会被缓存起来。"}),`
`,i.jsx(e.p,{children:"**因此，React Compiler 也能够在不做依赖收集的情况下，做到元素级别的超级细粒度更细。**但是，这样做的代价就是，React 需要经历大量的判断来决定是否需要更新。"}),`
`,i.jsx(e.p,{children:"所以这个时候，我们就需要明确，我所谓的大量判断的时间成本，到底有多少？它会不会导致新的性能问题？"}),`
`,i.jsx(e.p,{children:"可以看到，几乎所有的比较都是使用了全等比较，因此，我们可以写一个例子来感知一下，超大量的全等比较到底需要花费多少时间。"}),`
`,i.jsx(e.p,{children:"测试代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`var cur = performance.now()

for(let i = 0; i < 1000000; i++) {
  'xxx' == 'xx'
}
var now = performance.now()
console.log(now - cur)
`})}),`
`,i.jsxs(e.p,{children:["执行结果，比较 100 万次，只需要花费不到 ",i.jsx(e.strong,{children:"1.3 毫秒"}),"。卧槽(¬д¬。)，这太强了啊。我们很难有项目能够达到 1000,000 次的比较级别，甚至许多达到 10000 都难。那也就意味着，这里大量的比较成本，几乎可以忽略不计。"]}),`
`,i.jsx(e.p,{children:i.jsx(e.img,{src:"https://files.mdnice.com/user/3925/c7215fd7-c92d-4aaa-8433-8b93be700fa7.png",alt:""})}),`
`,i.jsx(e.p,{children:"为了对比具体的效果，我们可以判断一下依赖收集的时间成本。"}),`
`,i.jsx(e.p,{children:"首先是使用数组来收集依赖。依然是 100 万次，具体执行结果如下。耗时 8 毫秒。"}),`
`,i.jsx(e.p,{children:i.jsx(e.img,{src:"https://files.mdnice.com/user/3925/8c8d4d13-dc2f-4855-a709-36811a895ba4.png",alt:""})}),`
`,i.jsx(e.p,{children:"使用 Map 来收集依赖。100 万次依赖收集耗时 54 ms。"}),`
`,i.jsx(e.p,{children:i.jsx(e.img,{src:"https://files.mdnice.com/user/3925/7d78bae3-15cd-48cb-aeda-46250e404ddf.png",alt:""})}),`
`,i.jsx(e.p,{children:"使用 WeakMap 来收集依赖，那就更慢了。100万次依赖收集耗时 200 毫秒。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"WeakMap 的 key 不能是一个 number 类型"}),`
`]}),`
`,i.jsx(e.p,{children:i.jsx(e.img,{src:"https://files.mdnice.com/user/3925/f140d968-30ef-42c9-961a-f8fcb8e1cbf0.png",alt:""})}),`
`,i.jsx(e.p,{children:"数据展示给大家了，具体强不强，大家自行判断。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["这里我要明确的是，这样的性能表现，在之前版本的项目中，合理运用 ",i.jsx(e.code,{children:"useCallback/memo"})," 也能做到。只是由于对 React 底层默认命中规则不理解，导致大多数人不知道如何优化到这种程度。React Compiler 简化了这个过程"]}),`
`]}),`
`,i.jsx(e.h2,{children:"8"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"React Compiler 最佳实践"})}),`
`,i.jsx(e.p,{children:"有许多骚操作，React Compiler 并不支持，例如下面这种写法。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`{[1, 2, 3, 4, 5].map((counter) => {
  const [number, setNumber] = useState(0)
  return (
    <div key={\`hello\${counter}\`} onClick={() => setNumber(number + 1)}>
      number: {number}
    </div>
  )
})}
`})}),`
`,i.jsx(e.p,{children:"这个操作骚归骚，但是真的有大佬想要这样写。React 之前的版本依然不支持这种写法。不过好消息是，React 19 支持了..."}),`
`,i.jsx(e.p,{children:"但是 React Compiler 并不支持。对于这些不支持的语法，React Compiler 的做法就是直接跳过不编译，而直接沿用原组件写法。"}),`
`,i.jsx(e.p,{children:"因此，React Compiler 的最佳实践我总结了几条"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsx(e.li,{children:"1、不再使用 useCallback、useMemo、Memo 等缓存函数"}),`
`,i.jsx(e.li,{children:"2、丢掉闭包的心智负担，放心使用即可"}),`
`,i.jsx(e.li,{children:"3、引入严格模式"}),`
`,i.jsx(e.li,{children:"4、在你不熟悉的时候引入 eslint-plugin-react-compiler"}),`
`,i.jsx(e.li,{children:"5、当你熟练之后，弃用它，因为有的时候我们就是不想让它编译我们的组件"}),`
`,i.jsx(e.li,{children:"6、更多的使用 use 与 Action 来处理异步逻辑"}),`
`,i.jsx(e.li,{children:"7、尽可能少的使用 useEffect"}),`
`]}),`
`,i.jsxs(e.p,{children:["因此，一个小小的彩蛋就是，当你不希望你的组件被 Compiler 编译时，你只需要使用 ",i.jsx(e.code,{children:"var"})," 来声明状态即可。因为这不符合它的语法规范"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`var [counter, setCounter] = useState(0)
`})}),`
`,i.jsxs(e.p,{children:["而你改成 ",i.jsx(e.code,{children:"const/let"}),"，它就会又重新编译该组件。可控性与自由度非常高。"]}),`
`,i.jsx(e.h2,{children:"9"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"总结"})}),`
`,i.jsx(e.p,{children:"React Compiler 在保持了函数式编程的开发范式的同时，弥补了之前可能存在性能问题的缺陷，这无疑是进一步确认了 React 在前端框架方向都领先地位。"}),`
`,i.jsx(e.p,{children:"并且 React Compiler 上手成本低，理解起来也不难，未来肯定会快速被开发者所接受。作为开发者我们只需要耐心等待整个生态的跟进，目前从 npm 下载数据上来看，整个生态适配 React19 的积极性非常高。因此距离能成熟使用的时间肯定是不会太长。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"顶尖前端都在关注我，就差你啦，右下角"}),`
`,i.jsx(e.p,{children:"成为 React 高手，推荐阅读 React 哲学"}),`
`]})]})}function OU(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(qb,{...t})}):qb(t)}const vU={"App.js":pU,原代码:mU,"useCache.js":{code:gU,hidden:!0},"Button.jsx":{code:_s,hidden:!0}};function bU(){return i.jsx(Ee,{files:vU,renderArticle:t=>i.jsx(OU,{components:{code:t}})})}const yU=`import {useState} from 'react'
import Button from './Button'
import {_c} from './useCache.js'

export default function Counter() {
  const $ = _c(10);

  if ($[0] !== "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac") {
    for (let $i = 0; $i < 10; $i += 1) {
      $[$i] = Symbol.for("react.memo_cache_sentinel");
    }
    $[0] = "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac";
  }

  const [count, setCount] = useState(0);
  let t0;

  if ($[0] !== count) {
    t0 = function __clickHanler() {
      setCount(count + 1);
    };

    $[0] = count;
    $[1] = t0;
  } else {
    t0 = $[1];
  }

  const __clickHanler = t0;
  let t1;

  if ($[2] === Symbol.for("react.memo_cache_sentinel")) {
    t1 = <div>A Base Case</div>;
    $[2] = t1;
  } else {
    t1 = $[2];
  }

  let t2;

  if ($[3] !== count) {
    t2 = <div>currnt count is: {count}</div>;
    $[3] = count;
    $[4] = t2;
  } else {
    t2 = $[4];
  }

  let t3;

  if ($[5] !== __clickHanler) {
    t3 = <Button onClick={__clickHanler}>Increment</Button>;
    $[5] = __clickHanler;
    $[6] = t3;
  } else {
    t3 = $[6];
  }

  let t4;

  if ($[7] !== t2 || $[8] !== t3) {
    t4 = (
      <div>
        {t1}
        <div className="flex items-center justify-between">
          {t2}
          {t3}
        </div>
      </div>
    );
    $[7] = t2;
    $[8] = t3;
    $[9] = t4;
  } else {
    t4 = $[9];
  }

  return t4;
}
`,jU=`import {useState} from 'react'

export default function Counter() {
  const [count, setCount] = useState(0)

  function __clickHanler() {
    setCount(count + 1)
  }

  return (
    <div>
      <div>A Base Case</div>
      <div className="flex items-center justify-between">
        <div>currnt count is: {count}</div>
        <button onClick={__clickHanler}>Increment</button>
      </div>
    </div>
  )
}
`,SU=`import {useState} from 'react'
export function _c(size) {
  return useState(() => Array.from(size))[0]
}
`;function wU(){const[t,e]=j.useState(0);function n(){e(t+1)}return i.jsxs("div",{children:[i.jsx("div",{children:"A Base Case"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:["currnt count is: ",t]}),i.jsx("button",{onClick:n,children:"Increment"})]})]})}function Yb(t){const e={blockquote:"blockquote",code:"code",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsxs(e.p,{children:["通过上面对 Compiler 渲染结果的理解，我们应该已经大概知道我们的 React 代码最终会渲染成什么样。我们目前要思考的问题就是，我们的代码通过 Compiler 编译之后，",i.jsx(e.strong,{children:"收益表现在哪里？"})]}),`
`,i.jsx(e.p,{children:"接下来我们要分析三个不同的案例，来思考这个问题。这篇文章先分析第一个出现在上一章中，最简单的基础案例"}),`
`,i.jsx(ne,{children:i.jsx(wU,{})}),`
`,i.jsx(e.p,{children:"完整的源代码与编译之后的代码在右侧可以看到。"}),`
`,i.jsxs(e.p,{children:["本文的这个案例中，当我们点击按钮时，此时 ",i.jsx(e.code,{children:"count"})," 增加，"]}),`
`,i.jsxs(e.p,{children:["由于 ",i.jsx(e.code,{children:"__clickHandler"})," 函数内部使用了外部的 ",i.jsx(e.code,{children:"count"})," 状态，因此 ",i.jsx(e.code,{children:"__clickHanler"})," 无法缓存，需要重新创建，"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function __clickHanler() {
  setCount(count + 1)
}
`})}),`
`,i.jsx(e.p,{children:"那么很显然的， button 按钮也就无法缓存"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// 无法缓存
<button onClick={__clickHanler}>Increment</button>
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// 无法缓存
<div>currnt count is: {count}</div>
`})}),`
`,i.jsxs(e.p,{children:["最终，只有 ",i.jsx(e.code,{children:"A Base Case"})," 标签可以被缓存"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`<div>A Base Case</div>
`})}),`
`,i.jsxs(e.p,{children:["因此，在组件由于 count 的增加而反复重新执行的过程中，大多数元素都无法被缓存，需要重新创建，那么也就意味着，这个案例的编译之后的收益为",i.jsx(e.strong,{children:"负收益"}),"。因此，如果你经验比较丰富的话，你可以快速判断你写的当前的组件是否具备明确的正向收益，从而选择是否需要编译当前组件。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"我们可以通过有意违背规则的方式让编译不发生"}),`
`]}),`
`,i.jsx(e.p,{children:"当然，这里多执行的逻辑也并不是很多，我们也可以选择无视。"})]})}function kU(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Yb,{...t})}):Yb(t)}const $U={"App.js":yU,原代码:jU,"useCache.js":{code:SU,hidden:!0},"Button.jsx":{code:_s,hidden:!0}};function NU(){return i.jsx(Ee,{files:$U,renderArticle:t=>i.jsx(kU,{components:{code:t}})})}const CU=`import {useState} from 'react'
import Button from './Button'
import {_c} from './useCache.js'

export default function App() {
  const $ = _c(13);

  if ($[0] !== "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac") {
    for (let $i = 0; $i < 13; $i += 1) {
      $[$i] = Symbol.for("react.memo_cache_sentinel");
    }
    $[0] = "a13b836c47c4cd480504d73b45661476522265776f255f2150833079731132ac";
  }

  const [counter, setCounter] = useState(0);
  let t0;

  if ($[0] !== counter) {
    t0 = function __clickHanler() {
      setCounter(counter + 1);
    };

    $[0] = counter;
    $[1] = t0;
  } else {
    t0 = $[1];
  }

  const __clickHanler = t0;
  let t1;

  if ($[2] === Symbol.for("react.memo_cache_sentinel")) {
    t1 = <div>A Expensive Case</div>;
    $[2] = t1;
  } else {
    t1 = $[2];
  }

  let t2;

  if ($[3] !== counter) {
    t2 = <div className="counter">current counter is: {counter}</div>;
    $[3] = counter;
    $[4] = t2;
  } else {
    t2 = $[4];
  }

  let t3;

  if ($[5] !== __clickHanler) {
    t3 = <Button onClick={__clickHanler}>counter++</Button>;
    $[5] = __clickHanler;
    $[6] = t3;
  } else {
    t3 = $[6];
  }

  let t4;

  if ($[7] !== t2 || $[8] !== t3) {
    t4 = (
      <div className="flex items-center justify-between mt-4">
        {t2}
        {t3}
      </div>
    );
    $[7] = t2;
    $[8] = t3;
    $[9] = t4;
  } else {
    t4 = $[9];
  }

  let t5;

  if ($[10] === Symbol.for("react.memo_cache_sentinel")) {
    t5 = <Expensive />;
    $[10] = t5;
  } else {
    t5 = $[10];
  }

  let t6;

  if ($[11] !== t4) {
    t6 = (
      <div>
        {t1}
        {t4}
        {t5}
      </div>
    );
    $[11] = t4;
    $[12] = t6;
  } else {
    t6 = $[12];
  }

  return t6;
}

function Expensive() {
  var cur = performance.now()
  try {
    while (performance.now() - cur < 100) {
      // block 100ms
    }
  } catch (e) {}


  return (
    <div className='border border-red-600 rounded p-4 mt-4 text-red-500 text-sm leading-6'>
      这是模拟的一个耗时子组件，我的渲染至少要损耗 100ms 的时间，因此如果不做任何优化的情况下，当你快速点击按钮时，你会感受到 counter 的递增会有明显的掉帧。
    </div>
  )
}
`,TU=`import { useState } from 'react'

function App() {
  var [counter, setCounter] = useState(0)

  function __clickHanler() {
    setCounter(counter + 1)
  }

  return (
    <div>
      <div>A Expensive Case</div>
      <div className="flex items-center justify-between mt-4">
        <div className="counter">current counter is: {counter}</div>
        <button onClick={__clickHanler}>counter++</button>
      </div>
      <Expensive/>
    </div>
  )
}

export default App


function Expensive() {
  var cur = performance.now()
  while (performance.now() - cur < 100) {
    // block 100ms
  }

  return (
    <div className='border border-red-500 rounded p-4 mt-4 text-red-500 text-sm leading-6'>
      这是模拟的一个耗时子组件，我的渲染至少要损耗 100ms 的时间，因此如果不做任何优化的情况下，当你快速点击按钮时，你会感受到 counter 的递增会有明显的掉帧。
    </div>
  )
}
`,RU=`import {useState} from 'react'
export function _c(size) {
  return useState(() => Array.from(size))[0]
}
`;function QU(){var[t,e]=j.useState(0);function n(){e(t+1)}return i.jsxs("div",{children:[i.jsx("div",{children:"A Expensive Case"}),i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsxs("div",{className:"counter",children:["current counter is: ",t]}),i.jsx("button",{onClick:n,children:"counter++"})]}),i.jsx(AU,{})]})}function AU(){for(var t=performance.now();performance.now()-t<100;);return i.jsx("div",{className:"border border-red-500 rounded p-4 mt-4 text-red-500 text-sm leading-6",children:"这是模拟的一个耗时子组件，我的渲染至少要损耗 100ms 的时间，因此如果不做任何优化的情况下，当你快速点击按钮时，你会感受到 counter 的递增会有明显的掉帧。"})}function Vb(t){const e={code:"code",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(ne,{children:i.jsx(QU,{})}),`
`,i.jsx(e.p,{children:"这里是未被编译优化的案例。右侧区域渲染的是已经被编译优化之后的案例。他们的初始代码都一模一样。大家可以通过快速点击按钮感受一下编译之后的优化提升。"}),`
`,i.jsx(e.p,{children:"完整的源代码与编译之后的代码在右侧可以看到。"}),`
`,i.jsx(e.p,{children:"我们来分析一下这段代码所带来的提升具体表现在什么地方。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function App() {
  var [counter, setCounter] = useState(0)

  function __clickHanler() {
    setCounter(counter + 1)
  }

  return (
    <div>
      <div>A Expensive Case</div>
      <div className="flex items-center justify-between mt-4">
        <div className="counter">current counter is: {counter}</div>
        <button onClick={__clickHanler}>counter++</button>
      </div>
      <Expensive/>
    </div>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["可以看到，这段代码和上一章的例子中的代码大多数都是一样的，唯一的区别就是这里多一个耗时的子任务 ",i.jsx(e.code,{children:"Expensive"})]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`<Expensive/>
`})}),`
`,i.jsx(e.p,{children:"由于该任务在渲染时，并未有入参依赖其他任何状态或者变量，因此，在初始化之后的更新中，我们可以将其缓存起来，当 counter 不停发生变化导致组件 re-render 时，这个耗时的子任务可以被缓存，它的编译代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`let t5;

if ($[10] === Symbol.for("react.memo_cache_sentinel")) {
  t5 = <Expensive />;
  $[10] = t5;
} else {
  t5 = $[10];
}
`})}),`
`,i.jsxs(e.p,{children:["因此，编译优化之后，我们能够非常明显的感受到",i.jsx(e.strong,{children:"掉帧的现象"}),"消失了。在优化之前，由于 counter 导致组件 re-render，所以该子组件虽然没有任何参数传递进去，但是依然不可避免的需要重新执行，从而导致每次更新的耗时都非常大。"]})]})}function PU(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Vb,{...t})}):Vb(t)}const _U={"App.js":CU,原代码:TU,"useCache.js":{code:RU,hidden:!0},"Button.jsx":{code:_s,hidden:!0}};function EU(){return i.jsx(Ee,{files:_U,renderArticle:t=>i.jsx(PU,{components:{code:t}})})}const MU=`import { useState, useEffect, useRef } from 'react'
import Panel1 from "./Panel1";
import Panel2 from "./Panel2";
import Panel3 from "./Panel3";
import Panel4 from "./Panel4";

const tabs = [
  { title: 'Tailwindcss', component: Panel1, appeared: false },
  { title: 'React', component: Panel2, appeared: false },
  { title: 'Unocss', component: Panel3, appeared: false },
  { title: 'Compiler', component: Panel4, appeared: false }
]

function App() {
  const [current, setCurrent] = useState(0)
  const tabsconfig = useRef([...tabs])

  function __clickHanler(index) {
    tabsconfig.current[index].appeared = true
    setCurrent(index)
  }

  let c1 = tabsconfig.current[0]
  let c2 = tabsconfig.current[1]
  let c3 = tabsconfig.current[2]
  let c4 = tabsconfig.current[3]

  return (
    <div className='bg-gray-100 p-8 rounded-md border border-gray-200'>
      <div>
        {tabs.map((item, index) => (
          <button className={index === current ? 'text-blue-500' : 'text-gray-500'} key={item.title} onClick={() => __clickHanler(index)}>
            {item.title}
          </button>
        ))}
      </div>

      <c1.component appearder={c1.appeared} selected={current === 0}/>
      <c2.component appearder={c2.appeared} selected={current === 1}/>
      <c3.component appearder={c3.appeared} selected={current === 2}/>
      <c4.component appearder={c4.appeared} selected={current === 3}/>
    </div>
  )
}

export default App
`,DU=`import clsx from 'clsx'

function Panel({selected, appeared}) {
  // 这里是会执行的
  // console.log('panel 1 re-render')
  if (!selected && !appeared) {
    return null
  }

  const cls = clsx('border px-4 mt-4 py-4 rounded-md bg-gray-50 leading-8', {
    hidden: !selected
  })

  return (
    <div className={cls}>
      A utility-first CSS framework packed with classes like flex, pt-4, text-center and rotate-90 that can be composed to build any design, directly in your markup.
    </div>
  )
}

export default Panel;
`,ZU=`import clsx from 'clsx'

function Panel({selected, appeared}) {
  // 这里是会执行的
  // console.log('panel 1 re-render')
  if (!selected && !appeared) {
    return null
  }

  const cls = clsx('border px-4 mt-4 py-4 rounded-md bg-gray-50 leading-8', {
    hidden: !selected
  })

  return (
    <div className={cls}>
      React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps.
    </div>
  )
}

export default Panel;
`,zU=`import clsx from 'clsx'

function Panel({selected, appeared}) {
  // 这里是会执行的
  // console.log('panel 1 re-render')
  if (!selected && !appeared) {
    return null
  }

  const cls = clsx('border px-4 mt-4 py-4 rounded-md bg-gray-50 leading-8', {
    hidden: !selected
  })

  return (
    <div className={cls}>
      UnoCSS is the instant atomic CSS engine, that is designed to be flexible and extensible. The core is un-opinionated and all the CSS utilities are provided via presets.
    </div>
  )
}

export default Panel;
`,LU=`import clsx from 'clsx'

function Panel({selected, appeared}) {
  // 这里是会执行的
  // console.log('panel 1 re-render')
  if (!selected && !appeared) {
    return null
  }

  const cls = clsx('border px-4 mt-4 py-4 rounded-md bg-gray-50 leading-8', {
    hidden: !selected
  })

  return (
    <div className={cls}>
      React Compiler is a new experimental compiler that we’ve open sourced to get early feedback from the community. It still has rough edges and is not yet fully ready for production.
    </div>
  )
}

export default Panel;
`;function BU({selected:t,appeared:e}){if(!t&&!e)return null;const n=ct("border px-4 mt-4 py-4 rounded-md bg-gray-50 leading-8",{hidden:!t});return i.jsx("div",{className:n,children:"A utility-first CSS framework packed with classes like flex, pt-4, text-center and rotate-90 that can be composed to build any design, directly in your markup."})}function XU({selected:t,appeared:e}){if(!t&&!e)return null;const n=ct("border px-4 mt-4 py-4 rounded-md bg-gray-50 leading-8",{hidden:!t});return i.jsx("div",{className:n,children:"React lets you build user interfaces out of individual pieces called components. Create your own React components like Thumbnail, LikeButton, and Video. Then combine them into entire screens, pages, and apps."})}function UU({selected:t,appeared:e}){if(!t&&!e)return null;const n=ct("border px-4 mt-4 py-4 rounded-md bg-gray-50 leading-8",{hidden:!t});return i.jsx("div",{className:n,children:"UnoCSS is the instant atomic CSS engine, that is designed to be flexible and extensible. The core is un-opinionated and all the CSS utilities are provided via presets."})}function qU({selected:t,appeared:e}){if(!t&&!e)return null;const n=ct("border px-4 mt-4 py-4 rounded-md bg-gray-50 leading-8",{hidden:!t});return i.jsx("div",{className:n,children:"React Compiler is a new experimental compiler that we’ve open sourced to get early feedback from the community. It still has rough edges and is not yet fully ready for production."})}const Wb=[{title:"Tailwindcss",component:BU,appeared:!1},{title:"React",component:XU,appeared:!1},{title:"Unocss",component:UU,appeared:!1},{title:"Compiler",component:qU,appeared:!1}];function YU(){const[t,e]=j.useState(0),n=j.useRef([...Wb]);function r(c){n.current[c].appeared=!0,e(c)}let s=n.current[0],a=n.current[1],l=n.current[2],o=n.current[3];return i.jsxs("div",{className:"bg-gray-100 p-8 rounded-md border border-gray-200",children:[i.jsx("div",{children:Wb.map((c,u)=>i.jsx("button",{className:u===t?"text-blue-500":"text-gray-500",onClick:()=>r(u),children:c.title},c.title))}),i.jsx(s.component,{appearder:s.appeared,selected:t===0}),i.jsx(a.component,{appearder:a.appeared,selected:t===1}),i.jsx(l.component,{appearder:l.appeared,selected:t===2}),i.jsx(o.component,{appearder:o.appeared,selected:t===3})]})}function VU(){return i.jsxs("div",{children:[i.jsx(WU,{}),i.jsx(HU,{})]})}function WU(){var t=performance.now();return i.jsxs("div",{className:"mt-4",children:["仅执行 1000,000 次耗时 for 循环耗时：",i.jsxs("span",{className:"text-red-500",children:[performance.now()-t," ms"]})]})}function HU(){var t=performance.now();return i.jsxs("div",{className:"mt-4",children:["for 循环中，比较 1000,000 次耗时：",i.jsxs("span",{className:"text-red-500",children:[performance.now()-t," ms"]})]})}function Hb(t){const e={blockquote:"blockquote",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(ne,{children:i.jsx(YU,{})}),`
`,i.jsx(e.p,{children:"这个案例会非常的复杂，经验稍微欠缺一点的前端开发可能都实现不了。我们可以先操作一下上面的按钮，看一下我想要实现的演示效果。"}),`
`,i.jsx(e.p,{children:"从演示效果上来看，这是一个普通的 tab 切换。但是先别急，我还有要求。我希望能实现极限的性能优化。"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsx(e.li,{children:"1、我希望首次渲染时，页面渲染更少的内容，因此此时，只能先渲染默认的 Panel。其他 Panel 需要在点击对应的按钮时，才渲染出来。"}),`
`,i.jsx(e.li,{children:"2、在切换过程中，我希望能够缓存已经渲染好的 Panel，只需要在样式上做隐藏，而不需要在后续的交互中重复渲染内容"}),`
`,i.jsx(e.li,{children:"3、当四个页面都渲染出来之后，再做切换时，此时只会有两个页面会发生变化，上一个选中的页面与下一个选中的页面。另外的页面不参与交互，则不应该 re-render。"}),`
`]}),`
`,i.jsx(e.p,{children:"这个案例和要求不算特别难，但是对综合能力的要求还是蛮高的，大家可以自己动手尝试一下试试看。"}),`
`,i.jsx(e.p,{children:"具体的完整实现请看右侧代码。"}),`
`,i.jsx(e.p,{children:"这里，我主要想跟大家分享的就是 map 方法的小细节。有如下代码"}),`
`,i.jsxs(e.p,{children:["因为在本案例中， 4 个按钮对应 4 个页面，因此我们通常会使用 ",i.jsx(e.code,{children:".map"})," 方法来渲染他们。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`{tabs.map((item, index) => {
  return (
    <item.component
      appearder={item.appeared}
      key={item.title}
      selected={current === index}
    />
  )
})}
`})}),`
`,i.jsx(e.p,{children:"它的编译结果表现如下："}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-jsx",children:`let t4;

if ($[7] !== current) {
  t4 = tabs.map((item_0, index_1) => (
    <item_0.component
      appearder={item_0.appeared}
      key={item_0.title}
      selected={current === index_1}
    />
  ));
  $[7] = current;
  $[8] = t4;
} else {
  t4 = $[8];
}
`})}),`
`,i.jsxs(e.p,{children:["我们会发现，此时编译缓存的是整个 map 表达式，但是由于 map 表达式又依赖于 ",i.jsx(e.code,{children:"current"}),"，因此，在我们点击切换的交互过程中，每一次的 current 都会发生变化，那么这里针对 map 表达式的缓存就没有了任何意义。"]}),`
`,i.jsxs(e.p,{children:["但是实际上，我们可以观察到，我们有 4 个 Panel，点击切换的交互发生时，实际上只有两个 Pannel 发生了变化。因此，最极限的优化是，只有这两个组件对应的函数需要重新 ",i.jsx(e.code,{children:"re-render"}),"，那么我们的代码应该怎么写呢？"]}),`
`,i.jsx(e.p,{children:"其实非常简单，那就是不用 map，将数组拆开直接手写，代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`let c1 = tabsconfig.current[0]
let c2 = tabsconfig.current[1]
let c3 = tabsconfig.current[2]
let c4 = tabsconfig.current[3]
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<c1.component appearder={c1.appeared} selected={current === 0}/>
<c2.component appearder={c2.appeared} selected={current === 1}/>
<c3.component appearder={c3.appeared} selected={current === 2}/>
<c4.component appearder={c4.appeared} selected={current === 3}/>
`})}),`
`,i.jsx(e.p,{children:"然后，我们就会发现，在编译结果中，不再缓存 map 表达式的结果，而是缓存每一个组件"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let t5;

if ($[7] !== c1.component || $[8] !== c1.appeared || $[9] !== t4) {
  t5 = <c1.component appearder={c1.appeared} selected={t4} />;
  $[7] = c1.component;
  $[8] = c1.appeared;
  $[9] = t4;
  $[10] = t5;
} else {
  t5 = $[10];
}
`})}),`
`,i.jsx(e.p,{children:"这样做的收益在特定场景下的收益将会非常高。因为我们这里省掉了其他页面的 re-render，有的时候，我们的 tab 页面可能有十多个。"}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"1"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"总结一下：强悍的性能：细粒度记忆化更新"})}),`
`,i.jsx(e.p,{children:"经过前面原理的分析与多个案例的分析，想必各位道友对 React Compiler 的工作机制已经有了非常深刻的理解。此时，我们就需要分析一下，这样的记忆化更新机制，到底有多强。"}),`
`,i.jsx(e.p,{children:"首先明确一点，和 Vue 等其他框架的依赖收集不同，React Compiler 依然不做依赖收集。"}),`
`,i.jsx(e.p,{children:"React 依然通过从根节点自上而下的 diff 来找出需要更新的节点。在这个过程中，我们会通过大量的判断来决定使用缓存值。可以明确的是，Compiler 编译之后的代码，缓存命中的概率非常高，几乎所有应该缓存的元素和函数都会被缓存起来。"}),`
`,i.jsx(e.p,{children:"**因此，React Compiler 也能够在不做依赖收集的情况下，做到元素级别的超级细粒度更细。**但是，这样做的代价就是，React 需要经历大量的判断来决定是否需要更新。"}),`
`,i.jsx(e.p,{children:"所以这个时候，我们就需要明确，我所谓的大量判断的时间成本，到底有多少？它会不会导致新的性能问题？"}),`
`,i.jsx(e.p,{children:"可以看到，几乎所有的比较都是使用了全等比较，因此，我们可以写一个例子来感知一下，超大量的全等比较到底需要花费多少时间。"}),`
`,i.jsx(e.p,{children:"测试代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`export default function Demo02() {
  return (
    <div>
      <OnlyFor />
      <ForAndJudge />
    </div>
  )
}

function OnlyFor() {
  var cur = performance.now()

  for(let i = 0; i < 1000000; i++) {}

  return (
    <div className='mt-4'>
      仅执行 1000,000 次耗时 for 循环耗时：
      <span className='text-red-500'>{performance.now() - cur} ms</span>
    </div>
  )
}


function ForAndJudge() {
  var cur = performance.now()

  for(let i = 0; i < 1000000; i++) {
    'xxx' === 'xx'
  }

  return (
    <div className='mt-4'>
      for 循环中，比较 1000,000 次耗时：
      <span className='text-red-500'>{performance.now() - cur} ms</span>
    </div>
  )
}
`})}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(VU,{})}),`
`,i.jsxs(e.p,{children:["由于 for 循环本身也会消耗一点时间，因此我这里单独列出来了 for 循环中不执行任何逻辑的耗时结果。我们可以多次点击 ",i.jsx(e.code,{children:"reload"})," 按钮查看耗时波动。"]}),`
`,i.jsx(e.p,{children:"执行结果发现，在我的设备上，在 for 循环中比较 100 万次，总花费时间在 0.5ms 到 1.5ms 之间波动，而且通过对比我们可以知道，这里边的耗时的一大部分是 for 循环的逻辑。如果去除 for 循环的耗时，我们会发现，纯粹的比较耗时可能仅 0.1ms 到 0.5ms 之间。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"由于执行耗时有小范围的波动，因此有的时候下面的执行时间反而更短这是正常的"}),`
`]}),`
`,i.jsxs(e.p,{children:[i.jsx(e.strong,{children:"卧槽(¬д¬。)，这太强了啊"}),"。"]}),`
`,i.jsxs(e.p,{children:["我们很难有项目能够达到 1000,000 次的比较级别，甚至许多达到 10000 都难。那也就意味着，",i.jsx(e.strong,{children:"这里大量比较的时间成本，几乎可以忽略不计"}),"。因此，在执行速度上，Compiler 的之后性能表现将会非常强悍。"]}),`
`,i.jsxs(e.p,{children:["由此我们可以得出结论，",i.jsx(e.strong,{children:"经过 Compiler 优化的项目，可以以极低的时间成本，做到元素级别的细粒度更新。"})]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["这里我要明确的是，这样的性能表现，在之前版本的项目中，合理运用 ",i.jsx(e.code,{children:"useCallback/memo"})," 也能做到。只是由于对 React 底层默认命中规则不理解，导致大多数人不知道如何优化到这种程度。React Compiler 简化了这个过程"]}),`
`]}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"2"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"React Compiler 最佳实践"})}),`
`,i.jsx(e.p,{children:"有许多骚操作，React Compiler 并不支持，例如下面这种写法。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`{[1, 2, 3, 4, 5].map((counter) => {
  const [number, setNumber] = useState(0)
  return (
    <div key={\`hello\${counter}\`} onClick={() => setNumber(number + 1)}>
      number: {number}
    </div>
  )
})}
`})}),`
`,i.jsx(e.p,{children:"这个操作骚归骚，但是真的有大佬想要这样写。React 之前的版本依然不支持这种写法。不过好消息是，React 19 支持了..."}),`
`,i.jsx(e.p,{children:"但是 React Compiler 并不支持。对于这些不支持的语法，React Compiler 的做法就是直接跳过不编译，而直接沿用原组件写法。"}),`
`,i.jsx(e.p,{children:"因此，React Compiler 的最佳实践我总结了几条"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsx(e.li,{children:"1、不再使用 useCallback、useMemo、Memo 等缓存函数"}),`
`,i.jsx(e.li,{children:"2、丢掉闭包的心智负担，放心使用即可"}),`
`,i.jsx(e.li,{children:"3、引入严格模式"}),`
`,i.jsx(e.li,{children:"4、在你不熟悉的时候引入 eslint-plugin-react-compiler"}),`
`,i.jsx(e.li,{children:"5、当你熟练之后，弃用它，因为有的时候我们就是不想让它编译我们的组件"}),`
`,i.jsx(e.li,{children:"6、更多的使用 use 与 Action 来处理异步逻辑"}),`
`,i.jsx(e.li,{children:"7、尽可能少的使用 useEffect"}),`
`]}),`
`,i.jsxs(e.p,{children:["因此，一个小小的彩蛋就是，当你不希望你的组件被 Compiler 编译时，你只需要使用 ",i.jsx(e.code,{children:"var"})," 来声明状态即可。因为这不符合严格模式的语法规范"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`var [counter, setCounter] = useState(0)
`})}),`
`,i.jsxs(e.p,{children:["而你改成 ",i.jsx(e.code,{children:"const/let"}),"，它就会又重新编译该组件。可控性与自由度非常高。"]}),`
`,i.jsx(e.h2,{children:i.jsx(e.em,{children:"3"})}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"总结"})}),`
`,i.jsx(e.p,{children:"React Compiler 在保持了对原有语法的弱侵入性的同时，又做到了保持了函数式编程的开发范式，并且弥补了之前可能存在性能问题的缺陷，这无疑是进一步确认了 React 在前端框架方向都领先地位。React Compiler 把虚拟 DOM 的性能表现推向了极致。和进几年声望比较大的 signal 相比，将不会存在性能短板，甚至由于并发模式的存在，React 项目的上限将会比其他前端框架更高。"}),`
`,i.jsx(e.p,{children:"并且 React Compiler 上手成本低，理解起来也不难，未来肯定会快速被大量开发者所接受。作为开发者我们只需要放心使用即可。"})]})}function IU(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Hb,{...t})}):Hb(t)}const GU={"App.js":MU,"Panel1.jsx":DU,"Panel2.jsx":ZU,"Panel3.jsx":zU,"Panel4.jsx":LU,"Button.jsx":{code:_s,hidden:!0}};function FU(){return i.jsx(Ee,{files:GU,renderArticle:t=>i.jsx(IU,{components:{code:t}})})}function JU(){return i.jsxs("form",{id:"form",method:"get",className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("label",{className:"w-[100px]",children:"First name: "}),i.jsx("input",{type:"text",defaultValue:"Jake",name:"fname"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("label",{className:"w-[100px]",children:"Last name: "}),i.jsx("input",{type:"text",defaultValue:"Ma",name:"lname"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",children:"提交"})})]})}function Ib(t){const e={blockquote:"blockquote",code:"code",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsxs(e.p,{children:[i.jsx(e.strong,{children:"在 html 的基础知识中，表单是很重要的一个环节"}),"，但是由于前端框架的盛行，原生表单开发方式相关的知识被部分前端框架所遗忘，很多人对 form action，formdata 很陌生。因此，当看到有消息称 React 19 支持了 form action 之后，许多前端感觉有点懵。这是啥？"]}),`
`,i.jsxs(e.p,{children:["React 19 在开发方式的引导上，意图非常明显，那就是希望开发者能尽量减少对 useState 与 useEffect 的使用。因此，在获取数据时，提供了 ",i.jsx(e.code,{children:"use(promise)"})," 开发方式，在提交数据时，则提供了 ",i.jsx(e.code,{children:"formaction"})," 的方式，这实际上是更加靠近原生 html 的思路。因此在学习 form action 时，需要道友们对 html 中的表单元素，有一个基础的认识。"]}),`
`,i.jsx(e.hr,{}),`
`,i.jsx(e.h3,{children:"HTML form action"}),`
`,i.jsx(e.p,{children:"先来看一段简单的代码"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<form id="form" method="get">
  First name:
  <input type="text" value="Jake" name="fname">
  Last name:
  <input type="text" value="Ma" name="lname">
  <input type="submit" value="提交">
</form>
`})}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(JU,{})}),`
`,i.jsx(e.p,{children:"大家可以在 input 中修改输入内容，然后点击提高，此时页面会刷新，然后观察 url 中参数的变化。"}),`
`,i.jsxs(e.p,{children:["当我们使用表单 form 元素时，内部的表单元素可以根据 ",i.jsx(e.code,{children:"name"})," 属性与 ",i.jsx(e.code,{children:"value | defaultValue"})," 值自动组合成一个完整的序列化表单对象。我们不再需要额外去拼接他们。"]}),`
`,i.jsx(e.p,{children:"合成的序列化对象，我们称之为 FormData， 这是一个特殊的对象。我们可以直接通过如下方式获取到该对象"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`let formdata = new FormData(form)

formdata.get('fname')
formdata.get('lname')
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["我们无法直接观察到 FormData 的值，需要使用 ",i.jsx(e.code,{children:".get"})," 方法来获取。"]}),`
`]}),`
`,i.jsxs(e.p,{children:["FormData 也可以被网络请求支持，例如我们可以把 ",i.jsx(e.code,{children:"FormData"})," 对象作为 fetch 请求的 ",i.jsx(e.code,{children:"body"}),"，直接发送"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`form.onsubmit = async e => {
  e.preventDefault()

  const response = await fetch('/post/user', {
    method: 'POST',
    body: new FormData(form)
  })
  let res = await response.json()
  // do something
}
`})}),`
`,i.jsxs(e.p,{children:["在这个案例中，当 ",i.jsx(e.code,{children:"type='submit'"})," 的按钮点击提交时，",i.jsx(e.code,{children:"onsubmit"})," 就会触发，我们可以在这个回调函数里执行自己的提交逻辑。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"HTTP 中 content-type 字段有专门支持 FormData 的值，如下所示"}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-bash",children:`Content-Type: multipart/form-data
`})}),`
`,i.jsxs(e.p,{children:["除此之外，我们可以使用 form 元素的 ",i.jsx(e.code,{children:"action"})," 属性来简化提交。不过它的表现会不太一样。"]}),`
`,i.jsxs(e.p,{children:["action 接收一个 ",i.jsx(e.code,{children:"URL"})," 作为参数，可以是绝对路径，也是可以相对路径。它表示携带表单数据向该地址发送请求。默认情况下页面会跳转到指定的 URL 地址。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<form id="form" action="xx.html" method="post">
  First name:
  <input type="text" value="Jake" name="fname">
  Last name:
  <input type="text" value="Ma" name="lname">
  <input type="submit" value="提交">
</form>
`})}),`
`,i.jsx(e.p,{children:"服务端可以拦截该地址，并定义响应行为。"}),`
`,i.jsx(e.p,{children:"这样做的好处就是我们可以简化提交行为的代码。无需使用 JavaScript 对逻辑进行任何额外的处理，就能完成一次提交操作。在没有额外要求的情况下，我们可以非常方便的使用这种方式来提交表单数据，上传文件等。"}),`
`,i.jsx(e.p,{children:"了解了这些html form 元素中的基础知识之后，我们下一章再来详细的学习一下 FormData 的基础知识。"})]})}function KU(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Ib,{...t})}):Ib(t)}function eq(){function t(e){localStorage.setItem("active_code",e.get("code")),location.reload()}return i.jsxs("div",{className:"pt-4",children:[i.jsx("div",{className:"rounded-md bg-yellow-50 p-4 border border-yellow-400",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-yellow-700",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Attention needed"}),i.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:i.jsx("p",{children:"你还未输入激活码，或者激活码已过期，请重新输入即可访问"})})]})]})}),i.jsxs("form",{action:t,className:"flex items-center justify-between",children:[i.jsx(Mn,{name:"code",placeholder:"Please input your active code",className:"flex-1 mr-4",pattern:q0}),i.jsx("button",{type:"submit",children:"确认"})]})]})}ki.registerLanguage("javascript",Kg);function tq({className:t,...e}){const n=/language-(\w+)/.exec(t||"");return n?i.jsx(ki,{language:n[1],PreTag:"div",...e,style:e0}):i.jsx("code",{className:t,...e})}function Zs(t){const{renderArticle:e,isAuth:n,isGiscus:r=!0}=t,s=localStorage.getItem("active_code"),a=n?s===q0:!0;return i.jsxs("div",{className:"keep max-w-[700px] mx-auto",children:[a?e(tq):i.jsx(eq,{}),r&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"border-b mt-20 mb-8 text-lg font-bold pb-3"}),i.jsx(Ld,{repo:"yangbo5207/react19feature",repoId:"R_kgDOMGiHOw",category:"General",categoryId:"DIC_kwDOMGiHO84Cf8dR",maping:"pathname",term:"欢迎道友",strict:"0",reactionsEnabled:"1",emitMetadata:"1",inputPosition:"top",lang:"zh-CN",crossorigin:"anonymous",async:!0})]})]})}function nq(){return i.jsx(Zs,{renderArticle:t=>i.jsx(KU,{components:{code:t}})})}function Gb(t){const e={code:"code",h3:"h3",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.h3,{children:"FormData 使用详解"}),`
`,i.jsx(e.p,{children:"FormData API 如下所示。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-c++",children:`FormData
  [[Prototype]]
    .append: f append()
    .delete: f delete()
    .entries: f entries()
    .forEach: f forEach()
    .get: f ()
    .getAll: f getAll()
    .has: f has()
    .keys: f keys()
    .set: f ()
    .values: f values()
`})}),`
`,i.jsxs(e.p,{children:["我们可以先创建一个空的 FormData 对象，然后通过 ",i.jsx(e.code,{children:"append"})," 方法来添加属性。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const formdata = new FormData()
formdata.append('title', 'hello world')
`})}),`
`,i.jsx(e.p,{children:"也可以直接使用 form 元素对象进行初始化。并在子表单元素中合并具体的字段和值。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<form id="form" method="post">
  First name:
  <input type="text" value="Jake" name="fname">
  Last name:
  <input type="text" value="Ma" name="lname">
  <input type="submit" value="提交">
</form>
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`const formdata = new FormData(form)
`})}),`
`,i.jsxs(e.p,{children:["我们可以通过 ",i.jsx(e.code,{children:".get"})," 方法获取具体字段的值。在表单元素中，",i.jsx(e.code,{children:"name"})," 属性表示字段名。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`formdata.get('fname')
`})}),`
`,i.jsxs(e.p,{children:["可以有多个同名的 name，因此 ",i.jsx(e.code,{children:".get()"})," 表示获取第一个，",i.jsx(e.code,{children:".getAll()"})," 表示获取所有"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`// 获取所有 name 为 age 的字段，返回数组
formdata.getAll('age')
`})}),`
`,i.jsxs(e.p,{children:["我们可以通过 ",i.jsx(e.code,{children:".set"})," 方法设置对应字段的值。如果字段名不存在，则添加该字段。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`formdata.set('fname', 'Jake')
`})}),`
`,i.jsxs(e.p,{children:["可以通过 ",i.jsx(e.code,{children:".has(key)"})," 来判断是否存在某个字段。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`formdata.has('fname') // true
`})}),`
`,i.jsxs(e.p,{children:["可以通过 ",i.jsx(e.code,{children:".delete(key)"})," 删除某一个字段。"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`formdata.delete('fname')
`})}),`
`,i.jsx(e.p,{children:"我们可以使用 formdata 来实现一个上传文件的功能。"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<form id="form">
  <input type="text" name="firstName" value="John">
  Picture:
  <input type="file" name="picture" accept="image/*">
  <input type="submit">
</form>
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`form.onsubmit = async e => {
  e.preventDefault()

  const response = await fetch('/post/file', {
    method: 'POST',
    body: new FormData(form)
  })
  let res = await response.json()
  // do something
}
`})}),`
`,i.jsx(e.p,{children:"OK，简单了解了 FormData 的常用方式之后，有了这个基础，我们再来学习 react 中的 form action."})]})}function rq(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Gb,{...t})}):Gb(t)}function sq(){return i.jsx(Zs,{renderArticle:t=>i.jsx(rq,{components:{code:t}})})}function C3({files:t,activeFile:e}){return i.jsx(D0,{template:"react",options:{editorHeight:"auto",activeFile:e},theme:Y0,files:t,children:i.jsx(B0,{children:i.jsx(L0,{})})})}function iq(){function t(e){const n=e.get("fname"),r=e.get("lname");alert(`输入内容：FirstName: ${n}, LastName: ${r}`)}return i.jsxs("form",{action:t,className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("label",{className:"w-[100px]",children:"First name: "}),i.jsx("input",{type:"text",defaultValue:"Jake",name:"fname"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("label",{className:"w-[100px]",children:"Last name: "}),i.jsx("input",{type:"text",defaultValue:"Ma",name:"lname"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",children:"提交"})})]})}function T3(){for(var t=[],e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<16;n++)t[n]=e.substr(Math.floor(Math.random()*16),1);return t[8]="-",t.join("")}function aq(t){const{ref:e,onChange:n}=t;function r(s){const a={id:T3(),name:s.get("name"),desc:s.get("desc"),hours:s.get("hours"),rate:s.get("rate"),price:s.get("price")};e.current.close(),n&&n(a)}return i.jsx(Ya,{ref:e,footer:!0,children:i.jsxs("form",{action:r,children:[i.jsx(Mn,{label:"Name",name:"name",placeholder:"Plase input your project name.",required:!0}),i.jsx(Mn,{label:"Desc",name:"desc",placeholder:"please input your project description.",required:!0}),i.jsx(Mn,{label:"Hours",name:"hours",type:"number",placeholder:"please input hours.",required:!0}),i.jsx(Mn,{label:"Rate",name:"rate",type:"number",placeholder:"please input rate.",required:!0}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",children:"Submit"})})]})})}function lq(){const t=j.useRef(null),[e,n]=j.useState([{id:T3(),name:"Logo redesign",desc:"New logo and digital asset playbook.",hours:"20.0",rate:"100.00"}]);function r(a){n([...e,a])}const s=e.reduce((a,l)=>a+l.hours*l.rate,0);return i.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"sm:flex sm:items-center",children:[i.jsxs("div",{className:"sm:flex-auto",children:[i.jsx("h1",{className:"text-base font-semibold leading-6 text-gray-900",children:"Invoice"}),i.jsxs("p",{className:"mt-2 text-sm text-gray-700",children:["For work completed from ",i.jsx("time",{dateTime:"2022-08-01",children:"August 1, 2022"})," to"," ",i.jsx("time",{dateTime:"2022-08-31",children:"August 31, 2022"}),"."]})]}),i.jsx("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:i.jsx("button",{className:"primary",onClick:()=>t.current.show(),children:"Add"})})]}),i.jsx(aq,{ref:t,onChange:r}),i.jsx("div",{className:"-mx-4 mt-8 flow-root sm:mx-0",children:i.jsxs("table",{className:"min-w-full",children:[i.jsxs("colgroup",{children:[i.jsx("col",{className:"w-full sm:w-1/2"}),i.jsx("col",{className:"sm:w-1/6"}),i.jsx("col",{className:"sm:w-1/6"}),i.jsx("col",{className:"sm:w-1/6"})]}),i.jsx("thead",{className:"border-b border-gray-300 text-gray-900",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0",children:"Project"}),i.jsx("th",{scope:"col",className:"hidden px-3 py-3.5 text-right text-sm font-semibold text-gray-900 sm:table-cell",children:"Hours"}),i.jsx("th",{scope:"col",className:"hidden px-3 py-3.5 text-right text-sm font-semibold text-gray-900 sm:table-cell",children:"Rate"}),i.jsx("th",{scope:"col",className:"py-3.5 pl-3 pr-4 text-right text-sm font-semibold text-gray-900 sm:pr-0",children:"Price"})]})}),i.jsx("tbody",{children:e.map(a=>i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsxs("td",{className:"max-w-0 py-5 pl-4 pr-3 text-sm sm:pl-0",children:[i.jsx("div",{className:"font-medium text-gray-900",children:a.name}),i.jsx("div",{className:"mt-1 truncate text-gray-500",children:a.desc})]}),i.jsx("td",{className:"hidden px-3 py-5 text-right text-sm text-gray-500 sm:table-cell",children:a.hours}),i.jsxs("td",{className:"hidden px-3 py-5 text-right text-sm text-gray-500 sm:table-cell",children:["$",a.rate]}),i.jsxs("td",{className:"py-5 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0",children:["$",a.hours*a.rate]})]},a.id))}),i.jsxs("tfoot",{children:[i.jsxs("tr",{children:[i.jsx("th",{scope:"row",colSpan:3,className:"hidden pl-4 pr-3 pt-6 text-right text-sm font-normal text-gray-500 sm:table-cell sm:pl-0",children:"Subtotal"}),i.jsx("th",{scope:"row",className:"pl-4 pr-3 pt-6 text-left text-sm font-normal text-gray-500 sm:hidden",children:"Subtotal"}),i.jsxs("td",{className:"pl-3 pr-4 pt-6 text-right text-sm text-gray-500 sm:pr-0",children:["$",s]})]}),i.jsxs("tr",{children:[i.jsx("th",{scope:"row",colSpan:3,className:"hidden pl-4 pr-3 pt-4 text-right text-sm font-normal text-gray-500 sm:table-cell sm:pl-0",children:"Tax"}),i.jsx("th",{scope:"row",className:"pl-4 pr-3 pt-4 text-left text-sm font-normal text-gray-500 sm:hidden",children:"Tax"}),i.jsx("td",{className:"pl-3 pr-4 pt-4 text-right text-sm text-gray-500 sm:pr-0",children:"$1760.00"})]}),i.jsxs("tr",{children:[i.jsx("th",{scope:"row",colSpan:3,className:"hidden pl-4 pr-3 pt-4 text-right text-sm font-semibold text-gray-900 sm:table-cell sm:pl-0",children:"Total"}),i.jsx("th",{scope:"row",className:"pl-4 pr-3 pt-4 text-left text-sm font-semibold text-gray-900 sm:hidden",children:"Total"}),i.jsxs("td",{className:"pl-3 pr-4 pt-4 text-right text-sm font-semibold text-gray-900 sm:pr-0",children:["$",s-1760]})]})]})]})})]})}const oq=`import Dialog from 'components/Dialog'
import Input from "components/Input";
import getUuid from "@/utils/uuid";

export default function Modal(props) {
  const {ref, onChange} = props

  function action(f) {
    const item = {
      id: getUuid(),
      name: f.get('name'),
      desc: f.get('desc'),
      hours: f.get('hours'),
      rate: f.get('rate'),
      price: f.get('price'),
    }
    ref.current.close()
    onChange && onChange(item)
  }

  return (
    <Dialog ref={ref} footer>
      <form action={action}>
        <Input label='Name' name='name' placeholder='Plase input your project name.' required />
        <Input label='Desc' name='desc' placeholder='please input your project description.' required/>
        <Input label='Hours' name='hours' type='number' placeholder='please input hours.' required/>
        <Input label='Rate' name='rate' type='number' placeholder='please input rate.' required/>

        <div className='flex justify-end'>
          <button type='submit'>Submit</button>
        </div>
      </form>
    </Dialog>
  )
}`,cq=`import { useState, useRef } from 'react'
import Modal from './Modal'
import getUuid from "@/utils/uuid.js";


export default function Table() {
  const modal = useRef(null)

  const [revenues, setRevenues] = useState([{
    id: getUuid(),
    name: 'Logo redesign',
    desc: 'New logo and digital asset playbook.',
    hours: '20.0',
    rate: '100.00',
  }])

  function __onChange(data) {
    setRevenues([...revenues, data])
  }

  const subtotal = revenues.reduce((pre, cur) => {
    return pre + cur.hours * cur.rate
  }, 0)

  return (
    <div className="px-4 sm:px-6 lg:px-8">
      <div className="sm:flex sm:items-center">
        <div className="sm:flex-auto">
          <h1 className="text-base font-semibold leading-6 text-gray-900">Invoice</h1>
          <p className="mt-2 text-sm text-gray-700">
            For work completed from <time dateTime="2022-08-01">August 1, 2022</time> to{' '}
            <time dateTime="2022-08-31">August 31, 2022</time>.
          </p>
        </div>
        <div className="mt-4 sm:ml-16 sm:mt-0 sm:flex-none">
          <button className='primary' onClick={() => modal.current.show()}>Add</button>
        </div>
      </div>
      <Modal ref={modal} onChange={__onChange} />

      <div className="-mx-4 mt-8 flow-root sm:mx-0">
        <table className="min-w-full">
          <colgroup>
            <col className="w-full sm:w-1/2" />
            <col className="sm:w-1/6" />
            <col className="sm:w-1/6" />
            <col className="sm:w-1/6" />
          </colgroup>
          <thead className="border-b border-gray-300 text-gray-900">
          <tr>
            <th scope="col" className="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0">
              Project
            </th>
            <th
              scope="col"
              className="hidden px-3 py-3.5 text-right text-sm font-semibold text-gray-900 sm:table-cell"
            >
              Hours
            </th>
            <th
              scope="col"
              className="hidden px-3 py-3.5 text-right text-sm font-semibold text-gray-900 sm:table-cell"
            >
              Rate
            </th>
            <th scope="col" className="py-3.5 pl-3 pr-4 text-right text-sm font-semibold text-gray-900 sm:pr-0">
              Price
            </th>
          </tr>
          </thead>
          <tbody>
          {revenues.map((project) => (
            <tr key={project.id} className="border-b border-gray-200">
              <td className="max-w-0 py-5 pl-4 pr-3 text-sm sm:pl-0">
                <div className="font-medium text-gray-900">{project.name}</div>
                <div className="mt-1 truncate text-gray-500">{project.desc}</div>
              </td>
              <td className="hidden px-3 py-5 text-right text-sm text-gray-500 sm:table-cell">{project.hours}</td>
              <td className="hidden px-3 py-5 text-right text-sm text-gray-500 sm:table-cell">\${project.rate}</td>
              <td className="py-5 pl-3 pr-4 text-right text-sm text-gray-500 sm:pr-0">\${project.hours * project.rate}</td>
            </tr>
          ))}
          </tbody>
          <tfoot>
          <tr>
            <th
              scope="row"
              colSpan={3}
              className="hidden pl-4 pr-3 pt-6 text-right text-sm font-normal text-gray-500 sm:table-cell sm:pl-0"
            >
              Subtotal
            </th>
            <th scope="row" className="pl-4 pr-3 pt-6 text-left text-sm font-normal text-gray-500 sm:hidden">
              Subtotal
            </th>
            <td className="pl-3 pr-4 pt-6 text-right text-sm text-gray-500 sm:pr-0">\${subtotal}</td>
          </tr>
          <tr>
            <th
              scope="row"
              colSpan={3}
              className="hidden pl-4 pr-3 pt-4 text-right text-sm font-normal text-gray-500 sm:table-cell sm:pl-0"
            >
              Tax
            </th>
            <th scope="row" className="pl-4 pr-3 pt-4 text-left text-sm font-normal text-gray-500 sm:hidden">
              Tax
            </th>
            <td className="pl-3 pr-4 pt-4 text-right text-sm text-gray-500 sm:pr-0">$1760.00</td>
          </tr>
          <tr>
            <th
              scope="row"
              colSpan={3}
              className="hidden pl-4 pr-3 pt-4 text-right text-sm font-semibold text-gray-900 sm:table-cell sm:pl-0"
            >
              Total
            </th>
            <th scope="row" className="pl-4 pr-3 pt-4 text-left text-sm font-semibold text-gray-900 sm:hidden">
              Total
            </th>
            <td className="pl-3 pr-4 pt-4 text-right text-sm font-semibold text-gray-900 sm:pr-0">\${subtotal - 1760}</td>
          </tr>
          </tfoot>
        </table>
      </div>
    </div>
  )
}`;function Fb(t){const e={blockquote:"blockquote",code:"code",h3:"h3",hr:"hr",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"React 19 在表单上提供了更多充满想象空间的 API，它们用好了非常爽，不过一个麻烦的事情是如果你通过自学，想要透彻理解并找到最佳实践可能会非常困难。"}),`
`,i.jsx(e.p,{children:"这里最核心的原因是因为开发思维发生了比较彻底的变化，主要体现在 React19 在尝试弱化受控组件的概念，尝试引导开发者尽可能少的使用 useEffect，并且尽可能少的使用 useState 存储数据。"}),`
`,i.jsx(e.p,{children:"抛开学习成本不谈，我个人认为这是一个非常好的变化，新的开发方式上在开发体验和性能表现上都有非常大的提升。它充分利用了 HTML 中表单元素本身已经支持的能力，例如表单验证，自定义异常样式，自定义错误信息等。"}),`
`,i.jsx(e.p,{children:"不过没关系，我会尽量拆分去学习。确保大家都能读有所得。这一章节就先简单给大家介绍一下 React 在表单上的基础表现。"}),`
`,i.jsx(e.hr,{}),`
`,i.jsx(e.h3,{children:"action 基础"}),`
`,i.jsxs(e.p,{children:["在 HTML 的表单元素中，我们可以通过监听 form 对象的 onsubmit 来回调函数的执行。也可以通过 ",i.jsx(e.code,{children:"action"})," 属性来直接向服务端发送请求。"]}),`
`,i.jsx(e.p,{children:"在 React 19 中，form 元素支持的 action 在这个基础之上发生了一些变化。它支持给 action 传递一个回调函数以供我们使用。该回调函数会将 FormData 作为参数传入。我们可以通过这种方式拿到表单里的所有数据。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"这个变化主要是 React 中并不提倡直接获取元素对象，以及直接往后端发送请求的方式并不常用"}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`export default function Demo01() {
  function __formAction(formData) {
    const fname = formData.get('fname')
    const lname = formData.get('lname')
    alert(\`输入内容：FirstName: \${fname}, LastName: \${lname}\`)
  }
  return (
    <form action={__formAction} className='space-y-3'>
      <div className='flex items-center'>
        <label className='w-[100px]'>First name: </label>
        <input type="text" defaultValue="Jake" name="fname" />
      </div>
      <div className='flex items-center'>
        <label className='w-[100px]'>Last name: </label>
        <input type="text" defaultValue="Ma" name="lname" />
      </div>
      <div className='flex justify-end'>
        <button type='submit'>提交</button>
      </div>
    </form>
  )
}
`})}),`
`,i.jsx(ne,{children:i.jsx(iq,{})}),`
`,i.jsxs(e.p,{children:["当我们点击提交按钮时，action 方法就会触发执行。当然，我们也可以给 ",i.jsx(e.code,{children:"submit"})," 一个 ",i.jsx(e.code,{children:"formAction"})," 属性来达到同样的效果"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`<form>
  ...
  <button formAction={__formAction} type='submit'>提交</button>
</form>
`})}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["默认情况下，当我们点击提交之后，form 会自动清空内部的所有数据，或者重置回  ",i.jsx(e.code,{children:"defaultValue"})]}),`
`,i.jsxs(e.p,{children:["如果你在设置了 action 的同时，又设置了 onSubmit 回调，那么 onSubmit 会优先执行，我们可以通过在 onSbumit 中执行 ",i.jsx(e.code,{children:"e.preventDefault()"})," 来阻止 action 回调的执行"]}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`function __onSubmit(e) {
  e.preventDefault()
  ...
}
`})}),`
`,i.jsx(e.hr,{}),`
`,i.jsx(e.h3,{children:"案例"}),`
`,i.jsx(e.p,{children:"学习了这些基础知识之后，我们来完成一个比较简单的案例。我们在表单中输入信息，并把信息记录展示在一个列表中。案例演示效果如下"}),`
`,i.jsx(ne,{children:i.jsx(lq,{})}),`
`,i.jsxs(e.p,{children:["在这个案例中，我们提供了一个 ",i.jsx(e.code,{children:"Add"})," 按钮，点击该按钮之后，会出现一个弹窗。在弹窗中，我们可以输入每一条信息。输入完成之后，点击提交，输入的信息就会展示在列表中。"]}),`
`,i.jsx(e.p,{children:"完整代码如下"}),`
`,i.jsx(C3,{files:{"index.jsx":cq,"Modal.jsx":oq},activeFile:"index.jsx"})]})}function uq(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(Fb,{...t})}):Fb(t)}function dq(){return i.jsx(Zs,{renderArticle:t=>i.jsx(uq,{components:{code:t}})})}async function R3(t){const e=t.get("title"),n=t.get("content");if(!e||!n)return alert("Miss");await new Promise(r=>setTimeout(r,1e3)),alert(`Title: ${e}, Content: ${n}`)}function hq(){return i.jsxs("form",{action:R3,children:[i.jsx(Mn,{label:"Title",name:"title"}),i.jsx(Mn,{label:"content",name:"content"}),i.jsx(De,{children:"Submit"})]})}function fq({children:t}){const{pending:e}=Eo.useFormStatus();return i.jsx(De,{primary:!0,disabled:e,children:e?"loading...":t})}function Jb(){return i.jsxs("form",{action:R3,children:[i.jsx(Mn,{label:"Title",name:"title"}),i.jsx(Mn,{label:"content",name:"content"}),i.jsx(fq,{children:"Submit"})]})}const zf=`export async function formAction(fd) {
  const title = fd.get('title')
  const content = fd.get('content')
  if (!title || !content) {
    return alert('Miss')
  }
  await new Promise(resolve => setTimeout(resolve, 1000))
  alert(\`Title: \${title}, Content: \${content}\`)
}
`,pq=`import Input from 'components/Input'
import Button from 'components/Button'
import {formAction} from './actions'

export default function Demo01() {
  return (
    <form action={formAction}>
      <Input label='Title' name='title' />
      <Input label='content' name='content' />
      <Button>Submit</Button>
    </form>
  )
}
`,Kb=`import Input from 'components/Input'
import {formAction} from './actions'
import SubmitButton from './SubmitButton'

export default function Demo01() {
  return (
    <form action={formAction}>
      <Input label='Title' name='title' />
      <Input label='content' name='content' />
      <SubmitButton>Submit</SubmitButton>
    </form>
  )
}
`,ey=`import {useFormStatus} from 'react-dom'
import Button from "components/Button";

export default function SubmitButton({children}) {
  const {pending} = useFormStatus()
  return (
    <Button primary disabled={pending}>
      {pending ? 'loading...' : children}
    </Button>
  )
}
`,mq=`import {useState} from 'react'
import { useFormStatus } from 'react-dom'
import clsx from 'clsx'
import './index.css'

export default function Input(props) {
  const {type = 'text', className, required, label, help = '此项规则不匹配', pattern, ...other} = props
  const { pending } = useFormStatus()

  const pclsx = clsx('flex items-center my-10', className)

  return (
    <div className={pclsx}>
      {label && <label className="w-20 text-right font-bold">{label}：</label>}
      <div className='input flex-1'>
        <input type={type} required={required} pattern={pattern} {...other} disabled={pending} />
      </div>
    </div>
  )
}
`;function ty(t){const e={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"注：由于 FormAction 在 next.js 中的表现暂时还不稳定，因此，本文以及后续文章的探讨全部都是基于他们在客户端的交互与表现"}),`
`]}),`
`,i.jsx(ne,{children:i.jsx(hq,{})}),`
`,i.jsx(e.h2,{children:"1"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"action 支持异步回调"})}),`
`,i.jsx(e.p,{children:"一个令人振奋的特性就是，在 React19 中，action 支持传入异步回调函数。我们可以在上面的案例中，输入内容，然后点击提交按钮，你会发现弹窗会在延迟一秒之后展示。"}),`
`,i.jsx(e.p,{children:"案例完整代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`export default function Demo01() {
  async function formAction(fd) {
    const title = fd.get('title')
    const content = fd.get('content')
    if (!title || !content) {
      alert('Miss')
    }
    await new Promise(resolve => setTimeout(resolve, 1000))
    alert(\`Title: \${title}, Content: \${content}\`)
  }
  return (
    <form action={formAction}>
      <Input label='Title' name='title' />
      <Input label='content' name='content' />
      <Button>Submit</Button>
    </form>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["这里一个比较好玩的事情是，我们可以把 ",i.jsx(e.code,{children:"formAction"})," 函数定义到组件外面去。"]}),`
`,i.jsx(Vl,{files:{Demo01:pq,"actions.js":zf}}),`
`,i.jsx(e.p,{children:"有了这个特性的支持，我们就可以非常方便的利用它来实现一些上传逻辑。不过一个小小的需求就是，点击提交之后，接口请求的过程中，我们希望按钮处于禁用状态，那应该怎么办呢？"}),`
`,i.jsxs(e.p,{children:["React 19 提供了名为 ",i.jsx(e.code,{children:"useFormStatus"})," 的 hook 来帮助我们做到这个事情。"]}),`
`,i.jsx(e.h2,{children:"2"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"useFormStatus"})}),`
`,i.jsxs(e.p,{children:["和别的 hook 不同的是，我们需要从 ",i.jsx(e.code,{children:"react-dom"})," 中获取到它的引用"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`import { useFormStatus } from "react-dom";
`})}),`
`,i.jsx(e.p,{children:"useFormStatus 能够在 form 元素的子组件中，获取到表单提交时的 pending 状态和表单内容。"}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"与 form 同属于一个组件，获取不到，只能是封装后的子组件才能获取到"}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`const { pending, data, method, action } = useFormStatus();
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.strong,{children:"pending"})," 为 true 时，表示请求正在进行。我们可以利用这个值的变化在提交按钮上设置 Loading 样式"]}),`
`,i.jsx(e.p,{children:"data 格式为 FormData，表示此次提交里表单的所有内容。"}),`
`,i.jsxs(e.p,{children:["method 表示我们在提交时，所采用的请求方式，默认值为 ",i.jsx(e.code,{children:"get"}),"。"]}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"需要注意的是，提交方式并不需要通过如下方式设置，这样做会报错。"}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<form method="post">

</form>
`})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"action"})," 就是在 form 元素中的 action 回调函数的引用。"]}),`
`,i.jsx(e.h2,{children:"3"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"案例一：提交时设置禁用按钮"})}),`
`,i.jsx(e.p,{children:"为了防止重复提交，我们希望在提交之后就马上禁用按钮，等到提交完成之后再恢复按钮的点击。与此同时，我们可能还需要在 UI 交互上做出一些提示，让用户知道当前正在发送请求"}),`
`,i.jsx(e.p,{children:"交互效果如如下，大家可以自行操作感受一下"}),`
`,i.jsx(ne,{children:i.jsx(Jb,{})}),`
`,i.jsxs(e.p,{children:["这里主要是针对提交按钮做的操作，因此我们需要单独将提交按钮相关的部分拿出来封装成为一个子组件，并在子组件中利用 ",i.jsx(e.code,{children:"useFormStatus"})," 获取异步 action 的 pending 状态。"]}),`
`,i.jsx(e.p,{children:"代码非常的简单，如下所示"}),`
`,i.jsx(Vl,{files:{Demo02:Kb,SubmitButton:ey,"actions.js":zf},active:"1"}),`
`,i.jsx(e.h2,{children:"4"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"案例二：提交时禁止输入内容"})}),`
`,i.jsx(e.p,{children:"通常情况下，我们也希望在表单提交时，不允许输入内容。useFormStatus 可以很容易帮我们做到这一点。"}),`
`,i.jsx(e.p,{children:"实现非常简单，我们将某一个字段单独封装到子组件中，利用 useFormStatus 提供的 pending 状态来判断是否禁用输入，代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function Input2({required, name}) {
  const {pending} = useFormStatus()

  return (
    <div className="form_item">
      <div className="label">Name</div>
      <input
        name={name}
        type="text"
        placeholder='Enter you name'
        disabled={pending}
      />
    </div>
  )
}
`})}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<form action={formAction}>
  <div className="form_item">
    <div className="label">Title</div>
    <input name='title' type="text" placeholder='Enter title' />
  </div>

  <Input2 required name='content' />

  <SubmitButton />
</form>
`})}),`
`,i.jsxs(e.p,{children:["我们还可以更激进一点，将其逻辑下层到 ",i.jsx(e.code,{children:"Input"})," 基础组件的封装，演示效果与代码如下"]}),`
`,i.jsx(ne,{children:i.jsx(Jb,{})}),`
`,i.jsx(Vl,{files:{Demo03:Kb,Input:mq,SubmitButton:ey,"actions.js":zf},active:"1"}),`
`,i.jsx(e.h2,{children:"5"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"总结"})}),`
`,i.jsx(e.p,{children:"useFormStatus 是结合 action 异步请求时使用的 hook，它们是对 HTML 表单能力的增强。因此我们可以借助他们与 HTML 表单元素自身支持的特性实现更复杂的表单交互逻辑。"}),`
`,i.jsxs(e.p,{children:["这里我们需要注意的是 action 与 onSubmit 的区别。onSubmit 会优先于 action 执行。并且，如果我们在 onSubmit 的回调函数中，使用了 ",i.jsx(e.code,{children:"preventDefault"}),"，action 回调将不会执行"]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`function onSubmit(e) {
  e.preventDefault()
  // ...
}
`})}),`
`,i.jsx(e.p,{children:"在 onSubmit 中，我们可以结合 state，通过控制数据的行为来自定义表单行为，而无需过多依赖 HTML 表单元素本身的能力。具体如何抉择大家需要根据自身项目的需求情况来定。"})]})}function gq(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(ty,{...t})}):ty(t)}function xq(){return i.jsx(Zs,{renderArticle:t=>i.jsx(gq,{components:{code:t}})})}async function Oq(t){return t+1}function vq(){const[t,e]=j.useActionState(Oq,0);return i.jsxs("form",{action:e,className:"flex items-center",children:[i.jsx("button",{children:"count++"}),i.jsx("div",{className:"ml-4",children:t})]})}function bq({cart:t=[]}){return i.jsx("div",{children:t.map((e,n)=>i.jsxs("div",{className:"border border-yellow-400 p-4 rounded my-4",children:[i.jsxs("div",{className:"font-bold",children:["title: ",e.title]}),i.jsxs("div",{children:["id: ",e.id]}),i.jsxs("div",{children:["count: ",e.count||0]})]},`cart_${n}`))})}async function yq(t,e,n){const r=e.get("id"),s=e.get("title");return await new Promise(a=>{setTimeout(()=>{n({id:r,title:s,count:t+1}),a()},300)}),t+1}function jq({children:t}){const{pending:e}=Eo.useFormStatus();return i.jsxs(De,{primary:!0,disabled:e,children:[t,e?"...":""]})}function ny({id:t,title:e,onSubmit:n}){const[r,s]=j.useActionState((a,l)=>yq(a,l,n),0);return i.jsxs("form",{action:s,className:"border p-4 my-3 rounded",children:[i.jsxs("h1",{className:"!my-2",children:["book name: ",e]}),i.jsx("input",{type:"hidden",name:"title",value:e}),i.jsx("input",{type:"hidden",name:"id",value:t}),i.jsxs("div",{style:{marginBottom:"20px"},children:["cart count: ",r]}),i.jsx(jq,{children:"ADD TO CART"})]})}function Sq(){const[t,e]=j.useState([]);function n(r){const s=t.find(a=>a.id===r.id);if(s)return s.count+=1,e([...t]);e(a=>[...a,r])}return i.jsxs("div",{children:[i.jsx(ny,{id:"001",title:"JavaScript Core advance",onSubmit:n}),i.jsx(ny,{id:"002",title:"React19 all solution",onSubmit:n}),i.jsx(bq,{cart:t})]})}const wq=`export async function submit(cur, formData, onSubmit) {
  const id = formData.get('id')
  const title = formData.get('title')
  await new Promise((resolve) => {
    setTimeout(() => {
      onSubmit({id, title, count: cur + 1})
      resolve()
    }, 300)
  })
  return cur + 1
}
`,kq=`import { useState } from 'react'

import List from './List'
import BookItem from './BookItem'

export default function Demo02() {
  const [carts, updateCarts] = useState([])

  function addToCart(book) {
    const target = carts.find(cart => cart.id === book.id)
    if (target) {
      target.count += 1
      return updateCarts([...carts])
    }
    updateCarts(carts => [...carts, book])
  }

  return (
    <div>
      <BookItem id='001' title='JavaScript Core advance' onSubmit={addToCart} />
      <BookItem id='002' title='React19 all solution' onSubmit={addToCart} />
      <List cart={carts} />
    </div>
  )
}
`,$q=`import {useFormStatus} from 'react-dom'
import Button from "components/Button";

export default function SubmitButton({children}) {
  const {pending} = useFormStatus()
  return (
    <Button primary disabled={pending}>
      {children}{pending ? '...' : ''}
    </Button>
  )
}
`,Nq=`import {useActionState} from 'react'
import {submit} from './actions.js'
import SubmitButton from './SubmitButton'

function BookItem({id, title, onSubmit}) {
  const [count, formAction] = useActionState((cur, formData) => submit(cur, formData, onSubmit), 0)

  return (
    <form action={formAction} className='border p-4 my-3 rounded'>
      <h1 className='!my-2'>book name: {title}</h1>
      <input type="hidden" name='title' value={title} />
      <input type="hidden" name='id' value={id} />
      <div style={{marginBottom: '20px'}}>cart count: {count}</div>
      <SubmitButton>ADD TO CART</SubmitButton>
    </form>
  )
}

export default BookItem;
`,Cq=`function CartList({cart = []}) {
  return (
    <div>
      {cart.map((item, index) => (
        <div key={\`cart_\${index}\`} className='border border-yellow-400 p-4 rounded my-4'>
          <div className='font-bold'>title: {item.title}</div>
          <div>id: {item.id}</div>
          <div>count: {item.count || 0}</div>
        </div>
      ))}
    </div>
  )
}

export default CartList
`;function ry(t){const e={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...t.components};return i.jsxs(i.Fragment,{children:[i.jsxs(e.blockquote,{children:[`
`,i.jsx(e.p,{children:"注：由于 FormAction 在 next.js 中的表现暂时还不稳定，因此，本文以及后续文章的探讨全部都是基于他们在客户端的交互与表现"}),`
`]}),`
`,i.jsx(ne,{children:i.jsx(vq,{})}),`
`,i.jsx(e.h2,{children:"1"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"useActionState"})}),`
`,i.jsxs(e.p,{children:[i.jsx(e.code,{children:"useActionState"})," 与 useState 的使用基本上是一致的。它同样可以用来定义一个",i.jsx(e.strong,{children:"状态"}),"。他和 useState 不一样的是，",i.jsx(e.code,{children:"useActionState"})," 需要结合 form action 使用，它的更新机制依赖于 action。实例代码如下所示。"]}),`
`,i.jsx(e.p,{children:"useActionState 接收两个参数，第一个参数是一个回调函数，用于获取 action 传递过来的值。第二个参数表示定义状态的初始值。"}),`
`,i.jsx(e.p,{children:"回调函数中，也接收两个参数，第一个参数表示当前状态值。第二参数表示表单 action 提交传递过来的 FormData 值。"}),`
`,i.jsx(e.p,{children:"简单的代码如下"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-javascript",children:`import { useActionState } from 'react'

async function increment(cur) {
  return cur + 1
}

export default function Demo01() {
  const [state, action] = useActionState(increment, 0)
  return (
    <form action={action} className='flex items-center'>
      <button>count++</button>
      <div className='ml-4'>{state}</div>
    </form>
  )
}
`})}),`
`,i.jsxs(e.p,{children:["这里需要特别注意的是，我们可以轻松将 useActionAtate 的更新方法 ",i.jsx(e.code,{children:"increment"})," 放到函数之外去。这里的一个好处是更利于与其他组件或者 server 进行交互。在解耦上非常有用。"]}),`
`,i.jsx(e.h2,{children:"2"}),`
`,i.jsx(e.p,{children:i.jsx(e.strong,{children:"复杂案例"})}),`
`,i.jsx(e.p,{children:"大家先来看一下演示效果。然后再根据代码学习，这是一个比较复杂的案例。"}),`
`,i.jsx(ne,{reload:!0,children:i.jsx(Sq,{})}),`
`,i.jsx(Vl,{files:{Demo02:kq,BookItem:Nq,"actions.js":wq,SubmitButton:$q,List:Cq}}),`
`,i.jsxs(e.blockquote,{children:[`
`,i.jsxs(e.p,{children:["在 next.js 中使用时，我们可以把 action 单独执行服务端的逻辑，从而轻松做到客户端组件与服务端组件的交互。上面案例中的 ",i.jsx(e.code,{children:"actions.js"})," 则表示服务端的代码"]}),`
`]}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-js",children:`"use server";

export async function addToCart(prevState, queryData) {
  const itemID = queryData.get('itemID');
  if (itemID === "1") {
    return {
      success: true,
      cartSize: 12,
    };
  } else {
    return {
      success: false,
      message: "The item is sold out.",
    };
  }
}
`})})]})}function Tq(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(ry,{...t})}):ry(t)}function Rq(){return i.jsx(Zs,{renderArticle:t=>i.jsx(Tq,{components:{code:t}})})}const Q3=[{type:"tip",name:"前言"},{path:"index",name:"1、开发方式变革",component:oZ},{path:"layers",name:"2、学习的三个层次",component:gZ},{path:"create",name:"3、创建项目",component:wZ},{type:"tip",name:"use(promise)"},{path:"use/base",name:"3、use 基础知识",component:XZ},{path:"use/suspense",name:"4、Suspense",component:iz},{path:"use/update",name:"5、点击更新数据",component:yz},{path:"use/initialize",name:"6、初始化请求并更新",component:Mz},{path:"use/updatetolist",name:"7、请求并新增到列表",component:eL},{path:"use/loadmore",name:"8、分页列表加载更多",component:cL},{path:"use/search",name:"9、搜索",component:yL},{path:"use/tabs",name:"10、tab 简单切换",component:AL,label:"1"},{path:"use/tabshard",name:"11、tab 缓存切换",component:HL,label:"2"},{path:"use/fromchildren",name:"12、父级获取数据",component:lB,label:"3"},{path:"use/nest",name:"13、Suspense 嵌套",component:OB},{path:"use/react16",name:"14、在低版本中使用",component:RB},{type:"tip",name:"use(context)"},{path:"use/ref",name:"15、ref 调整",component:XB},{path:"use/modal",name:"16、自定义弹窗组件",component:IB},{path:"use/contextmodify",name:"17、弹窗中更改内容",component:aX},{path:"use/skinswitch",name:"18、皮肤切换次数",component:xX},{type:"tip",name:"并发 API"},{path:"use/deferred",name:"19、useDeferredValue",component:_X},{path:"use/transition",name:"20、useTransition",component:KX},{type:"tip",name:"Compiler"},{path:"use/importwith19",name:"21、React 19 中引入",component:rU},{path:"use/importwithlower",name:"22、低版本中引入",component:oU},{path:"use/importwithwebpack",name:"23、webpack中引入",component:fU},{path:"use/compilerbase",name:"24、Compiler 编译原理",component:bU},{path:"use/compilercount",name:"25、收益分析-递增",component:NU},{path:"use/compilerexpensive",name:"26、收益分析-耗时子组件",component:EU},{path:"use/compilertabs",name:"27、收益分析-tabs",component:FU},{type:"tip",name:"form action"},{path:"formaction/base",name:"28、form 基础",component:nq},{path:"formaction/formdata",name:"29、FormData 基础",component:sq},{path:"formaction/action",name:"30、form action",component:dq},{path:"formaction/useformstatus",name:"31、useFormStatus",component:xq},{path:"formaction/useactionstate",name:"32、useActionState",component:Rq}];function sy(){return i.jsx("div",{children:Q3.map((t,e)=>t.type==="tip"?i.jsx("div",{className:"mx-2 text-sm px-4 text-gray-400 first:pt-0 pb-4 pt-8",children:t.name},`z-${e}`):i.jsx(Jn,{className:"text-gray-700",activeName:"text-blue-700",to:t.path,children:i.jsxs("li",{className:"mx-2 px-4 py-3 transition hover:bg-blue-100 text-sm flex items-center justify-between hover:text-blue-700 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),i.jsx("div",{className:"ml-2 line-clamp-1",children:t.name})]}),t.label?i.jsx(_5,{label:t.label,primary:!0,className:"ml-2"}):null]},t.path)},t.path))})}function Qq(){const t=Yg(),e=j.useRef(new Map),n=Vg(),{pathname:r}=Si();j.useReducer(a=>!a)[1];const s=j.useRef(null);return e.current.has(r)||e.current.set(r,n),j.useEffect(()=>{location.pathname==="/tutorial"&&t("index")},[r]),i.jsxs("div",{className:"pt-16 flex",children:[i.jsx(De,{signal:!0,className:"fixed bottom-6 right-6 z-40 md:hidden",onClick:()=>s.current.show(),children:"目录"}),i.jsx(Zd,{ref:s,onClose:()=>s.current.close(),children:i.jsx("div",{className:"bg-white h-full py-4 overflow-scroll",children:i.jsx(sy,{})})}),i.jsxs("nav",{className:"hidden md:block w-60 sticky top-16 h-[calc(100vh_-_5rem)] overflow-y-auto bg-hei",children:[i.jsxs("div",{className:"flex items-center px-4 py-8",children:[i.jsx("div",{className:"flex items-center justify-between p-1 border mr-3 rounded-md border-cyan-200",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-5 text-cyan-500",children:i.jsx("path",{fillRule:"evenodd",d:"M19.5 21a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-5.379a.75.75 0 0 1-.53-.22L11.47 3.66A2.25 2.25 0 0 0 9.879 3H4.5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h15Zm-6.75-10.5a.75.75 0 0 0-1.5 0v4.19l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V10.5Z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{children:"当前版本"}),i.jsx("div",{className:"text-gray-500",children:"React@19.0.0-rc"})]})]}),i.jsx("ul",{className:"border-r h-[calc(100vh_-_9rem_-_35px)] overflow-y-auto pb-8",children:i.jsx(sy,{})})]}),i.jsx("div",{className:"w-full md:w-[calc(100vw_-_15rem)] p-8 min-h-[calc(100vh_-_5rem)] box-border",children:Array.from(e.current).map(([a,l])=>i.jsx("div",{style:{display:r===a?"block":"none"},children:l},a))})]})}function iy(t){const e={code:"code",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"基础使用"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<Button>hello button</Button>
`})}),`
`,i.jsx("div",{children:i.jsx(De,{children:"hello button"})}),`
`,i.jsx(e.p,{children:"类型"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<Button danger>Danger</Button>
<Button primary>Primary</Button>
<Button success>Success</Button>
<Button signal>Signal</Button>
`})}),`
`,i.jsx(ne,{children:i.jsxs("div",{className:"mt-4 flex justify-around",children:[i.jsx(De,{danger:!0,children:"Danger"}),i.jsx(De,{primary:!0,children:"Primary"}),i.jsx(De,{success:!0,children:"Success"}),i.jsx(De,{signal:!0,children:"Signal"})]})}),`
`,i.jsx(e.p,{children:"大小"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<Button danger sm className="mr-4">Danger</Button>
<Button danger className="mr-4">Danger</Button>
<Button danger lg>Danger</Button>
`})}),`
`,i.jsxs(ne,{children:[i.jsxs("div",{className:"mt-4",children:[i.jsx(De,{danger:!0,sm:!0,className:"mr-4",children:"Danger"}),i.jsx(De,{danger:!0,className:"mr-4",children:"Danger"}),i.jsx(De,{danger:!0,lg:!0,children:"Danger"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx(De,{success:!0,lg:!0,className:"mr-4",children:"Success"}),i.jsx(De,{success:!0,className:"mr-4",children:"Success"}),i.jsx(De,{success:!0,sm:!0,children:"Success"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx(De,{primary:!0,sm:!0,className:"mr-4",children:"Primary"}),i.jsx(De,{primary:!0,className:"mr-4",children:"Primary"}),i.jsx(De,{primary:!0,lg:!0,children:"Primary"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx(De,{signal:!0,lg:!0,className:"mr-4",children:"Signal"}),i.jsx(De,{signal:!0,className:"mr-4",children:"Signal"}),i.jsx(De,{signal:!0,sm:!0,children:"Signal"})]})]}),`
`,i.jsx(e.p,{children:"完整源码"}),`
`,i.jsx(C3,{files:{"index.jsx":_s},activeFile:"index.jsx"})]})}function Aq(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(iy,{...t})}):iy(t)}function Pq(){return i.jsx(Zs,{renderArticle:t=>i.jsx(Aq,{components:{code:t}}),isGiscus:!1})}function ay(t){const e={code:"code",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"Input 基础使用"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<Input placeholder="请输入任意内容" />
`})}),`
`,i.jsx(ne,{children:i.jsx(Mn,{placeholder:"请输入任意内容"})})]})}function _q(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(ay,{...t})}):ay(t)}function Eq(){return i.jsx(Zs,{renderArticle:t=>i.jsx(_q,{components:{code:t}}),isGiscus:!1})}function Mq(t){return i.jsx("div",{className:"border border-blue-300 shadow rounded-md p-4 max-w-sm w-full mx-auto",children:i.jsxs("div",{className:"animate-pulse flex space-x-4",children:[i.jsx("div",{className:"rounded-full bg-slate-200 h-10 w-10"}),i.jsxs("div",{className:"flex-1 space-y-6 py-1",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-2"}),i.jsx("div",{className:"h-2 bg-slate-200 rounded col-span-1"})]}),i.jsx("div",{className:"h-2 bg-slate-200 rounded"})]})]})]})})}function ly(t){const e={code:"code",p:"p",pre:"pre",...t.components};return i.jsxs(i.Fragment,{children:[i.jsx(e.p,{children:"基础使用"}),`
`,i.jsx(e.pre,{children:i.jsx(e.code,{className:"language-html",children:`<Skeleton />
`})}),`
`,i.jsx(Mq,{})]})}function Dq(t={}){const{wrapper:e}=t.components||{};return e?i.jsx(e,{...t,children:i.jsx(ly,{...t})}):ly(t)}function Zq(){return i.jsx(Zs,{renderArticle:t=>i.jsx(Dq,{components:{code:t}}),isGiscus:!1})}const A3=[{type:"tip",name:"基础组件"},{path:"button",name:"1、按钮 Button",component:Pq},{path:"input",name:"2、输入框 Input",component:Eq},{path:"skeleton",name:"2、骨架屏 Skeleton",component:Zq}];function zq(){const t=Yg(),e=j.useRef(new Map),n=Vg(),{pathname:r}=Si(),s=j.useReducer(a=>!a)[1];return e.current.has(r)||e.current.set(r,n),j.useEffect(()=>{location.pathname==="/component"&&t("button")},[r]),i.jsxs("div",{className:"pt-16 flex",children:[i.jsxs("nav",{className:"hidden md:block w-60 sticky top-16 h-[calc(100vh_-_5rem)] overflow-y-auto bg-hei",children:[i.jsxs("div",{className:"flex items-center px-4 py-8",children:[i.jsx("div",{className:"flex items-center justify-between p-1 border mr-3 rounded-md border-cyan-200",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-5 text-cyan-500",children:i.jsx("path",{fillRule:"evenodd",d:"M19.5 21a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-5.379a.75.75 0 0 1-.53-.22L11.47 3.66A2.25 2.25 0 0 0 9.879 3H4.5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h15Zm-6.75-10.5a.75.75 0 0 0-1.5 0v4.19l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V10.5Z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{children:"当前版本"}),i.jsx("div",{className:"text-gray-500",children:"React@19.0.0-rc"})]})]}),i.jsx("ul",{className:"border-r h-[calc(100vh_-_9rem_-_35px)] overflow-y-auto pb-8",children:A3.map((a,l)=>a.type==="tip"?i.jsx("div",{className:"mx-2 text-sm px-4 text-gray-400 first:pt-0 pb-4 pt-8",children:a.name},`z-${l}`):i.jsx(Jn,{className:"text-gray-700",activeName:"text-blue-700",to:a.path,onClick:s,children:i.jsxs("li",{className:"mx-2 px-4 py-3 transition hover:bg-blue-100 text-sm flex items-center justify-between hover:text-blue-700 rounded",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),i.jsx("div",{className:"ml-2 line-clamp-1",children:a.name})]}),a.label?i.jsx(_5,{label:a.label,primary:!0,className:"ml-2"}):null]},a.path)},a.path))})]}),i.jsx("div",{className:"w-full md:w-[calc(100vw_-_15rem)] p-8 min-h-[calc(100vh_-_5rem)] box-border",children:Array.from(e.current).map(([a,l])=>i.jsx("div",{style:{display:r===a?"block":"none"},children:l},a))})]})}function Lq(){return i.jsxs("div",{children:[i.jsx(j8,{className:"line"}),i.jsx(y$,{})]})}function Bq(){return i.jsx(S$,{children:i.jsxs(ts,{path:"/",element:i.jsx(Lq,{}),children:[i.jsx(ts,{index:!0,element:i.jsx(b9,{})}),i.jsx(ts,{path:"tutorial",element:i.jsx(Qq,{}),children:Q3.filter(t=>!!t.path).map((t,e)=>i.jsx(ts,{path:t.path,element:i.jsx(j.Suspense,{fallback:i.jsx(yx,{}),children:i.jsx(t.component,{})})},t.path))}),i.jsx(ts,{path:"component",element:i.jsx(zq,{}),children:A3.filter(t=>!!t.path).map((t,e)=>i.jsx(ts,{path:t.path,element:i.jsx(j.Suspense,{fallback:i.jsx(yx,{}),children:i.jsx(t.component,{})})},t.path))}),i.jsx(ts,{path:"*",element:i.jsx("div",{children:"nothingsdfsdfsdf"})})]})})}P6.createRoot(document.getElementById("root")).render(i.jsx(j.StrictMode,{children:i.jsx(R$,{children:i.jsx(Bq,{})})}));export{Wx as S,Xq as _,fC as a,pC as b,Ii as c,mC as d,Wl as e,xC as f,OC as g,Uq as h,D5 as i,vC as j,Fh as n};
