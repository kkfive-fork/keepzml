import{c as b,r as h,j as s}from"./index-Di4F1x74.js";async function S(e){return await new Promise(n=>setTimeout(n,1e3)),e}const M="_form_1hxjz_14",w="_form_item_1hxjz_14",z="_label_1hxjz_18",E="_primary_1hxjz_33",R={form:M,form_item:w,label:z,primary:E};function A(){const e=b.c(16);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];const[m,y]=h.useState(n);let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=(t,r)=>[...t,{text:r,sending:!0}],e[1]=c):c=e[1];const[p,d]=h.useOptimistic(m,c),l=h.useRef(null);let a;e[2]!==d||e[3]!==m?(a=async function(r){const u=r.get("message");d(u),l.current.reset();const j=await S(u);y([...m,{text:j}])},e[2]=d,e[3]=m,e[4]=a):a=e[4];const g=a;let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("input",{type:"text",name:"message",placeholder:"enter your message"}),e[5]=f):f=e[5];let _;e[6]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("button",{type:"submit",style:{marginLeft:"10px"},children:"Send"}),e[6]=_):_=e[6];let i;e[7]!==g||e[8]!==l?(i=s.jsxs("form",{id:R.form,action:g,ref:l,children:[f,_]}),e[7]=g,e[8]=l,e[9]=i):i=e[9];let o;if(e[10]!==p){let t;e[12]===Symbol.for("react.memo_cache_sentinel")?(t=(r,u)=>s.jsxs("div",{children:[r.text,!!r.sending&&s.jsx("small",{children:" (Sending...)"})]},u),e[12]=t):t=e[12],o=p.map(t),e[10]=p,e[11]=o}else o=e[11];let x;return e[13]!==i||e[14]!==o?(x=s.jsxs(s.Fragment,{children:[i,o]}),e[13]=i,e[14]=o,e[15]=x):x=e[15],x}export{A as default};
