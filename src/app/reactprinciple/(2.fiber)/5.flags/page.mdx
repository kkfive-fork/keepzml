
```ts ReactFiberFlags.js
import {enableCreateEventHandleAPI} from 'shared/ReactFeatureFlags';

export type Flags = number;

// 无标记
export const NoFlags = /*                      */ 0b0000000000000000000000000000;

// 已经执行工作
export const PerformedWork = /*                */ 0b0000000000000000000000000001;

// 需要插入或者移动
export const Placement = /*                    */ 0b0000000000000000000000000010;

// 捕获到错误
export const DidCapture = /*                   */ 0b0000000000000000000010000000;

// 正在注水
export const Hydrating = /*                    */ 0b0000000000000001000000000000;

// 需要更新
export const Update = /*                       */ 0b0000000000000000000000000100;

// 节点被克隆
export const Cloned = /*                       */ 0b0000000000000000000000001000;

// 子节点需要删除
export const ChildDeletion = /*                */ 0b0000000000000000000000010000;

// 内容需要重置
export const ContentReset = /*                 */ 0b0000000000000000000000100000;

// 有回调需要执行
export const Callback = /*                     */ 0b0000000000000000000001000000;
/* Used by DidCapture:                            0b0000000000000000000010000000; */

// 强制客户端组件渲染
export const ForceClientRender = /*            */ 0b0000000000000000000100000000;

// ref 需要更新
export const Ref = /*                          */ 0b0000000000000000001000000000;

// 需要获取快照
export const Snapshot = /*                     */ 0b0000000000000000010000000000;

// 有 passive effects，对应 useEffect
export const Passive = /*                      */ 0b0000000000000000100000000000;
/* Used by Hydrating:                             0b0000000000000001000000000000; */

// 可见性发生变化
export const Visibility = /*                   */ 0b0000000000000010000000000000;

// 存储一致性
export const StoreConsistency = /*             */ 0b0000000000000100000000000000;

// It's OK to reuse these bits because these flags are mutually exclusive for
// different fiber types. We should really be doing this for as many flags as
// possible, because we're about to run out of bits.

// 调度重试
export const ScheduleRetry = StoreConsistency; 

// 应该挂起提交
export const ShouldSuspendCommit = Visibility;

// 已推迟
export const DidDefer = ContentReset;

// 表单重置
export const FormReset = Snapshot;

// 标记生命周期
export const LifecycleEffectMask =
  Passive | Update | Callback | Ref | Snapshot | StoreConsistency;

// Union of all commit flags (flags with the lifetime of a particular commit)
export const HostEffectMask = /*               */ 0b0000000000000111111111111111;

// These are not really side effects, but we still reuse this field.
// 工作未完成
export const Incomplete = /*                   */ 0b0000000000001000000000000000;

// 需要捕获错误
export const ShouldCapture = /*                */ 0b0000000000010000000000000000;

// 强制更新遗留的 suspense
export const ForceUpdateForLegacySuspense = /* */ 0b0000000000100000000000000000;

// Context 已传播
export const DidPropagateContext = /*          */ 0b0000000001000000000000000000;

// 需要传播
export const NeedsPropagation = /*             */ 0b0000000010000000000000000000;

// 已分叉
export const Forked = /*                       */ 0b0000000100000000000000000000;

// Static tags describe aspects of a fiber that are not specific to a render,
// e.g. a fiber uses a passive effect (even if there are no updates on this particular render).
// This enables us to defer more work in the unmount case,
// since we can defer traversing the tree during layout to look for Passive effects,
// and instead rely on the static flag as a signal that there may be cleanup work.
// 有静态 ref
export const RefStatic = /*                    */ 0b0000001000000000000000000000;

// 有静态 Layout
export const LayoutStatic = /*                 */ 0b0000010000000000000000000000;

// 有静态 Passive
export const PassiveStatic = /*                */ 0b0000100000000000000000000000;

// 可能会挂起提交
export const MaySuspendCommit = /*             */ 0b0001000000000000000000000000;

// Flag used to identify newly inserted fibers. It isn't reset after commit unlike `Placement`.
export const PlacementDEV = /*                 */ 0b0010000000000000000000000000;
export const MountLayoutDev = /*               */ 0b0100000000000000000000000000;
export const MountPassiveDev = /*              */ 0b1000000000000000000000000000;
```