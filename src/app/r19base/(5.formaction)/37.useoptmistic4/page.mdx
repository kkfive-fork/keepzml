import CodeTabs from 'components/codehike/code-tabs'
import Demo01 from './demo01/preview'

<Demo01 />
<CodeTabs>
```jsx !!tabs index.tsx -c
!from ./demo01/index.tsx
```

```jsx !!tabs reducer.ts -c
!from ./demo01/reducer.ts
```

```jsx !!tabs api.ts -c
!from ./demo01/api.ts
```

```jsx !!tabs index.module.css -c
!from ./demo01/index.module.css
```
</CodeTabs>


再来实现一个比较常见的点赞按钮的交互逻辑。演示效果如上图所示。具体需求如下：

当按钮处于灰色状态时，表示用户还未点赞该文章。点击之后，变成红色，表示点赞。

当按钮处于红色状态时，表示用户已经点赞该文章。点击之后变成灰色，表示取消点赞。

解决方案与前面提到的完全一致，同时也结合了 `useTransition` ，我们就不再一一分析步骤。

在 api 的请求中，我们可以通过判断随机数的大小来模拟请求失败时的表现。目前请求失败的概率是 10%

```ts api.ts -c
!from ./demo01/api.ts
```
